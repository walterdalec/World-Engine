{"version":3,"file":"static/js/main.d208099d.js","mappings":"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","sources":["../node_modules/react/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/scheduler/cjs/scheduler.production.min.js","visuals/assets.ts","../node_modules/react-dom/client.js","../node_modules/react/jsx-runtime.js","visuals/manifest.ts","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/scheduler/index.js","../node_modules/react-dom/index.js","../webpack/bootstrap","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","visuals/classmap.ts","visuals/seed.ts","visuals/renderer2d.tsx","visuals/service.ts","visuals/PortraitPreview.tsx","visuals/index.ts","components/MainMenu.tsx","components/WorldSetupScreen.tsx","components/CharacterLibrary.tsx","defaultWorlds.ts","components/CharacterCreate.tsx","components/NameGenerator.tsx","components/PremadeSpells.tsx","components/CustomSpellCreator.tsx","components/SpellGenerator.tsx","components/SpellAssignment.tsx","components/HealingSystem.tsx","proc/noise.ts","proc/chunks.ts","proc/physicalAbilities.ts","proc/magicalSpells.ts","proc/chokepoints.ts","engine/index.ts","components/GameHUD.tsx","components/GameMenu.tsx","components/WorldRenderer.tsx","components/GameModals.tsx","components/WorldMapEngine.tsx","pages/PortraitTest.tsx","index.tsx","visuals/preloader.ts"],"sourcesContent":["'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};function X(){throw Error(\"act(...) is not supported in production builds of React.\");}\nexports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;exports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;exports.act=X;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=X;exports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};\nexports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};exports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};\nexports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};exports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.3.1\";\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","// Visual Asset Management System\n// Handles loading, caching, and organizing visual assets for character generation\n\nimport { VisualAsset } from './types';\n\ninterface AssetManifest {\n    version: string;\n    lastUpdated: string;\n    assets: VisualAsset[];\n    categories: string[];\n    species: string[];\n    archetypes: string[];\n}\n\nclass VisualAssetManager {\n    private assets: Map<string, VisualAsset> = new Map();\n    private manifest: AssetManifest | null = null;\n    private loadingPromise: Promise<void> | null = null;\n\n    /**\n     * Initialize the asset system by loading the manifest\n     */\n    async initialize(): Promise<void> {\n        if (this.loadingPromise) {\n            return this.loadingPromise;\n        }\n\n        this.loadingPromise = this.loadManifest();\n        return this.loadingPromise;\n    }\n\n    /**\n     * Load the asset manifest from public/assets/portraits/manifest.json\n     */\n    private async loadManifest(): Promise<void> {\n        try {\n            // Use bullet-proof URL construction with PUBLIC_URL support\n            const publicUrl = process.env.PUBLIC_URL || '';\n            const basePath = publicUrl.replace(/\\/+$/, '');\n            const manifestUrl = new URL(`${basePath}/assets/portraits/manifest.json`, window.location.origin).toString();\n\n            console.log('Loading portrait manifest from:', manifestUrl);\n            const response = await fetch(manifestUrl, { cache: 'no-store' });\n            if (!response.ok) {\n                console.warn('Portrait manifest not found, using empty asset system');\n                this.initializeEmptyManifest();\n                return;\n            }\n\n            this.manifest = await response.json();\n            console.log('Portrait manifest loaded:', this.manifest);\n            this.indexAssets();\n        } catch (error) {\n            console.warn('Failed to load portrait manifest:', error);\n            this.initializeEmptyManifest();\n        }\n    }\n\n    /**\n     * Initialize with empty manifest for development\n     */\n    private initializeEmptyManifest(): void {\n        this.manifest = {\n            version: '1.0.0',\n            lastUpdated: new Date().toISOString(),\n            assets: [],\n            categories: ['base', 'hair', 'eyes', 'clothing', 'accessories'],\n            species: ['Human', 'Sylvanborn', 'Nightborn', 'Stormcaller', 'Crystalborn', 'Draketh', 'Alloy', 'Voidkin'],\n            archetypes: ['Warrior', 'Scout', 'Mage', 'Guardian', 'Ranger', 'Rogue', 'Artificer', 'Thorn Knight', 'Ashblade', 'Ironclad', 'Stormbreaker', 'Voidhunter', 'Crystal Guardian', 'Greenwarden']\n        };\n    }\n\n    /**\n     * Index assets for quick lookup\n     */\n    private indexAssets(): void {\n        if (!this.manifest) return;\n\n        this.assets.clear();\n        for (const asset of this.manifest.assets) {\n            this.assets.set(asset.id, asset);\n        }\n    }\n\n    /**\n     * Get assets by category\n     */\n    getAssetsByCategory(category: string): VisualAsset[] {\n        return Array.from(this.assets.values()).filter(asset => asset.category === category);\n    }\n\n    /**\n     * Get assets for specific species\n     */\n    getAssetsForSpecies(species: string): VisualAsset[] {\n        return Array.from(this.assets.values()).filter(asset =>\n            !asset.species || asset.species.includes(species)\n        );\n    }\n\n    /**\n     * Get assets for specific archetype\n     */\n    getAssetsForArchetype(archetype: string): VisualAsset[] {\n        return Array.from(this.assets.values()).filter(asset =>\n            !asset.archetype || asset.archetype.includes(archetype)\n        );\n    }\n\n    /**\n     * Get filtered assets\n     */\n    getFilteredAssets(filters: {\n        category?: string;\n        species?: string;\n        archetype?: string;\n        tags?: string[];\n    }): VisualAsset[] {\n        return Array.from(this.assets.values()).filter(asset => {\n            if (filters.category && asset.category !== filters.category) return false;\n            if (filters.species && asset.species && !asset.species.includes(filters.species)) return false;\n            if (filters.archetype && asset.archetype && !asset.archetype.includes(filters.archetype)) return false;\n            if (filters.tags && asset.tags) {\n                const hasAnyTag = filters.tags.some(tag => asset.tags!.includes(tag));\n                if (!hasAnyTag) return false;\n            }\n            return true;\n        });\n    }\n\n    /**\n     * Get asset by ID\n     */\n    getAsset(id: string): VisualAsset | undefined {\n        return this.assets.get(id);\n    }\n\n    /**\n     * Build bullet-proof asset URLs that work across all deployment scenarios\n     */\n    private assetUrl(relPath: string): string {\n        // Get the base path from PUBLIC_URL (e.g., \"/World-Engine/\" for GitHub Pages)\n        const publicUrl = process.env.PUBLIC_URL || '';\n        const origin = window.location.origin;\n\n        // Normalize the public URL path\n        const basePath = publicUrl.replace(/\\/+$/, ''); // Remove trailing slashes\n        const assetsPath = `${basePath}/assets/portraits/`;\n\n        const cleanRel = relPath.replace(/^\\/+/, ''); // e.g. \"base/human.svg\"\n\n        // Build the full URL: origin + basePath + /assets/portraits/ + relativePath\n        return new URL(`${assetsPath}${cleanRel}`, origin).toString();\n    }\n\n    /**\n     * Get full URL for an asset using bullet-proof URL building\n     */\n    getAssetUrl(asset: VisualAsset): string {\n        return this.assetUrl(asset.path);\n    }\n\n    /**\n     * Load asset content (SVG, image, etc.)\n     */\n    async loadAssetContent(asset: VisualAsset): Promise<string> {\n        try {\n            const url = this.getAssetUrl(asset);\n            console.log('🔍 ASSET MANAGER: Loading asset content from:', url);\n\n            const response = await fetch(url, { cache: 'no-store' });\n            if (!response.ok) {\n                throw new Error(`${response.status} ${response.statusText} - ${url}`);\n            }\n\n            const content = await response.text();\n\n            // Assert it's actually SVG content, not HTML error page\n            if (!/^<svg[\\s>]/i.test(content.trim())) {\n                throw new Error(`Not an SVG at ${url}: ${content.slice(0, 80)}…`);\n            }\n\n            return content;\n        } catch (error) {\n            console.error(`💥 ASSET MANAGER: Failed to load asset ${asset.id}:`, error);\n            return ''; // Return empty string as fallback\n        }\n    }\n\n    /**\n     * Get available categories\n     */\n    getCategories(): string[] {\n        return this.manifest?.categories || [];\n    }\n\n    /**\n     * Get supported species\n     */\n    getSupportedSpecies(): string[] {\n        return this.manifest?.species || [];\n    }\n\n    /**\n     * Get supported archetypes\n     */\n    getSupportedArchetypes(): string[] {\n        return this.manifest?.archetypes || [];\n    }\n\n    /**\n     * Check if assets are loaded\n     */\n    isLoaded(): boolean {\n        return this.manifest !== null;\n    }\n\n    /**\n     * Get asset statistics\n     */\n    getStats() {\n        return {\n            totalAssets: this.assets.size,\n            categories: this.getCategories().length,\n            species: this.getSupportedSpecies().length,\n            archetypes: this.getSupportedArchetypes().length,\n            version: this.manifest?.version || 'unknown'\n        };\n    }\n}\n\n// Singleton instance\nexport const assetManager = new VisualAssetManager();\n\n// Utility functions\nexport async function ensureAssetsLoaded(): Promise<void> {\n    await assetManager.initialize();\n}\n\n/**\n * Bullet-proof asset URL builder that works locally & on GitHub Pages\n */\nexport function assetUrl(relPath: string): string {\n    const origin = window.location.origin; // respects https, subpath host\n    const cleanRel = relPath.replace(/^\\/+/, ''); // \"base/human.svg\"\n    return new URL(`/assets/portraits/${cleanRel}`, origin).toString();\n}\n\nexport function getAssetUrl(path: string): string {\n    const publicUrl = process.env.PUBLIC_URL || '';\n    const basePath = publicUrl.replace(/\\/+$/, '');\n    return new URL(`${basePath}/assets/portraits/${path}`, window.location.origin).toString();\n}\n\n// Get portrait assets organized by species and archetypes\nexport async function getPortraitAssets(): Promise<any> {\n    await ensureAssetsLoaded();\n\n    const species = assetManager.getSupportedSpecies();\n    const result: any = {};\n\n    for (const speciesName of species) {\n        result[speciesName] = {\n            archetypes: {}\n        };\n\n        // Get assets for this species\n        const speciesAssets = assetManager.getFilteredAssets({ species: speciesName });\n\n        // Group by archetypes if available\n        for (const asset of speciesAssets) {\n            if (asset.archetype && asset.archetype.length > 0) {\n                for (const archetype of asset.archetype) {\n                    if (!result[speciesName].archetypes[archetype]) {\n                        result[speciesName].archetypes[archetype] = [];\n                    }\n                    result[speciesName].archetypes[archetype].push(asset);\n                }\n            }\n        }\n    }\n\n    return result;\n}\n\n// Fallback chain for species\nexport function getFallbackSpecies(species: string): string | null {\n    // Define fallback chains for your actual game species\n    const fallbacks: Record<string, string[]> = {\n        'Sylvanborn': ['Human'], // Nature-based -> Human\n        'Nightborn': ['Human'],  // Shadow-based -> Human  \n        'Stormcaller': ['Human'], // Storm-based -> Human\n        'Crystalborn': ['Human'], // Crystal-based -> Human\n        'Draketh': ['Human'],     // Dragon-like -> Human\n        'Alloy': ['Human'],       // Mechanical -> Human\n        'Voidkin': ['Nightborn', 'Human'], // Void -> Shadow -> Human\n    };\n\n    // Try the direct fallbacks\n    if (species in fallbacks) {\n        for (const fallback of fallbacks[species]) {\n            return fallback; // Return the first fallback\n        }\n    }\n\n    // Default fallback for all species\n    return 'Human';\n}\n\n// Fallback chain for archetypes\nexport function getFallbackArchetype(species: string, archetype: string): string | null {\n    // Define fallback chains for your actual archetypes\n    const fallbacks: Record<string, Record<string, string[]>> = {\n        'Human': {\n            'Thorn Knight': ['Guardian', 'Warrior'],\n            'Ashblade': ['Warrior', 'Rogue'],\n            'Ironclad': ['Guardian', 'Warrior'],\n            'Stormbreaker': ['Warrior', 'Mage'],\n            'Voidhunter': ['Scout', 'Ranger'],\n            'Crystal Guardian': ['Guardian', 'Mage'],\n            'Greenwarden': ['Ranger', 'Scout'],\n        },\n        // Add more species-specific fallbacks\n    };\n\n    // Try species-specific archetype fallbacks\n    if (species in fallbacks && archetype in fallbacks[species]) {\n        for (const fallback of fallbacks[species][archetype]) {\n            return fallback; // Return the first fallback\n        }\n    }\n\n    // General archetype fallbacks using your actual archetypes\n    const generalFallbacks: Record<string, string[]> = {\n        'Thorn Knight': ['Guardian', 'Warrior'],\n        'Ashblade': ['Warrior', 'Rogue'],\n        'Ironclad': ['Guardian', 'Warrior'],\n        'Stormbreaker': ['Warrior', 'Mage'],\n        'Voidhunter': ['Scout', 'Ranger'],\n        'Crystal Guardian': ['Guardian', 'Mage'],\n        'Greenwarden': ['Ranger', 'Scout'],\n        'Warrior': ['Guardian', 'Scout'],\n        'Scout': ['Ranger', 'Warrior'],\n        'Mage': ['Guardian', 'Warrior'],\n        'Guardian': ['Warrior', 'Scout'],\n        'Ranger': ['Scout', 'Warrior'],\n        'Rogue': ['Scout', 'Warrior'],\n        'Artificer': ['Mage', 'Guardian'],\n    };\n\n    if (archetype in generalFallbacks) {\n        for (const fallback of generalFallbacks[archetype]) {\n            return fallback; // Return the first fallback\n        }\n    }\n\n    return null;\n}","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","// Visual Asset Layering System\n// Maps species + archetype combinations to asset layers for portrait generation\n\nimport { assetManager } from './assets';\n\nexport interface AssetLayer {\n    category: 'base' | 'face/eyes' | 'face/brows' | 'face/mouth' | 'hair' | 'facial_hair' | 'clothing/verdance' | 'clothing/ashenreach' | 'clothing/skyvault' | 'accessories' | 'weapons' | 'effects';\n    path: string;\n    zIndex: number;\n    optional?: boolean;\n    variants?: string[];\n}\n\nexport interface VisualManifestEntry {\n    species: string;\n    archetype: string;\n    layers: AssetLayer[];\n}\n\n// World Engine specific layered portrait configurations\nexport const WORLD_ENGINE_MANIFEST: Record<string, Record<string, AssetLayer[]>> = {\n    // Verdance World Classes\n    Human: {\n        'Greenwarden': [\n            { category: 'base', path: 'base/human.svg', zIndex: 1 },\n            { category: 'face/eyes', path: 'face/eyes/eyes_sharp.svg', zIndex: 15, optional: true },\n            { category: 'face/brows', path: 'face/brows/brows_thick.svg', zIndex: 16, optional: true },\n            { category: 'face/mouth', path: 'face/mouth/mouth_neutral.svg', zIndex: 17, optional: true },\n            { category: 'hair', path: 'hair/short_straight.svg', zIndex: 30, variants: ['hair/short_straight.svg', 'hair/topknot.svg', 'hair/undercut.svg'] },\n            { category: 'clothing/verdance', path: 'clothing/verdance/greenwarden.svg', zIndex: 20 },\n            { category: 'weapons', path: 'weapons/greenwarden_spear.svg', zIndex: 50, optional: true },\n            { category: 'accessories', path: 'accessories/leaf_circlet.svg', zIndex: 35, optional: true }\n        ],\n        'Thorn Knight': [\n            { category: 'base', path: 'base/human.svg', zIndex: 1 },\n            { category: 'face/eyes', path: 'face/eyes/eyes_heavy.svg', zIndex: 15, optional: true },\n            { category: 'face/brows', path: 'face/brows/brows_thick.svg', zIndex: 16, optional: true },\n            { category: 'hair', path: 'hair/short_straight.svg', zIndex: 30, variants: ['hair/short_straight.svg', 'hair/undercut.svg'] },\n            { category: 'clothing/verdance', path: 'clothing/verdance/thorn_knight.svg', zIndex: 20 },\n            { category: 'weapons', path: 'weapons/thorn_knight_morningstar.svg', zIndex: 50, optional: true }\n        ],\n        'Sapling Adept': [\n            { category: 'base', path: 'base/human.svg', zIndex: 1 },\n            { category: 'face/eyes', path: 'face/eyes/eyes_round.svg', zIndex: 15, optional: true },\n            { category: 'hair', path: 'hair/long_wavy.svg', zIndex: 30, variants: ['hair/long_wavy.svg', 'hair/curly.svg'] },\n            { category: 'clothing/verdance', path: 'clothing/verdance/sapling_adept.svg', zIndex: 20 },\n            { category: 'weapons', path: 'weapons/sapling_adept_staff.svg', zIndex: 50, optional: true },\n            { category: 'effects', path: 'effects/aura_verdance.svg', zIndex: 60, optional: true }\n        ],\n        'Bloomcaller': [\n            { category: 'base', path: 'base/human.svg', zIndex: 1 },\n            { category: 'face/eyes', path: 'face/eyes/eyes_glow.svg', zIndex: 15, optional: true },\n            { category: 'hair', path: 'hair/long_wavy.svg', zIndex: 30, variants: ['hair/long_wavy.svg', 'hair/curly.svg'] },\n            { category: 'clothing/verdance', path: 'clothing/verdance/bloomcaller.svg', zIndex: 20 },\n            { category: 'weapons', path: 'weapons/bloomcaller_rod.svg', zIndex: 50, optional: true },\n            { category: 'effects', path: 'effects/aura_verdance.svg', zIndex: 60, optional: true }\n        ],\n\n        // Ashenreach World Classes\n        'Ashblade': [\n            { category: 'base', path: 'base/human.svg', zIndex: 1 },\n            { category: 'face/eyes', path: 'face/eyes/eyes_sharp.svg', zIndex: 15, optional: true },\n            { category: 'hair', path: 'hair/short_straight.svg', zIndex: 30, variants: ['hair/short_straight.svg', 'hair/undercut.svg'] },\n            { category: 'clothing/ashenreach', path: 'clothing/ashenreach/ashblade.svg', zIndex: 20 },\n            { category: 'weapons', path: 'weapons/ashblade_sword.svg', zIndex: 50, optional: true },\n            { category: 'effects', path: 'effects/aura_ashenreach.svg', zIndex: 60, optional: true }\n        ],\n        'Cinder Mystic': [\n            { category: 'base', path: 'base/human.svg', zIndex: 1 },\n            { category: 'face/eyes', path: 'face/eyes/eyes_glow.svg', zIndex: 15, optional: true },\n            { category: 'hair', path: 'hair/long_wavy.svg', zIndex: 30, variants: ['hair/long_wavy.svg', 'hair/curly.svg'] },\n            { category: 'clothing/ashenreach', path: 'clothing/ashenreach/cinder_mystic.svg', zIndex: 20 },\n            { category: 'weapons', path: 'weapons/cinder_mystic_staff.svg', zIndex: 50, optional: true },\n            { category: 'effects', path: 'effects/aura_ashenreach.svg', zIndex: 60, optional: true }\n        ],\n        'Dust Ranger': [\n            { category: 'base', path: 'base/human.svg', zIndex: 1 },\n            { category: 'face/eyes', path: 'face/eyes/eyes_sharp.svg', zIndex: 15, optional: true },\n            { category: 'hair', path: 'hair/short_straight.svg', zIndex: 30, variants: ['hair/short_straight.svg', 'hair/shaved.svg'] },\n            { category: 'clothing/ashenreach', path: 'clothing/ashenreach/dust_ranger.svg', zIndex: 20 },\n            { category: 'weapons', path: 'weapons/dust_ranger_bow.svg', zIndex: 50, optional: true }\n        ],\n        'Bonechanter': [\n            { category: 'base', path: 'base/human.svg', zIndex: 1 },\n            { category: 'face/eyes', path: 'face/eyes/eyes_glow.svg', zIndex: 15, optional: true },\n            { category: 'hair', path: 'hair/locs.svg', zIndex: 30, variants: ['hair/locs.svg', 'hair/long_wavy.svg'] },\n            { category: 'clothing/ashenreach', path: 'clothing/ashenreach/bonechanter.svg', zIndex: 20 },\n            { category: 'weapons', path: 'weapons/bonechanter_totem.svg', zIndex: 50, optional: true },\n            { category: 'accessories', path: 'accessories/bone_charm.svg', zIndex: 35, optional: true }\n        ],\n\n        // Skyvault World Classes  \n        'Stormcaller': [\n            { category: 'base', path: 'base/human.svg', zIndex: 1 },\n            { category: 'face/eyes', path: 'face/eyes/eyes_glow.svg', zIndex: 15, optional: true },\n            { category: 'hair', path: 'hair/long_wavy.svg', zIndex: 30, variants: ['hair/long_wavy.svg', 'hair/curly.svg'] },\n            { category: 'clothing/skyvault', path: 'clothing/skyvault/stormcaller_cls.svg', zIndex: 20 },\n            { category: 'weapons', path: 'weapons/stormcaller_cls_staff.svg', zIndex: 50, optional: true },\n            { category: 'accessories', path: 'accessories/storm_goggles.svg', zIndex: 35, optional: true },\n            { category: 'effects', path: 'effects/aura_storm.svg', zIndex: 60, optional: true }\n        ],\n        'Voidwing': [\n            { category: 'base', path: 'base/human.svg', zIndex: 1 },\n            { category: 'face/eyes', path: 'face/eyes/eyes_sharp.svg', zIndex: 15, optional: true },\n            { category: 'hair', path: 'hair/undercut.svg', zIndex: 30, variants: ['hair/undercut.svg', 'hair/short_straight.svg'] },\n            { category: 'clothing/skyvault', path: 'clothing/skyvault/voidwing.svg', zIndex: 20 },\n            { category: 'weapons', path: 'weapons/voidwing_daggers.svg', zIndex: 50, optional: true },\n            { category: 'accessories', path: 'accessories/feather_cloak.svg', zIndex: 25, optional: true },\n            { category: 'effects', path: 'effects/aura_void.svg', zIndex: 60, optional: true }\n        ],\n        'Sky Knight': [\n            { category: 'base', path: 'base/human.svg', zIndex: 1 },\n            { category: 'face/eyes', path: 'face/eyes/eyes_heavy.svg', zIndex: 15, optional: true },\n            { category: 'hair', path: 'hair/short_straight.svg', zIndex: 30, variants: ['hair/short_straight.svg', 'hair/topknot.svg'] },\n            { category: 'clothing/skyvault', path: 'clothing/skyvault/sky_knight.svg', zIndex: 20 },\n            { category: 'weapons', path: 'weapons/sky_knight_lance.svg', zIndex: 50, optional: true },\n            { category: 'effects', path: 'effects/aura_skyvault.svg', zIndex: 60, optional: true }\n        ],\n        'Wind Sage': [\n            { category: 'base', path: 'base/human.svg', zIndex: 1 },\n            { category: 'face/eyes', path: 'face/eyes/eyes_round.svg', zIndex: 15, optional: true },\n            { category: 'hair', path: 'hair/long_wavy.svg', zIndex: 30, variants: ['hair/long_wavy.svg', 'hair/topknot.svg'] },\n            { category: 'clothing/skyvault', path: 'clothing/skyvault/wind_sage.svg', zIndex: 20 },\n            { category: 'weapons', path: 'weapons/wind_sage_fan.svg', zIndex: 50, optional: true },\n            { category: 'effects', path: 'effects/aura_skyvault.svg', zIndex: 60, optional: true }\n        ]\n    },\n\n    // Add other species using the base + world-specific clothing approach\n    Draketh: {\n        'Greenwarden': [\n            { category: 'base', path: 'base/draketh.svg', zIndex: 1 },\n            { category: 'clothing/verdance', path: 'clothing/verdance/greenwarden.svg', zIndex: 20 },\n            { category: 'weapons', path: 'weapons/greenwarden_spear.svg', zIndex: 50, optional: true }\n        ],\n        'Thorn Knight': [\n            { category: 'base', path: 'base/draketh.svg', zIndex: 1 },\n            { category: 'clothing/verdance', path: 'clothing/verdance/thorn_knight.svg', zIndex: 20 },\n            { category: 'weapons', path: 'weapons/thorn_knight_morningstar.svg', zIndex: 50, optional: true }\n        ]\n        // Add more classes as needed\n    },\n\n    Sylvanborn: {\n        'Greenwarden': [\n            { category: 'base', path: 'base/sylvanborn.svg', zIndex: 1 },\n            { category: 'clothing/verdance', path: 'clothing/verdance/greenwarden.svg', zIndex: 20 },\n            { category: 'weapons', path: 'weapons/greenwarden_spear.svg', zIndex: 50, optional: true },\n            { category: 'effects', path: 'effects/aura_verdance.svg', zIndex: 60, optional: true }\n        ],\n        'Thorn Knight': [\n            { category: 'base', path: 'base/sylvanborn.svg', zIndex: 1 },\n            { category: 'clothing/verdance', path: 'clothing/verdance/thorn_knight.svg', zIndex: 20 },\n            { category: 'weapons', path: 'weapons/thorn_knight_morningstar.svg', zIndex: 50, optional: true }\n        ]\n        // Add more classes as needed\n    }\n};\n\n/**\n * Get asset layers for a species + archetype combination\n */\nexport function getAssetLayers(species: string, archetype: string): AssetLayer[] {\n    // Use the new World Engine manifest\n    const speciesManifest = WORLD_ENGINE_MANIFEST[species];\n    if (!speciesManifest) {\n        // console.warn(`No visual manifest found for species: ${species}`);\n        // Try to provide a basic fallback using the species base\n        const fallbackLayers: AssetLayer[] = [\n            { category: 'base', path: `base/${(species || 'human').toLowerCase()}.svg`, zIndex: 1 }\n        ];\n        // Add basic clothing if available\n        const verdanceClasses = ['Greenwarden', 'Thorn Knight', 'Sapling Adept', 'Bloomcaller'];\n        const ashenreachClasses = ['Ashblade', 'Cinder Mystic', 'Dust Ranger', 'Bonechanter'];\n        const skyvaultClasses = ['Stormcaller', 'Voidwing', 'Sky Knight', 'Wind Sage'];\n\n        let world = '';\n        if (verdanceClasses.includes(archetype)) world = 'verdance';\n        else if (ashenreachClasses.includes(archetype)) world = 'ashenreach';\n        else if (skyvaultClasses.includes(archetype)) world = 'skyvault';\n\n        if (world) {\n            fallbackLayers.push({\n                category: `clothing/${world}` as AssetLayer['category'],\n                path: `clothing/${world}/${(archetype || 'warrior').toLowerCase().replace(/ /g, '_')}.svg`,\n                zIndex: 20\n            });\n        }\n\n        return fallbackLayers;\n    }\n\n    const layers = speciesManifest[archetype];\n    if (!layers) {\n        // console.warn(`No visual layers found for ${species} ${archetype}`);\n        return speciesManifest.Greenwarden || speciesManifest['Thorn Knight'] || []; // Fallback to available classes\n    }\n\n    return layers;\n}\n\n/**\n * Load and layer assets into a composite portrait\n */\nexport async function loadLayeredPortrait(species: string, archetype: string, characterName?: string): Promise<string> {\n    console.log(`🎨 MANIFEST: loadLayeredPortrait called for ${species} ${archetype} (${characterName})`);\n    const layers = getAssetLayers(species, archetype);\n    console.log(`🎨 MANIFEST: Found ${layers.length} layers:`, layers);\n\n    if (layers.length === 0) {\n        console.warn(`⚠️ MANIFEST: No layers found for ${species} ${archetype}, using fallback`);\n        return '<svg width=\"300\" height=\"380\" viewBox=\"0 0 300 380\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"100%\" height=\"100%\" fill=\"#374151\"/><text x=\"150\" y=\"190\" text-anchor=\"middle\" fill=\"#9ca3af\" font-size=\"14\">No Portrait</text></svg>';\n    }\n\n    try {\n        // Sort layers by zIndex\n        const sortedLayers = [...layers].sort((a, b) => a.zIndex - b.zIndex);\n\n        // Load all layer assets\n        const layerContents: string[] = [];\n        for (const layer of sortedLayers) {\n            try {\n                let assetPath = layer.path;\n\n                // Handle variants - pick random or based on character name\n                if (layer.variants && layer.variants.length > 0) {\n                    if (characterName) {\n                        // Use character name as seed for consistent variants\n                        const seed = characterName.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);\n                        assetPath = layer.variants[seed % layer.variants.length];\n                    } else {\n                        assetPath = layer.variants[Math.floor(Math.random() * layer.variants.length)];\n                    }\n                }\n\n                const assetContent = await assetManager.loadAssetContent({\n                    path: assetPath,\n                    category: layer.category,\n                    id: `${species}_${archetype}_${layer.category}`\n                } as any);\n                if (assetContent) {\n                    layerContents.push(assetContent);\n                } else if (!layer.optional) {\n                    console.warn(`Failed to load required layer: ${assetPath}`);\n                }\n            } catch (error) {\n                if (!layer.optional) {\n                    console.error(`Error loading layer ${layer.path}:`, error);\n                }\n            }\n        }\n\n        // Combine all layers into a single SVG\n        const compositeSVG = combineLayersToSVG(layerContents);\n        return compositeSVG;\n\n    } catch (error) {\n        console.error('Error creating layered portrait:', error);\n        return '<svg width=\"300\" height=\"380\" viewBox=\"0 0 300 380\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"100%\" height=\"100%\" fill=\"#ef4444\" opacity=\"0.2\"/><text x=\"150\" y=\"190\" text-anchor=\"middle\" fill=\"#dc2626\" font-size=\"14\">Error Loading</text></svg>';\n    }\n}\n\n/**\n * Combine multiple SVG layer contents into a single composite SVG\n */\nfunction combineLayersToSVG(layerContents: string[]): string {\n    const svgElements: string[] = [];\n\n    for (const content of layerContents) {\n        if (!content.trim()) continue;\n\n        // Extract content between svg tags (remove svg wrapper)\n        const match = content.match(/<svg[^>]*>([\\s\\S]*?)<\\/svg>/);\n        if (match && match[1]) {\n            svgElements.push(match[1].trim());\n        }\n    }\n\n    // Combine into final composite SVG\n    return `<svg width=\"300\" height=\"380\" viewBox=\"0 0 300 380\" xmlns=\"http://www.w3.org/2000/svg\">\n        ${svgElements.join('\\n')}\n    </svg>`;\n}\n\n/**\n * Check if a species + archetype combination is supported\n */\nexport function isSupported(species: string, archetype: string): boolean {\n    const speciesManifest = WORLD_ENGINE_MANIFEST[species];\n    return !!(speciesManifest && speciesManifest[archetype]);\n}\n\n/**\n * Get all supported species\n */\nexport function getSupportedSpecies(): string[] {\n    return Object.keys(WORLD_ENGINE_MANIFEST);\n}\n\n/**\n * Get all supported archetypes for a species\n */\nexport function getSupportedArchetypes(species: string): string[] {\n    const speciesManifest = WORLD_ENGINE_MANIFEST[species];\n    return speciesManifest ? Object.keys(speciesManifest) : [];\n}\n\n// Enhanced portrait loading with external manifest support\nexport async function loadExternalManifest(): Promise<any> {\n    try {\n        // Use bullet-proof URL construction with PUBLIC_URL support\n        const publicUrl = process.env.PUBLIC_URL || '';\n        const basePath = publicUrl.replace(/\\/+$/, '');\n        const url = new URL(`${basePath}/assets/portraits/manifest.json`, window.location.origin).toString();\n        console.log('� Fetching external manifest from:', url);\n        const response = await fetch(url, { cache: 'no-store' });\n\n        console.log('📡 Response status:', response.status, response.statusText);\n\n        if (!response.ok) {\n            throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n        }\n\n        const text = await response.text();\n        console.log('📄 Response preview:', text.substring(0, 100));\n\n        if (text.startsWith('<!DOCTYPE') || text.startsWith('<html')) {\n            throw new Error('Received HTML instead of JSON - possible routing issue');\n        }\n\n        const manifest = JSON.parse(text);\n        console.log('✅ External manifest loaded successfully:', manifest.version);\n        return manifest;\n    } catch (error) {\n        // console.warn('Failed to load external manifest, using internal:', error);\n        return null;\n    }\n}\n\n// Load portrait using external manifest.json structure\nexport async function loadPortraitFromExternalManifest(species: string, archetype: string): Promise<string> {\n    try {\n        console.log(`🎨 Loading portrait from external manifest: ${species} ${archetype}`);\n        const externalManifest = await loadExternalManifest();\n        if (!externalManifest) {\n            console.log('External manifest not available, falling back to internal');\n            return loadLayeredPortrait(species, archetype);\n        }\n\n        // Find species in external manifest with proper null checking\n        const speciesData = externalManifest.species?.find((s: any) =>\n            s?.name?.toLowerCase() === species?.toLowerCase()\n        );\n        if (!speciesData) {\n            console.warn(`Species ${species} not found in external manifest`);\n            return loadLayeredPortrait(species, archetype);\n        }\n\n        // Build layers from external manifest structure\n        const layers: AssetLayer[] = [];\n\n        // Base layer\n        layers.push({\n            category: 'base',\n            path: `base/${(speciesData.name || species).toLowerCase()}.svg`,\n            zIndex: 1\n        });\n\n        // Face components (if available)\n        if (externalManifest.categories.face) {\n            Object.keys(externalManifest.categories.face).forEach((faceType, index) => {\n                const faceAssets = externalManifest.categories.face[faceType];\n                if (faceAssets.length > 0) {\n                    layers.push({\n                        category: `face/${faceType}` as AssetLayer['category'],\n                        path: faceAssets[0], // Use first variant for now\n                        zIndex: 15 + index,\n                        optional: true\n                    });\n                }\n            });\n        }\n\n        // Hair layer (use first available hair style)\n        if (externalManifest.categories.hair && externalManifest.categories.hair.length > 0) {\n            layers.push({\n                category: 'hair',\n                path: externalManifest.categories.hair[0],\n                zIndex: 30,\n                variants: externalManifest.categories.hair\n            });\n        }\n\n        // World-specific clothing based on archetype\n        const worldClothing = getWorldClothingForArchetype(archetype, externalManifest);\n        if (worldClothing) {\n            layers.push({\n                category: worldClothing.category as AssetLayer['category'],\n                path: worldClothing.path,\n                zIndex: 20\n            });\n        }\n\n        // Weapons and accessories (archetype-specific)\n        const archetypeAssets = getArchetypeAssets(archetype, externalManifest);\n        layers.push(...archetypeAssets);\n\n        // Sort and render\n        const sortedLayers = layers.sort((a, b) => a.zIndex - b.zIndex);\n        return await renderLayers(sortedLayers);\n\n    } catch (error) {\n        console.error('Error loading from external manifest:', error);\n        // Fall back to internal manifest\n        return loadLayeredPortrait(species, archetype);\n    }\n}\n\n// Helper function to determine world-specific clothing category\nfunction getWorldClothingForArchetype(archetype: string, manifest: any): { category: string, path: string } | null {\n    // Map archetypes to worlds\n    const verdanceClasses = ['Greenwarden', 'Thorn Knight', 'Sapling Adept', 'Bloomcaller'];\n    const ashenreachClasses = ['Ashblade', 'Cinder Mystic', 'Dust Ranger', 'Bonechanter'];\n    const skyvaultClasses = ['Stormcaller', 'Voidwing', 'Sky Knight', 'Wind Sage'];\n\n    let world = '';\n    if (verdanceClasses.includes(archetype)) world = 'verdance';\n    else if (ashenreachClasses.includes(archetype)) world = 'ashenreach';\n    else if (skyvaultClasses.includes(archetype)) world = 'skyvault';\n\n    if (!world) return null;\n\n    const clothingCategory = `clothing/${world}`;\n    if (manifest.categories.clothing && manifest.categories.clothing[world]) {\n        const archetypeClothing = manifest.categories.clothing[world].find((item: any) =>\n            item.includes((archetype || 'warrior').toLowerCase().replace(' ', '_'))\n        );\n        if (archetypeClothing) {\n            return {\n                category: clothingCategory,\n                path: archetypeClothing\n            };\n        }\n    }\n\n    return null;\n}\n\n// Helper function to get archetype-specific weapons and accessories\nfunction getArchetypeAssets(archetype: string, manifest: any): AssetLayer[] {\n    const layers: AssetLayer[] = [];\n\n    // Add weapons\n    if (manifest.categories.weapons) {\n        const weapon = manifest.categories.weapons.find((w: string) =>\n            w.includes((archetype || 'warrior').toLowerCase().replace(' ', '_'))\n        );\n        if (weapon) {\n            layers.push({\n                category: 'weapons',\n                path: weapon,\n                zIndex: 50,\n                optional: true\n            });\n        }\n    }\n\n    // Add accessories  \n    if (manifest.categories.accessories) {\n        const accessory = manifest.categories.accessories.find((a: string) =>\n            a.includes((archetype || 'warrior').toLowerCase().replace(' ', '_'))\n        );\n        if (accessory) {\n            layers.push({\n                category: 'accessories',\n                path: accessory,\n                zIndex: 35,\n                optional: true\n            });\n        }\n    }\n\n    // Add effects\n    if (manifest.categories.effects) {\n        const effect = manifest.categories.effects.find((e: string) =>\n            e.includes((archetype || 'warrior').toLowerCase().replace(' ', '_'))\n        );\n        if (effect) {\n            layers.push({\n                category: 'effects',\n                path: effect,\n                zIndex: 60,\n                optional: true\n            });\n        }\n    }\n\n    return layers;\n}\n\n// Helper function to render layers into final SVG\nasync function renderLayers(layers: AssetLayer[]): Promise<string> {\n    let svgElements = '';\n\n    for (const layer of layers) {\n        try {\n            const publicUrl = process.env.PUBLIC_URL || '';\n            const basePath = publicUrl.replace(/\\/+$/, '');\n            const svgPath = new URL(`${basePath}/assets/portraits/${layer.path}`, window.location.origin).toString();\n            const response = await fetch(svgPath, { cache: 'no-store' });\n\n            if (!response.ok) {\n                console.warn(`Failed to load asset: ${svgPath}`);\n                continue;\n            }\n\n            const svgContent = await response.text();\n            const match = svgContent.match(/<svg[^>]*>([\\s\\S]*)<\\/svg>/);  // Fixed regex flag\n            if (match) {\n                svgElements += match[1];\n            }\n        } catch (error) {\n            console.warn(`Error loading layer ${layer.path}:`, error);\n        }\n    }\n\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 300 400\" width=\"300\" height=\"400\">\n        ${svgElements}\n    </svg>`;\n}\n\n// Get available variants for a layer\nexport function getLayerVariants(species: string, archetype: string, category: string): string[] {\n    const layers = getAssetLayers(species, archetype);\n    const layer = layers.find(l => l.category === category);\n    return layer?.variants || [layer?.path || ''];\n}\n\n// Enhanced preset system integration\nexport interface PresetDefinition {\n    id: string;\n    label: string;\n    tags: string[];\n    species: string;\n    world: string;\n    archetype: string;\n    gender: string;\n    layers: string[];\n}\n\n// Load presets from external presets.json\nexport async function loadPresets(): Promise<PresetDefinition[]> {\n    try {\n        // Use bullet-proof URL construction with PUBLIC_URL support\n        const publicUrl = process.env.PUBLIC_URL || '';\n        const basePath = publicUrl.replace(/\\/+$/, '');\n        const url = new URL(`${basePath}/assets/portraits/presets.json`, window.location.origin).toString();\n        console.log('� Fetching presets from:', url);\n        const response = await fetch(url, { cache: 'no-store' });\n\n        console.log('📡 Presets response status:', response.status, response.statusText);\n\n        if (!response.ok) {\n            throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n        }\n\n        const text = await response.text();\n        console.log('📄 Presets response preview:', text.substring(0, 100));\n\n        if (text.startsWith('<!DOCTYPE') || text.startsWith('<html')) {\n            throw new Error('Received HTML instead of JSON - possible routing issue');\n        }\n\n        const presetData = JSON.parse(text);\n        // console.log('✅ Presets loaded successfully:', presetData.count, 'presets');\n        return presetData.presets || [];\n    } catch (error) {\n        // Silently fail for missing presets - this is expected during development\n        // console.warn('Failed to load presets:', error);\n        return [];\n    }\n}\n\n// Get preset by ID\nexport async function getPreset(presetId: string): Promise<PresetDefinition | null> {\n    const presets = await loadPresets();\n    return presets.find(p => p.id === presetId) || null;\n}\n\n// Get presets filtered by criteria\nexport async function getPresetsByFilter(filter: {\n    species?: string;\n    world?: string;\n    archetype?: string;\n    gender?: string;\n}): Promise<PresetDefinition[]> {\n    const presets = await loadPresets();\n    return presets.filter(preset => {\n        return (!filter.species || preset.species === filter.species) &&\n            (!filter.world || preset.world === filter.world) &&\n            (!filter.archetype || preset.archetype === filter.archetype) &&\n            (!filter.gender || preset.gender === filter.gender);\n    });\n}\n\n// Convert preset layers to AssetLayer format\nexport function presetToAssetLayers(preset: PresetDefinition): AssetLayer[] {\n    const zIndexMap: Record<string, number> = {\n        'base': 1,\n        'face/eyes': 15,\n        'face/brows': 16,\n        'face/mouth': 17,\n        'hair': 30,\n        'facial_hair': 25,\n        'clothing': 20,\n        'accessories': 35,\n        'weapons': 50,\n        'effects': 60\n    };\n\n    return preset.layers.map((layerPath, index) => {\n        // Determine category from path\n        const category = layerPath.split('/')[0] as AssetLayer['category'];\n        const fullCategory = layerPath.includes('/') ?\n            layerPath.split('/').slice(0, 2).join('/') as AssetLayer['category'] :\n            category;\n\n        return {\n            category: fullCategory,\n            path: layerPath,\n            zIndex: zIndexMap[category] || (10 + index),\n            optional: !['base'].includes(category)\n        };\n    }).sort((a, b) => a.zIndex - b.zIndex);\n}\n\n// Load portrait using preset system\nexport async function loadPortraitFromPreset(presetId: string): Promise<string> {\n    try {\n        const preset = await getPreset(presetId);\n        if (!preset) {\n            throw new Error(`Preset not found: ${presetId}`);\n        }\n\n        console.log(`🎭 Loading portrait from preset: ${preset.label}`);\n        const layers = presetToAssetLayers(preset);\n        return await renderLayers(layers);\n\n    } catch (error) {\n        console.error('Error loading preset:', error);\n        // Fallback to external manifest\n        return loadPortraitFromExternalManifest(\n            presetId.split('_')[0] || 'Human',\n            presetId.split('_')[2] || 'Greenwarden'\n        );\n    }\n}","/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;\nfunction Lg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction Mg(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function Ng(a){var b=a._init;return b(a._payload)}\nfunction Og(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Pg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Qg(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&Ng(f)===b.type))return d=e(b,c.props),d.ref=Lg(a,b,c),d.return=a,d;d=Rg(c.type,c.key,c.props,null,a.mode,d);d.ref=Lg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=Sg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Tg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=Qg(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=Rg(b.type,b.key,b.props,null,a.mode,c),\nc.ref=Lg(a,null,b),c.return=a,c;case wa:return b=Sg(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Tg(b,a.mode,c,null),b.return=a,b;Mg(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);Mg(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);Mg(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&Ng(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=Lg(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Tg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Rg(f.type,f.key,f.props,null,a.mode,h),h.ref=Lg(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=Sg(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);Mg(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=Qg(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var b=Wg.current;E(Wg);a._currentValue=b}function bh(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}\nfunction ch(a,b){Xg=a;Zg=Yg=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(dh=!0),a.firstContext=null)}function eh(a){var b=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:b,next:null},null===Yg){if(null===Xg)throw Error(p(308));Yg=a;Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return b}var fh=null;function gh(a){null===fh?fh=[a]:fh.push(a)}\nfunction hh(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,gh(b)):(c.next=e.next,e.next=c);b.interleaved=c;return ih(a,d)}function ih(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction lh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction nh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return ih(a,c)}e=d.interleaved;null===e?(b.next=b,gh(d)):(b.next=e.next,e.next=b);d.interleaved=b;return ih(a,c)}function oh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction ph(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction qh(a,b,c,d){var e=a.updateQueue;jh=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:jh=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);rh|=g;a.lanes=g;a.memoizedState=q}}\nfunction sh(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p(174));return a}\nfunction yh(a,b){G(wh,b);G(vh,a);G(uh,th);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(uh);G(uh,b)}function zh(){E(uh);E(vh);E(wh)}function Ah(a){xh(wh.current);var b=xh(uh.current);var c=lb(b,a.type);b!==c&&(G(vh,a),G(uh,c))}function Bh(a){vh.current===a&&(E(uh),E(vh))}var L=Uf(0);\nfunction Ch(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Dh=[];\nfunction Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321));}function Mh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Nh(a,b,c,d,e,f){Hh=f;M=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Fh.current=null===a||null===a.memoizedState?Oh:Ph;a=c(d,e);if(Jh){f=0;do{Jh=!1;Kh=0;if(25<=f)throw Error(p(301));f+=1;O=N=null;b.updateQueue=null;Fh.current=Qh;a=c(d,e)}while(Jh)}Fh.current=Rh;b=null!==N&&null!==N.next;Hh=0;O=N=M=null;Ih=!1;if(b)throw Error(p(300));return a}function Sh(){var a=0!==Kh;Kh=0;return a}\nfunction Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===O?M.memoizedState=O=a:O=O.next=a;return O}function Uh(){if(null===N){var a=M.alternate;a=null!==a?a.memoizedState:null}else a=N.next;var b=null===O?M.memoizedState:O.next;if(null!==b)O=b,N=a;else{if(null===a)throw Error(p(310));N=a;a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null};null===O?M.memoizedState=O=a:O=O.next=a}return O}\nfunction Vh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Wh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=N,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Hh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;M.lanes|=m;rh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(dh=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,M.lanes|=f,rh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction Xh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(dh=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function Yh(){}\nfunction Zh(a,b){var c=M,d=Uh(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,dh=!0);d=d.queue;$h(ai.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==O&&O.memoizedState.tag&1){c.flags|=2048;bi(9,ci.bind(null,c,d,e,b),void 0,null);if(null===Q)throw Error(p(349));0!==(Hh&30)||di(c,b,e)}return e}function di(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction ci(a,b,c,d){b.value=c;b.getSnapshot=d;ei(b)&&fi(a)}function ai(a,b,c){return c(function(){ei(b)&&fi(a)})}function ei(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function fi(a){var b=ih(a,1);null!==b&&gi(b,a,1,-1)}\nfunction hi(a){var b=Th();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a};b.queue=a;a=a.dispatch=ii.bind(null,M,a);return[b.memoizedState,a]}\nfunction bi(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function ji(){return Uh().memoizedState}function ki(a,b,c,d){var e=Th();M.flags|=a;e.memoizedState=bi(1|b,c,void 0,void 0===d?null:d)}\nfunction li(a,b,c,d){var e=Uh();d=void 0===d?null:d;var f=void 0;if(null!==N){var g=N.memoizedState;f=g.destroy;if(null!==d&&Mh(d,g.deps)){e.memoizedState=bi(b,c,f,d);return}}M.flags|=a;e.memoizedState=bi(1|b,c,f,d)}function mi(a,b){return ki(8390656,8,a,b)}function $h(a,b){return li(2048,8,a,b)}function ni(a,b){return li(4,2,a,b)}function oi(a,b){return li(4,4,a,b)}\nfunction pi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function qi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return li(4,4,pi.bind(null,b,a),c)}function ri(){}function si(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction ti(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function ui(a,b,c){if(0===(Hh&21))return a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=c;He(c,b)||(c=yc(),M.lanes|=c,rh|=c,a.baseState=!0);return b}function vi(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Gh.transition;Gh.transition={};try{a(!1),b()}finally{C=c,Gh.transition=d}}function wi(){return Uh().memoizedState}\nfunction xi(a,b,c){var d=yi(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,c);else if(c=hh(a,b,c,d),null!==c){var e=R();gi(c,a,d,e);Bi(c,b,d)}}\nfunction ii(a,b,c){var d=yi(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,gh(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=hh(a,b,e,d);null!==c&&(e=R(),gi(c,a,d,e),Bi(c,b,d))}}\nfunction zi(a){var b=a.alternate;return a===M||null!==b&&b===M}function Ai(a,b){Jh=Ih=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Bi(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,b){Th().memoizedState=[a,void 0===b?null:b];return a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ki(4194308,\n4,pi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ki(4194308,4,a,b)},useInsertionEffect:function(a,b){return ki(4,2,a,b)},useMemo:function(a,b){var c=Th();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Th();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=xi.bind(null,M,a);return[d.memoizedState,a]},useRef:function(a){var b=\nTh();a={current:a};return b.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),b=a[0];a=vi.bind(null,a[1]);Th().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=M,e=Th();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===Q)throw Error(p(349));0!==(Hh&30)||di(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;mi(ai.bind(null,d,\nf,a),[a]);d.flags|=2048;bi(9,ci.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=Th(),b=Q.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Kh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Lh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},\nuseDebugValue:ri,useDeferredValue:function(a){var b=Uh();return ui(b,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var b=Uh();return null===\nN?b.memoizedState=a:ui(b,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}function Di(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=R(),d=\nyi(a),e=mh(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=nh(a,e,d);null!==b&&(gi(b,a,d,c),oh(b,a,d))}};function Fi(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction Gi(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=eh(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Ei;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Hi(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Ei.enqueueReplaceState(b,b.state,null)}\nfunction Ii(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs={};kh(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=eh(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Di(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Ei.enqueueReplaceState(e,e.state,null),qh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}function Ji(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}\nfunction Ki(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}function Li(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Mi=\"function\"===typeof WeakMap?WeakMap:Map;function Ni(a,b,c){c=mh(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Oi||(Oi=!0,Pi=d);Li(a,b)};return c}\nfunction Qi(a,b,c){c=mh(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Li(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Li(a,b);\"function\"!==typeof d&&(null===Ri?Ri=new Set([this]):Ri.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Si(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Mi;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ti.bind(null,a,b,c),b.then(a,a))}function Ui(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Vi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=mh(-1,1),b.tag=2,nh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,b,c,d){b.child=null===a?Vg(b,null,c,d):Ug(b,a.child,c,d)}\nfunction Yi(a,b,c,d,e){c=c.render;var f=b.ref;ch(b,e);d=Nh(a,b,c,d,f,e);c=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&c&&vg(b);b.flags|=1;Xi(a,b,d,e);return b.child}\nfunction $i(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!aj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,bj(a,b,f,d,e);a=Rg(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return Zi(a,b,e)}b.flags|=1;a=Pg(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction bj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(dh=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(dh=!0);else return b.lanes=a.lanes,Zi(a,b,e)}return cj(a,b,c,d,e)}\nfunction dj(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(ej,fj),fj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(ej,fj);fj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(ej,fj),fj|=d;Xi(a,b,e,c);return b.child}function gj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function cj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);ch(b,e);c=Nh(a,b,c,d,f,e);d=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&d&&vg(b);b.flags|=1;Xi(a,b,c,e);return b.child}\nfunction hj(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;ch(b,e);if(null===b.stateNode)ij(a,b),Gi(b,c,d),Ii(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=eh(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&Hi(b,g,d,l);jh=!1;var r=b.memoizedState;g.state=r;qh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||jh?(\"function\"===typeof m&&(Di(b,c,m,d),k=b.memoizedState),(h=jh||Fi(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;lh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Ci(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=eh(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&Hi(b,g,d,k);jh=!1;r=b.memoizedState;g.state=r;qh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||jh?(\"function\"===typeof y&&(Di(b,c,y,d),n=b.memoizedState),(l=jh||Fi(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return jj(a,b,c,d,f,e)}\nfunction jj(a,b,c,d,e,f){gj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),Zi(a,b,f);d=b.stateNode;Wi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Ug(b,a.child,null,f),b.child=Ug(b,null,h,f)):Xi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function kj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);yh(a,b.containerInfo)}\nfunction lj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Xi(a,b,c,d);return b.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction oj(a,b,c){var d=b.pendingProps,e=L.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(L,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=pj(g,d,0,null),a=Tg(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=nj(c),b.memoizedState=mj,a):qj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return rj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=Pg(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=Pg(h,f):(f=Tg(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?nj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=mj;return d}f=a.child;a=f.sibling;d=Pg(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction qj(a,b){b=pj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function sj(a,b,c,d){null!==d&&Jg(d);Ug(b,a.child,null,c);a=qj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction rj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Ki(Error(p(422))),sj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=pj({mode:\"visible\",children:d.children},e,0,null);f=Tg(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Ug(b,a.child,null,g);b.child.memoizedState=nj(g);b.memoizedState=mj;return f}if(0===(b.mode&1))return sj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Ki(f,d,void 0);return sj(a,b,g,d)}h=0!==(g&a.childLanes);if(dh||h){d=Q;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,ih(a,e),gi(d,a,e,-1))}tj();d=Ki(Error(p(421)));return sj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=uj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=qj(b,d.children);b.flags|=4096;return b}function vj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);bh(a.return,b,c)}\nfunction wj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction xj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Xi(a,b,d.children,c);d=L.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&vj(a,c,b);else if(19===a.tag)vj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(L,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Ch(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);wj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Ch(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}wj(b,!0,c,null,f);break;case \"together\":wj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction ij(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function Zi(a,b,c){null!==a&&(b.dependencies=a.dependencies);rh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=Pg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Pg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction yj(a,b,c){switch(b.tag){case 3:kj(b);Ig();break;case 5:Ah(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:yh(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Wg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(L,L.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return oj(a,b,c);G(L,L.current&1);a=Zi(a,b,c);return null!==a?a.sibling:null}G(L,L.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return xj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(L,L.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,dj(a,b,c)}return Zi(a,b,c)}var zj,Aj,Bj,Cj;\nzj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Aj=function(){};\nBj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;xh(uh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Cj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Dj(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Ej(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;zh();E(Wf);E(H);Eh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Fj(zg),zg=null));Aj(a,b);S(b);return null;case 5:Bh(b);var e=xh(wh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Bj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;zj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Cj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=xh(wh.current);xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(L);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Fj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(L.current&1)?0===T&&(T=3):tj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return zh(),\nAj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return ah(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(L);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Dj(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Ch(a);if(null!==g){b.flags|=128;Dj(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(L,L.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Gj&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304)}else{if(!d)if(a=Ch(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Dj(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Gj&&1073741824!==c&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=L.current,G(L,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Hj(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(fj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Ij(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return zh(),E(Wf),E(H),Eh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Bh(b),null;case 13:E(L);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(b.type._context),null;case 22:case 23:return Hj(),\nnull;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Lj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Mj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Nj=!1;\nfunction Oj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Ci(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Nj;Nj=!1;return n}\nfunction Pj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Mj(b,c,f)}e=e.next}while(e!==d)}}function Qj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Rj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Sj(a){var b=a.alternate;null!==b&&(a.alternate=null,Sj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Tj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Uj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Tj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Vj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Vj(a,b,c),a=a.sibling;null!==a;)Vj(a,b,c),a=a.sibling}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}var X=null,Xj=!1;function Yj(a,b,c){for(c=c.child;null!==c;)Zj(a,b,c),c=c.sibling}\nfunction Zj(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Lj(c,b);case 6:var d=X,e=Xj;X=null;Yj(a,b,c);X=d;Xj=e;null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Xj;X=c.stateNode.containerInfo;Xj=!0;\nYj(a,b,c);X=d;Xj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Mj(c,b,g):0!==(f&4)&&Mj(c,b,g));e=e.next}while(e!==d)}Yj(a,b,c);break;case 1:if(!U&&(Lj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Yj(a,b,c);break;case 21:Yj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Yj(a,b,c),U=d):Yj(a,b,c);break;default:Yj(a,b,c)}}function ak(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Kj);b.forEach(function(b){var d=bk.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction ck(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Xj=!1;break a;case 3:X=h.stateNode.containerInfo;Xj=!0;break a;case 4:X=h.stateNode.containerInfo;Xj=!0;break a}h=h.return}if(null===X)throw Error(p(160));Zj(f,g,e);X=null;Xj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)dk(b,a),b=b.sibling}\nfunction dk(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ck(b,a);ek(a);if(d&4){try{Pj(3,a,a.return),Qj(3,a)}catch(t){W(a,a.return,t)}try{Pj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);break;case 5:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:ck(b,a);ek(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:ck(b,a);ek(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:ck(b,a);ek(a);break;case 13:ck(b,a);ek(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(fk=B()));d&4&&ak(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,ck(b,a),U=l):ck(b,a);ek(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Pj(4,r,r.return);break;case 1:Lj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Lj(r,r.return);break;case 22:if(null!==r.memoizedState){gk(q);continue}}null!==y?(y.return=r,V=y):gk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:ck(b,a);ek(a);d&4&&ak(a);break;case 21:break;default:ck(b,\na),ek(a)}}function ek(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Tj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Uj(a);Wj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Uj(a);Vj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function hk(a,b,c){V=a;ik(a,b,c)}\nfunction ik(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Jj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Jj;var l=U;Jj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?jk(e):null!==k?(k.return=g,V=k):jk(e);for(;null!==f;)V=f,ik(f,b,c),f=f.sibling;V=e;Jj=h;U=l}kk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):kk(a,b,c)}}\nfunction kk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Qj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Ci(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&sh(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}sh(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Rj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function gk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction jk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Qj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Rj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Rj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=Infinity,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return 0!==(K&6)?B():-1!==Ak?Ak:Ak=B()}\nfunction yi(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Bk&&(Bk=yc()),Bk;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function gi(a,b,c,d){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==Q)a===Q&&(0===(K&2)&&(qk|=c),4===T&&Ck(a,Z)),Dk(a,d),1===c&&0===K&&0===(b.mode&1)&&(Gj=B()+500,fg&&jg())}\nfunction Dk(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===Q?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Fk(c,Gk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Gk(a,b){Ak=-1;Bk=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Hk()&&a.callbackNode!==c)return null;var d=uc(a,a===Q?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Ik(a,d);else{b=d;var e=K;K|=2;var f=Jk();if(Q!==a||Z!==b)uk=null,Gj=B()+500,Kk(a,b);do try{Lk();break}catch(h){Mk(a,h)}while(1);$g();mk.current=f;K=e;null!==Y?b=0:(Q=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Nk(a,e)));if(1===b)throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;if(6===b)Ck(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Ok(e)&&(b=Ik(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Nk(a,f))),1===b))throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Pk(a,tk,uk);break;case 3:Ck(a,d);if((d&130023424)===d&&(b=fk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){R();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),b);break}Pk(a,tk,uk);break;case 4:Ck(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*lk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),d);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p(329));}}}Dk(a,B());return a.callbackNode===c?Gk.bind(null,a):null}\nfunction Nk(a,b){var c=sk;a.current.memoizedState.isDehydrated&&(Kk(a,b).flags|=256);a=Ik(a,b);2!==a&&(b=tk,tk=c,null!==b&&Fj(b));return a}function Fj(a){null===tk?tk=a:tk.push.apply(tk,a)}\nfunction Ok(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Ck(a,b){b&=~rk;b&=~qk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Ek(a){if(0!==(K&6))throw Error(p(327));Hk();var b=uc(a,0);if(0===(b&1))return Dk(a,B()),null;var c=Ik(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Nk(a,d))}if(1===c)throw c=pk,Kk(a,0),Ck(a,b),Dk(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Pk(a,tk,uk);Dk(a,B());return null}\nfunction Qk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Gj=B()+500,fg&&jg())}}function Rk(a){null!==wk&&0===wk.tag&&0===(K&6)&&Hk();var b=K;K|=1;var c=ok.transition,d=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=d,ok.transition=c,K=b,0===(K&6)&&jg()}}function Hj(){fj=ej.current;E(ej)}\nfunction Kk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:zh();E(Wf);E(H);Eh();break;case 5:Bh(d);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(d.type._context);break;case 22:case 23:Hj()}c=c.return}Q=a;Y=a=Pg(a.current,null);Z=fj=b;T=0;pk=null;rk=qk=rh=0;tk=sk=null;if(null!==fh){for(b=\n0;b<fh.length;b++)if(c=fh[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}fh=null}return a}\nfunction Mk(a,b){do{var c=Y;try{$g();Fh.current=Rh;if(Ih){for(var d=M.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Ih=!1}Hh=0;O=N=M=null;Jh=!1;Kh=0;nk.current=null;if(null===c||null===c.return){T=1;pk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Ui(g);if(null!==y){y.flags&=-257;Vi(y,g,h,f,b);y.mode&1&&Si(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Si(f,l,b);tj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Ui(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Vi(J,g,h,f,b);Jg(Ji(k,h));break a}}f=k=Ji(k,h);4!==T&&(T=2);null===sk?sk=[f]:sk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Ni(f,k,b);ph(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Ri||!Ri.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Qi(f,h,b);ph(f,F);break a}}f=f.return}while(null!==f)}Sk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Jk(){var a=mk.current;mk.current=Rh;return null===a?Rh:a}\nfunction tj(){if(0===T||3===T||2===T)T=4;null===Q||0===(rh&268435455)&&0===(qk&268435455)||Ck(Q,Z)}function Ik(a,b){var c=K;K|=2;var d=Jk();if(Q!==a||Z!==b)uk=null,Kk(a,b);do try{Tk();break}catch(e){Mk(a,e)}while(1);$g();K=c;mk.current=d;if(null!==Y)throw Error(p(261));Q=null;Z=0;return T}function Tk(){for(;null!==Y;)Uk(Y)}function Lk(){for(;null!==Y&&!cc();)Uk(Y)}function Uk(a){var b=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps;null===b?Sk(a):Y=b;nk.current=null}\nfunction Sk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Ej(c,b,fj),null!==c){Y=c;return}}else{c=Ij(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Pk(a,b,c){var d=C,e=ok.transition;try{ok.transition=null,C=1,Wk(a,b,c,d)}finally{ok.transition=e,C=d}return null}\nfunction Wk(a,b,c,d){do Hk();while(null!==wk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===Q&&(Y=Q=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||vk||(vk=!0,Fk(hc,function(){Hk();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=ok.transition;ok.transition=null;\nvar g=C;C=1;var h=K;K|=4;nk.current=null;Oj(a,c);dk(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;hk(c,a,e);dc();K=h;C=g;ok.transition=f}else a.current=c;vk&&(vk=!1,wk=a,xk=e);f=a.pendingLanes;0===f&&(Ri=null);mc(c.stateNode,d);Dk(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;0!==(xk&1)&&0!==a.tag&&Hk();f=a.pendingLanes;0!==(f&1)?a===zk?yk++:(yk=0,zk=a):yk=0;jg();return null}\nfunction Hk(){if(null!==wk){var a=Dc(xk),b=ok.transition,c=C;try{ok.transition=null;C=16>a?16:a;if(null===wk)var d=!1;else{a=wk;wk=null;xk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Pj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Sj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Pj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,ok.transition=b}}return!1}function Xk(a,b,c){b=Ji(c,b);b=Ni(a,b,1);a=nh(a,b,1);b=R();null!==a&&(Ac(a,1,b),Dk(a,b))}\nfunction W(a,b,c){if(3===a.tag)Xk(a,a,c);else for(;null!==b;){if(3===b.tag){Xk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ri||!Ri.has(d))){a=Ji(c,a);a=Qi(b,a,1);b=nh(b,a,1);a=R();null!==b&&(Ac(b,1,a),Dk(b,a));break}}b=b.return}}\nfunction Ti(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=R();a.pingedLanes|=a.suspendedLanes&c;Q===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-fk?Kk(a,0):rk|=c);Dk(a,b)}function Yk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=R();a=ih(a,b);null!==a&&(Ac(a,b,c),Dk(a,c))}function uj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Yk(a,c)}\nfunction bk(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Yk(a,c)}var Vk;\nVk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)dh=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return dh=!1,yj(a,b,c);dh=0!==(a.flags&131072)?!0:!1}else dh=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;ij(a,b);a=b.pendingProps;var e=Yf(b,H.current);ch(b,c);e=Nh(null,b,d,a,e,c);var f=Sh();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,kh(b),e.updater=Ei,b.stateNode=e,e._reactInternals=b,Ii(b,d,a,c),b=jj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Xi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{ij(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=Zk(d);a=Ci(d,a);switch(e){case 0:b=cj(null,b,d,a,c);break a;case 1:b=hj(null,b,d,a,c);break a;case 11:b=Yi(null,b,d,a,c);break a;case 14:b=$i(null,b,d,Ci(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),cj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),hj(a,b,d,e,c);case 3:a:{kj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;lh(a,b);qh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ji(Error(p(423)),b);b=lj(a,b,d,c,e);break a}else if(d!==e){e=Ji(Error(p(424)),b);b=lj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Vg(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=Zi(a,b,c);break a}Xi(a,b,d,c)}b=b.child}return b;case 5:return Ah(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\ngj(a,b),Xi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return oj(a,b,c);case 4:return yh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Ug(b,null,d,c):Xi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),Yi(a,b,d,e,c);case 7:return Xi(a,b,b.pendingProps,c),b.child;case 8:return Xi(a,b,b.pendingProps.children,c),b.child;case 12:return Xi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Wg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=Zi(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=mh(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);bh(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);bh(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Xi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,ch(b,c),e=eh(e),d=d(e),b.flags|=1,Xi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Ci(d,b.pendingProps),e=Ci(d.type,e),$i(a,b,d,e,c);case 15:return bj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),ij(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,ch(b,c),Gi(b,d,e),Ii(b,d,e,c),jj(null,b,d,!0,a,c);case 19:return xj(a,b,c);case 22:return dj(a,b,c)}throw Error(p(156,b.tag));};function Fk(a,b){return ac(a,b)}\nfunction $k(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new $k(a,b,c,d)}function aj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction Zk(a){if(\"function\"===typeof a)return aj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction Pg(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Rg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)aj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Tg(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return pj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Tg(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function pj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function Qg(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction Sg(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction al(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function bl(a,b,c,d,e,f,g,h,k){a=new al(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};kh(f);return a}function cl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction dl(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction el(a,b,c,d,e,f,g,h,k){a=bl(c,d,!0,a,e,f,g,h,k);a.context=dl(null);c=a.current;d=R();e=yi(c);f=mh(d,e);f.callback=void 0!==b&&null!==b?b:null;nh(c,f,e);a.current.lanes=e;Ac(a,e,d);Dk(a,d);return a}function fl(a,b,c,d){var e=b.current,f=R(),g=yi(e);c=dl(c);null===b.context?b.context=c:b.pendingContext=c;b=mh(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=nh(e,b,g);null!==a&&(gi(a,e,g,f),oh(a,e,g));return g}\nfunction gl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function il(a,b){hl(a,b);(a=a.alternate)&&hl(a,b)}function jl(){return null}var kl=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}\nml.prototype.render=ll.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));fl(a,b,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Rk(function(){fl(null,a,null,null)});b[uf]=null}};function ml(a){this._internalRoot=a}\nml.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function nl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function pl(){}\nfunction ql(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=gl(g);f.call(a)}}var g=el(b,d,a,0,null,!1,!1,\"\",pl);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Rk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=gl(k);h.call(a)}}var k=bl(a,0,!1,null,null,!1,!1,\"\",pl);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Rk(function(){fl(b,k,c,d)});return k}\nfunction rl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=gl(g);h.call(a)}}fl(b,g,a,e)}else g=ql(c,b,a,e,d);return gl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Dk(b,B()),0===(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var b=ih(a,1);if(null!==b){var c=R();gi(b,a,1,c)}}),il(a,1)}};\nFc=function(a){if(13===a.tag){var b=ih(a,134217728);if(null!==b){var c=R();gi(b,a,134217728,c)}il(a,134217728)}};Gc=function(a){if(13===a.tag){var b=yi(a),c=ih(a,b);if(null!==c){var d=R();gi(c,a,b,d)}il(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Qk;Hb=Rk;\nvar sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"};\nvar ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||\njl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(b))throw Error(p(200));return cl(a,b,null,c)};exports.createRoot=function(a,b){if(!nl(a))throw Error(p(299));var c=!1,d=\"\",e=kl;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=bl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ll(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Rk(a)};exports.hydrate=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!nl(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=kl;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=el(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new ml(b)};exports.render=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Qk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!ol(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return rl(a,b,c,!1,d)};exports.version=\"18.3.1-next-f1338f8080-20240426\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// Character Class to Visual Mapping System\n// Maps game archetypes to visual themes and asset preferences\n\nimport { CharacterVisualData } from './types';\n\ninterface ClassVisualTheme {\n    archetype: string;\n    colorPalette: {\n        primary: string;\n        secondary: string;\n        accent: string;\n        metal?: string;\n    };\n    preferredAssets: {\n        armor?: string[];\n        weapons?: string[];\n        accessories?: string[];\n    };\n    visualTraits: {\n        build?: 'slim' | 'average' | 'stocky' | 'muscular';\n        stance?: 'relaxed' | 'alert' | 'aggressive' | 'scholarly';\n        aura?: 'none' | 'magical' | 'divine' | 'primal' | 'technological';\n    };\n    description: string;\n}\n\n// Visual themes for each archetype\nconst CLASS_VISUAL_THEMES: Record<string, ClassVisualTheme> = {\n    'Warrior': {\n        archetype: 'Warrior',\n        colorPalette: {\n            primary: '#8B4513', // Brown leather\n            secondary: '#C0C0C0', // Steel\n            accent: '#DAA520', // Gold\n            metal: '#C0C0C0'\n        },\n        preferredAssets: {\n            armor: ['leather', 'chainmail', 'plate'],\n            weapons: ['sword', 'axe', 'mace'],\n            accessories: ['belt', 'bracers', 'cloak']\n        },\n        visualTraits: {\n            build: 'muscular',\n            stance: 'alert',\n            aura: 'none'\n        },\n        description: 'Sturdy and practical, with well-worn equipment'\n    },\n\n    'Scout': {\n        archetype: 'Scout',\n        colorPalette: {\n            primary: '#228B22', // Forest green\n            secondary: '#8B4513', // Brown leather\n            accent: '#2F4F4F', // Dark slate\n            metal: '#696969'\n        },\n        preferredAssets: {\n            armor: ['leather', 'studded'],\n            weapons: ['bow', 'dagger', 'shortbow'],\n            accessories: ['quiver', 'pouch', 'cloak']\n        },\n        visualTraits: {\n            build: 'slim',\n            stance: 'alert',\n            aura: 'none'\n        },\n        description: 'Practical outdoor gear in earth tones'\n    },\n\n    'Mage': {\n        archetype: 'Mage',\n        colorPalette: {\n            primary: '#4B0082', // Indigo\n            secondary: '#191970', // Midnight blue\n            accent: '#FFD700', // Gold\n            metal: '#DAA520'\n        },\n        preferredAssets: {\n            armor: ['robes', 'light'],\n            weapons: ['staff', 'wand', 'tome'],\n            accessories: ['amulet', 'ring', 'sash']\n        },\n        visualTraits: {\n            build: 'average',\n            stance: 'scholarly',\n            aura: 'magical'\n        },\n        description: 'Flowing robes with mystical accessories'\n    },\n\n    'Guardian': {\n        archetype: 'Guardian',\n        colorPalette: {\n            primary: '#4682B4', // Steel blue\n            secondary: '#C0C0C0', // Silver\n            accent: '#FFD700', // Gold\n            metal: '#C0C0C0'\n        },\n        preferredAssets: {\n            armor: ['plate', 'scale', 'chainmail'],\n            weapons: ['shield', 'sword', 'mace'],\n            accessories: ['cloak', 'symbol', 'bracers']\n        },\n        visualTraits: {\n            build: 'stocky',\n            stance: 'alert',\n            aura: 'divine'\n        },\n        description: 'Heavy armor with protective symbols'\n    },\n\n    'Ranger': {\n        archetype: 'Ranger',\n        colorPalette: {\n            primary: '#8FBC8F', // Dark sea green\n            secondary: '#8B4513', // Saddle brown\n            accent: '#2E8B57', // Sea green\n            metal: '#696969'\n        },\n        preferredAssets: {\n            armor: ['leather', 'hide'],\n            weapons: ['bow', 'sword', 'knife'],\n            accessories: ['quiver', 'pack', 'cloak']\n        },\n        visualTraits: {\n            build: 'average',\n            stance: 'relaxed',\n            aura: 'primal'\n        },\n        description: 'Nature-themed gear with practical design'\n    },\n\n    'Rogue': {\n        archetype: 'Rogue',\n        colorPalette: {\n            primary: '#2F2F2F', // Dark gray\n            secondary: '#000000', // Black\n            accent: '#8B0000', // Dark red\n            metal: '#696969'\n        },\n        preferredAssets: {\n            armor: ['leather', 'light'],\n            weapons: ['dagger', 'shortsword', 'crossbow'],\n            accessories: ['belt', 'gloves', 'hood']\n        },\n        visualTraits: {\n            build: 'slim',\n            stance: 'alert',\n            aura: 'none'\n        },\n        description: 'Dark, practical clothing for stealth'\n    },\n\n    'Artificer': {\n        archetype: 'Artificer',\n        colorPalette: {\n            primary: '#CD853F', // Peru\n            secondary: '#B8860B', // Dark goldenrod\n            accent: '#00CED1', // Dark turquoise\n            metal: '#B87333'\n        },\n        preferredAssets: {\n            armor: ['leather', 'studded', 'scale'],\n            weapons: ['crossbow', 'hammer', 'gadget'],\n            accessories: ['goggles', 'tools', 'pouches']\n        },\n        visualTraits: {\n            build: 'average',\n            stance: 'scholarly',\n            aura: 'technological'\n        },\n        description: 'Practical gear with technological enhancements'\n    }\n\n    // TODO: Add specialized archetypes (Thorn Knight, Ashblade, etc.) in future updates\n};\n\n/**\n * Get visual theme for a character archetype\n */\nexport function getClassVisualTheme(archetype: string): ClassVisualTheme | null {\n    return CLASS_VISUAL_THEMES[archetype] || null;\n}\n\n/**\n * Get color palette for archetype\n */\nexport function getClassColors(archetype: string): ClassVisualTheme['colorPalette'] | null {\n    const theme = getClassVisualTheme(archetype);\n    return theme?.colorPalette || null;\n}\n\n/**\n * Get preferred assets for archetype\n */\nexport function getPreferredAssets(archetype: string): ClassVisualTheme['preferredAssets'] | null {\n    const theme = getClassVisualTheme(archetype);\n    return theme?.preferredAssets || null;\n}\n\n/**\n * Generate default appearance for character based on species and archetype\n */\nexport function generateDefaultAppearance(species: string, archetype: string): CharacterVisualData['appearance'] {\n    const theme = getClassVisualTheme(archetype);\n\n    // Species-based defaults\n    const speciesDefaults: Record<string, Partial<CharacterVisualData['appearance']>> = {\n        'Human': { skinTone: 'medium', hairColor: 'brown', eyeColor: 'brown' },\n        'Sylvanborn': { skinTone: 'fair', hairColor: 'green', eyeColor: 'green' },\n        'Nightborn': { skinTone: 'pale', hairColor: 'black', eyeColor: 'violet' },\n        'Stormcaller': { skinTone: 'medium', hairColor: 'silver', eyeColor: 'blue' },\n        'Crystalborn': { skinTone: 'crystalline', hairColor: 'crystal', eyeColor: 'prismatic' },\n        'Draketh': { skinTone: 'scaled', hairColor: 'red', eyeColor: 'gold' },\n        'Alloy': { skinTone: 'metallic', hairColor: 'copper', eyeColor: 'silver' },\n        'Voidkin': { skinTone: 'dark', hairColor: 'void', eyeColor: 'starlight' }\n    };\n\n    const base = speciesDefaults[species] || speciesDefaults['Human'];\n\n    return {\n        ...base,\n        build: theme?.visualTraits.build || 'average',\n        height: 'average'\n    };\n}\n\n/**\n * Get all available class themes\n */\nexport function getAllClassThemes(): ClassVisualTheme[] {\n    return Object.values(CLASS_VISUAL_THEMES);\n}\n\n/**\n * Check if archetype has visual theme\n */\nexport function hasVisualTheme(archetype: string): boolean {\n    return archetype in CLASS_VISUAL_THEMES;\n}","// Deterministic Random Generation System\n// Provides consistent, seed-based randomization for character visuals\n\n/**\n * Simple Linear Congruential Generator for deterministic randomization\n */\nclass SeededRandom {\n    private seed: number;\n    private current: number;\n\n    constructor(seed: string | number) {\n        if (typeof seed === 'string') {\n            // Convert string to number using simple hash\n            this.seed = this.hashString(seed);\n        } else {\n            this.seed = seed;\n        }\n        this.current = this.seed;\n    }\n\n    /**\n     * Hash string to number\n     */\n    private hashString(str: string): number {\n        let hash = 0;\n        for (let i = 0; i < str.length; i++) {\n            const char = str.charCodeAt(i);\n            hash = ((hash << 5) - hash) + char;\n            hash = hash & hash; // Convert to 32-bit integer\n        }\n        return Math.abs(hash);\n    }\n\n    /**\n     * Generate next random number (0-1)\n     */\n    random(): number {\n        // LCG formula: (a * seed + c) % m\n        const a = 1664525;\n        const c = 1013904223;\n        const m = Math.pow(2, 32);\n\n        this.current = (a * this.current + c) % m;\n        return this.current / m;\n    }\n\n    /**\n     * Generate random integer in range [min, max)\n     */\n    randomInt(min: number, max: number): number {\n        return Math.floor(this.random() * (max - min)) + min;\n    }\n\n    /**\n     * Choose random element from array\n     */\n    choose<T>(array: T[]): T {\n        if (array.length === 0) throw new Error('Cannot choose from empty array');\n        return array[this.randomInt(0, array.length)];\n    }\n\n    /**\n     * Shuffle array (Fisher-Yates)\n     */\n    shuffle<T>(array: T[]): T[] {\n        const result = [...array];\n        for (let i = result.length - 1; i > 0; i--) {\n            const j = this.randomInt(0, i + 1);\n            [result[i], result[j]] = [result[j], result[i]];\n        }\n        return result;\n    }\n\n    /**\n     * Generate weighted random choice\n     */\n    weightedChoose<T>(items: Array<{ item: T; weight: number }>): T {\n        const totalWeight = items.reduce((sum, item) => sum + item.weight, 0);\n        let randomValue = this.random() * totalWeight;\n\n        for (const { item, weight } of items) {\n            randomValue -= weight;\n            if (randomValue <= 0) {\n                return item;\n            }\n        }\n\n        // Fallback to last item\n        return items[items.length - 1].item;\n    }\n\n    /**\n     * Reset to original seed\n     */\n    reset(): void {\n        this.current = this.seed;\n    }\n}\n\n/**\n * Generate character-specific seed from character data\n */\nexport function generateCharacterSeed(characterData: {\n    name: string;\n    species: string;\n    archetype: string;\n    level?: number;\n}): string {\n    return `${characterData.name}_${characterData.species}_${characterData.archetype}_${characterData.level || 1}`;\n}\n\n/**\n * Create seeded random generator for character\n */\nexport function createCharacterRandom(characterData: {\n    name: string;\n    species: string;\n    archetype: string;\n    level?: number;\n}): SeededRandom {\n    const seed = generateCharacterSeed(characterData);\n    return new SeededRandom(seed);\n}\n\n/**\n * Generate consistent visual variations based on character\n */\nexport function generateVisualVariation<T>(\n    characterData: { name: string; species: string; archetype: string },\n    options: T[],\n    variationKey?: string\n): T {\n    const seed = generateCharacterSeed(characterData) + (variationKey || '');\n    const rng = new SeededRandom(seed);\n    return rng.choose(options);\n}\n\n/**\n * Generate multiple consistent variations\n */\nexport function generateMultipleVariations<T>(\n    characterData: { name: string; species: string; archetype: string },\n    optionsMap: Record<string, T[]>\n): Record<string, T> {\n    const baseRng = createCharacterRandom(characterData);\n    const result: Record<string, T> = {};\n\n    for (const [key, options] of Object.entries(optionsMap)) {\n        // Use different seeds for each variation type\n        const variationRng = new SeededRandom(baseRng.randomInt(1, 1000000));\n        result[key] = variationRng.choose(options);\n    }\n\n    return result;\n}\n\n/**\n * Color variation utilities\n */\nexport const ColorVariations = {\n    /**\n     * Generate color variations based on species\n     */\n    forSpecies(species: string, rng: SeededRandom): {\n        skinTone: string;\n        hairColor: string;\n        eyeColor: string;\n    } {\n        const variations: Record<string, any> = {\n            'Human': {\n                skinTone: rng.choose(['fair', 'light', 'medium', 'olive', 'tan', 'dark']),\n                hairColor: rng.choose(['blonde', 'brown', 'black', 'red', 'auburn']),\n                eyeColor: rng.choose(['blue', 'brown', 'green', 'hazel', 'gray'])\n            },\n            'Sylvanborn': {\n                skinTone: rng.choose(['fair', 'pale-green', 'bark-brown', 'olive']),\n                hairColor: rng.choose(['green', 'brown', 'autumn-red', 'silver']),\n                eyeColor: rng.choose(['green', 'gold', 'amber', 'forest-green'])\n            },\n            'Nightborn': {\n                skinTone: rng.choose(['pale', 'ashen', 'moonlight', 'silver-pale']),\n                hairColor: rng.choose(['black', 'silver', 'white', 'midnight-blue']),\n                eyeColor: rng.choose(['violet', 'silver', 'pale-blue', 'starlight'])\n            },\n            'Stormcaller': {\n                skinTone: rng.choose(['bronzed', 'storm-gray', 'sky-blue', 'medium']),\n                hairColor: rng.choose(['white', 'silver', 'storm-gray', 'lightning-blue']),\n                eyeColor: rng.choose(['blue', 'electric-blue', 'storm-gray', 'silver'])\n            },\n            'Crystalborn': {\n                skinTone: rng.choose(['crystalline', 'translucent', 'prismatic', 'gem-like']),\n                hairColor: rng.choose(['crystal', 'prismatic', 'diamond', 'sapphire']),\n                eyeColor: rng.choose(['prismatic', 'crystal-blue', 'emerald', 'diamond'])\n            },\n            'Draketh': {\n                skinTone: rng.choose(['scaled-red', 'scaled-green', 'scaled-blue', 'scaled-gold']),\n                hairColor: rng.choose(['red', 'gold', 'copper', 'bronze']),\n                eyeColor: rng.choose(['gold', 'amber', 'red', 'copper'])\n            },\n            'Alloy': {\n                skinTone: rng.choose(['metallic', 'bronze', 'copper', 'steel-gray']),\n                hairColor: rng.choose(['copper', 'bronze', 'steel', 'chrome']),\n                eyeColor: rng.choose(['silver', 'copper', 'steel-blue', 'chrome'])\n            },\n            'Voidkin': {\n                skinTone: rng.choose(['void-black', 'starlight', 'nebula', 'cosmic']),\n                hairColor: rng.choose(['void-black', 'starlight', 'nebula', 'cosmic']),\n                eyeColor: rng.choose(['starlight', 'void-black', 'nebula', 'cosmic'])\n            }\n        };\n\n        return variations[species] || variations['Human'];\n    }\n};\n\nexport { SeededRandom };","// 2D Canvas/SVG Renderer for Character Portraits\n// Handles rendering character visuals to Canvas or SVG formats\n\nimport { CharacterVisualData, PortraitOptions, RenderContext } from './types';\nimport { getClassVisualTheme } from './classmap';\nimport { assetManager, getFallbackSpecies } from './assets';\nimport { loadLayeredPortrait, getAssetLayers, loadPortraitFromExternalManifest, loadPortraitFromPreset, getPresetsByFilter } from './manifest';\n\ninterface LayerDefinition {\n    name: string;\n    zIndex: number;\n    render: (ctx: CanvasRenderingContext2D | SVGElement, data: CharacterVisualData) => void;\n}\n\nclass Renderer2D {\n    private layers: LayerDefinition[] = [];\n\n    constructor() {\n        this.setupDefaultLayers();\n    }\n\n    /**\n     * Setup default rendering layers\n     */\n    private setupDefaultLayers(): void {\n        this.layers = [\n            { name: 'background', zIndex: 0, render: this.renderBackground.bind(this) },\n            { name: 'body', zIndex: 10, render: this.renderBody.bind(this) },\n            { name: 'clothing', zIndex: 20, render: this.renderClothing.bind(this) },\n            { name: 'hair', zIndex: 30, render: this.renderHair.bind(this) },\n            { name: 'face', zIndex: 40, render: this.renderFace.bind(this) },\n            { name: 'accessories', zIndex: 50, render: this.renderAccessories.bind(this) },\n            { name: 'effects', zIndex: 60, render: this.renderEffects.bind(this) }\n        ];\n\n        // Sort by z-index\n        this.layers.sort((a, b) => a.zIndex - b.zIndex);\n    }\n\n    /**\n     * Render to Canvas\n     */\n    async renderToCanvas(\n        data: CharacterVisualData,\n        options: PortraitOptions,\n        canvas: HTMLCanvasElement\n    ): Promise<HTMLCanvasElement> {\n        const ctx = canvas.getContext('2d');\n        if (!ctx) throw new Error('Cannot get 2D context from canvas');\n\n        // Setup canvas\n        this.setupCanvas(canvas, ctx, options);\n\n        // Render layers\n        for (const layer of this.layers) {\n            try {\n                layer.render(ctx, data);\n            } catch (error) {\n                console.warn(`Failed to render layer ${layer.name}:`, error);\n            }\n        }\n\n        return canvas;\n    }\n\n    /**\n     * Render to SVG\n     */\n    async renderToSVG(\n        data: CharacterVisualData,\n        options: PortraitOptions\n    ): Promise<string> {\n        const dimensions = this.getDimensions(options.size);\n\n        // Try to use asset-based rendering first\n        const assetBasedSVG = await this.tryAssetBasedSVG(data, dimensions);\n        if (assetBasedSVG) {\n            return assetBasedSVG;\n        }\n\n        // Fallback to procedural generation\n        let svg = `<svg width=\"${dimensions.width}\" height=\"${dimensions.height}\" viewBox=\"0 0 ${dimensions.width} ${dimensions.height}\" xmlns=\"http://www.w3.org/2000/svg\">`;\n\n        // Render layers to SVG\n        for (const layer of this.layers) {\n            try {\n                const layerSvg = this.renderLayerToSVG(layer, data, dimensions);\n                svg += layerSvg;\n            } catch (error) {\n                console.warn(`Failed to render SVG layer ${layer.name}:`, error);\n            }\n        }\n\n        svg += '</svg>';\n        return svg;\n    }\n\n    /**\n     * Try asset-based SVG rendering using the new layered system\n     */\n    private async tryAssetBasedSVG(\n        data: CharacterVisualData,\n        dimensions: { width: number; height: number }\n    ): Promise<string | null> {\n        // Try the original species first, then fallbacks\n        const speciesToTry = [data.species];\n\n        // Add fallback species\n        const fallbackSpecies = getFallbackSpecies(data.species);\n        if (fallbackSpecies && fallbackSpecies !== data.species) {\n            speciesToTry.push(fallbackSpecies);\n        }\n\n        // Always try Human as final fallback\n        if (!speciesToTry.includes('Human')) {\n            speciesToTry.push('Human');\n        }\n\n        for (const species of speciesToTry) {\n            try {\n                const result = await this.trySpeciesAssets(species, data.archetype, data.gender);\n                if (result) {\n                    // Customize colors and dimensions\n                    const theme = getClassVisualTheme(data.archetype);\n                    let customizedSVG = result;\n\n                    if (theme) {\n                        customizedSVG = this.applyThemeColors(customizedSVG, theme);\n                    }\n\n                    // Ensure proper dimensions\n                    customizedSVG = customizedSVG.replace(\n                        /<svg([^>]*?)width=[\"'][^\"']*[\"']([^>]*?)height=[\"'][^\"']*[\"']/i,\n                        `<svg$1width=\"${dimensions.width}\"$2height=\"${dimensions.height}\"`\n                    );\n\n                    if (!customizedSVG.includes('viewBox')) {\n                        customizedSVG = customizedSVG.replace(\n                            /<svg([^>]*?)>/i,\n                            `<svg$1 viewBox=\"0 0 ${dimensions.width} ${dimensions.height}\">`\n                        );\n                    }\n\n                    return customizedSVG;\n                }\n            } catch (error) {\n                // Continue to next species\n                continue;\n            }\n        }\n\n        return null; // All attempts failed\n    }\n\n    /**\n     * Try assets for a specific species\n     */\n    private async trySpeciesAssets(species: string, archetype: string, gender?: string): Promise<string | null> {\n        try {\n            // Try preset system first\n            const filterCriteria = {\n                species: species,\n                archetype: archetype,\n                gender: gender || 'Female'\n            };\n\n            const presets = await getPresetsByFilter(filterCriteria);\n            if (presets.length > 0) {\n                return await loadPortraitFromPreset(presets[0].id);\n            }\n\n            // Try external manifest\n            try {\n                return await loadPortraitFromExternalManifest(species, archetype);\n            } catch (externalError) {\n                // Try internal manifest\n                return await loadLayeredPortrait(species, archetype, `${species} ${archetype}`);\n            }\n        } catch (error) {\n            return null;\n        }\n    }\n\n    /**\n     * Apply theme colors to SVG content\n     */\n    private applyThemeColors(svg: string, theme: any): string {\n        let customized = svg;\n\n        // Apply primary color to clothing elements\n        customized = customized.replace(\n            /#4c1d95/g,\n            theme.colorPalette.primary\n        );\n\n        // Apply secondary color to accents\n        customized = customized.replace(\n            /#6d28d9/g,\n            theme.colorPalette.secondary\n        );\n\n        // Apply accent color to highlights\n        customized = customized.replace(\n            /#fbbf24/g,\n            theme.colorPalette.accent || theme.colorPalette.primary\n        );\n\n        return customized;\n    }\n\n    /**\n     * Setup canvas properties\n     */\n    private setupCanvas(\n        canvas: HTMLCanvasElement,\n        ctx: CanvasRenderingContext2D,\n        options: PortraitOptions\n    ): void {\n        const dimensions = this.getDimensions(options.size);\n\n        canvas.width = dimensions.width;\n        canvas.height = dimensions.height;\n\n        // Setup rendering quality\n        ctx.imageSmoothingEnabled = options.quality !== 'low';\n        ctx.imageSmoothingQuality = options.quality === 'high' ? 'high' : 'medium';\n\n        // Clear canvas\n        ctx.clearRect(0, 0, dimensions.width, dimensions.height);\n    }\n\n    /**\n     * Get dimensions for size\n     */\n    private getDimensions(size: string): { width: number; height: number } {\n        const sizes: Record<string, { width: number; height: number }> = {\n            small: { width: 64, height: 64 },\n            medium: { width: 128, height: 128 },\n            large: { width: 256, height: 256 }\n        };\n        return sizes[size] || sizes.medium;\n    }\n\n    /**\n     * Render layer to SVG string\n     */\n    private renderLayerToSVG(\n        layer: LayerDefinition,\n        data: CharacterVisualData,\n        dimensions: { width: number; height: number }\n    ): string {\n        // Create temporary SVG element for layer rendering\n        const mockSvg = {\n            innerHTML: '',\n            appendChild: (element: any) => {\n                mockSvg.innerHTML += element.outerHTML || element.toString();\n            }\n        };\n\n        try {\n            layer.render(mockSvg as any, data);\n            return mockSvg.innerHTML;\n        } catch (error) {\n            console.warn(`Error rendering ${layer.name} to SVG:`, error);\n            return '';\n        }\n    }\n\n    // Layer rendering methods (placeholder implementations for skeleton)\n\n    private renderBackground(ctx: CanvasRenderingContext2D | SVGElement, data: CharacterVisualData): void {\n        const theme = getClassVisualTheme(data.archetype);\n        const bgColor = theme?.colorPalette.secondary || '#f0f0f0';\n\n        if (ctx instanceof CanvasRenderingContext2D) {\n            // Canvas background\n            const canvas = ctx.canvas;\n            ctx.fillStyle = bgColor;\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n        } else {\n            // SVG background - add to innerHTML if it's our mock object\n            if ('innerHTML' in ctx) {\n                (ctx as any).innerHTML += `<rect width=\"100%\" height=\"100%\" fill=\"${bgColor}\" opacity=\"0.1\"/>`;\n            }\n        }\n    }\n\n    private renderBody(ctx: CanvasRenderingContext2D | SVGElement, data: CharacterVisualData): void {\n        const theme = getClassVisualTheme(data.archetype);\n        const skinColor = this.getSkinColor(data.appearance?.skinTone || 'medium');\n\n        if (ctx instanceof CanvasRenderingContext2D) {\n            // Canvas body rendering\n            const canvas = ctx.canvas;\n            const centerX = canvas.width / 2;\n            const centerY = canvas.height / 2;\n            const radius = Math.min(canvas.width, canvas.height) / 6;\n\n            // Simple head circle\n            ctx.fillStyle = skinColor;\n            ctx.beginPath();\n            ctx.arc(centerX, centerY - radius, radius, 0, Math.PI * 2);\n            ctx.fill();\n\n            // Simple body rectangle\n            ctx.fillRect(centerX - radius / 2, centerY, radius, radius * 1.5);\n        } else {\n            // SVG body rendering\n            if ('innerHTML' in ctx) {\n                const skinColor = this.getSkinColor(data.appearance?.skinTone || 'medium');\n                (ctx as any).innerHTML += `\n          <circle cx=\"50%\" cy=\"35%\" r=\"15%\" fill=\"${skinColor}\"/>\n          <rect x=\"42.5%\" y=\"50%\" width=\"15%\" height=\"25%\" fill=\"${skinColor}\"/>\n        `;\n            }\n        }\n    }\n\n    private renderClothing(ctx: CanvasRenderingContext2D | SVGElement, data: CharacterVisualData): void {\n        const theme = getClassVisualTheme(data.archetype);\n        const clothingColor = theme?.colorPalette.primary || '#666';\n\n        if (ctx instanceof CanvasRenderingContext2D) {\n            // Canvas clothing\n            const canvas = ctx.canvas;\n            const centerX = canvas.width / 2;\n            const centerY = canvas.height / 2;\n            const width = canvas.width / 3;\n            const height = canvas.height / 4;\n\n            ctx.fillStyle = clothingColor;\n            ctx.fillRect(centerX - width / 2, centerY + 10, width, height);\n        } else {\n            // SVG clothing\n            if ('innerHTML' in ctx) {\n                (ctx as any).innerHTML += `<rect x=\"37.5%\" y=\"55%\" width=\"25%\" height=\"30%\" fill=\"${clothingColor}\"/>`;\n            }\n        }\n    }\n\n    private renderHair(ctx: CanvasRenderingContext2D | SVGElement, data: CharacterVisualData): void {\n        const hairColor = this.getHairColor(data.appearance?.hairColor || 'brown');\n\n        if (ctx instanceof CanvasRenderingContext2D) {\n            // Canvas hair\n            const canvas = ctx.canvas;\n            const centerX = canvas.width / 2;\n            const centerY = canvas.height / 2;\n            const radius = Math.min(canvas.width, canvas.height) / 5;\n\n            ctx.fillStyle = hairColor;\n            ctx.beginPath();\n            ctx.arc(centerX, centerY - radius - 5, radius * 0.8, 0, Math.PI);\n            ctx.fill();\n        } else {\n            // SVG hair\n            if ('innerHTML' in ctx) {\n                (ctx as any).innerHTML += `\n          <path d=\"M 35% 25% Q 50% 15% 65% 25% Q 60% 30% 50% 30% Q 40% 30% 35% 25%\" fill=\"${hairColor}\"/>\n        `;\n            }\n        }\n    }\n\n    private renderFace(ctx: CanvasRenderingContext2D | SVGElement, data: CharacterVisualData): void {\n        const eyeColor = this.getEyeColor(data.appearance?.eyeColor || 'brown');\n\n        if (ctx instanceof CanvasRenderingContext2D) {\n            // Canvas face features\n            const canvas = ctx.canvas;\n            const centerX = canvas.width / 2;\n            const centerY = canvas.height / 2;\n            const eyeSize = 3;\n            const eyeOffset = 8;\n\n            // Eyes\n            ctx.fillStyle = eyeColor;\n            ctx.beginPath();\n            ctx.arc(centerX - eyeOffset, centerY - 20, eyeSize, 0, Math.PI * 2);\n            ctx.arc(centerX + eyeOffset, centerY - 20, eyeSize, 0, Math.PI * 2);\n            ctx.fill();\n        } else {\n            // SVG face features\n            if ('innerHTML' in ctx) {\n                (ctx as any).innerHTML += `\n          <circle cx=\"45%\" cy=\"32%\" r=\"2%\" fill=\"${eyeColor}\"/>\n          <circle cx=\"55%\" cy=\"32%\" r=\"2%\" fill=\"${eyeColor}\"/>\n          <path d=\"M 47% 38% Q 50% 40% 53% 38%\" stroke=\"#333\" stroke-width=\"1\" fill=\"none\"/>\n        `;\n            }\n        }\n    }\n\n    private renderAccessories(ctx: CanvasRenderingContext2D | SVGElement, data: CharacterVisualData): void {\n        // Placeholder for future accessory rendering\n        // Will be expanded when asset system is fully implemented\n    }\n\n    private renderEffects(ctx: CanvasRenderingContext2D | SVGElement, data: CharacterVisualData): void {\n        const theme = getClassVisualTheme(data.archetype);\n        const aura = theme?.visualTraits.aura;\n\n        if (aura === 'magical' || aura === 'divine') {\n            const effectColor = aura === 'magical' ? '#4B0082' : '#DAA520';\n\n            if (ctx instanceof CanvasRenderingContext2D) {\n                // Canvas magical effect\n                const canvas = ctx.canvas;\n                const centerX = canvas.width / 2;\n                const centerY = canvas.height / 2;\n\n                ctx.strokeStyle = effectColor;\n                ctx.globalAlpha = 0.3;\n                ctx.lineWidth = 2;\n                ctx.beginPath();\n                ctx.arc(centerX, centerY, canvas.width / 3, 0, Math.PI * 2);\n                ctx.stroke();\n                ctx.globalAlpha = 1;\n            } else {\n                // SVG magical effect\n                if ('innerHTML' in ctx) {\n                    (ctx as any).innerHTML += `\n            <circle cx=\"50%\" cy=\"50%\" r=\"35%\" stroke=\"${effectColor}\" stroke-width=\"2\" fill=\"none\" opacity=\"0.3\"/>\n          `;\n                }\n            }\n        }\n    }\n\n    // Color utility methods\n    private getSkinColor(tone: string): string {\n        const colors: Record<string, string> = {\n            'fair': '#FDBCB4',\n            'light': '#EDB98A',\n            'medium': '#C68642',\n            'olive': '#A0785A',\n            'tan': '#8D5524',\n            'dark': '#654321',\n            'pale': '#F5DEB3',\n            'crystalline': '#E6E6FA',\n            'metallic': '#C0C0C0',\n            'scaled': '#8B4513'\n        };\n        return colors[tone] || colors['medium'];\n    }\n\n    private getHairColor(color: string): string {\n        const colors: Record<string, string> = {\n            'blonde': '#FAD5A5',\n            'brown': '#8B4513',\n            'black': '#000000',\n            'red': '#B22222',\n            'auburn': '#A52A2A',\n            'green': '#228B22',\n            'silver': '#C0C0C0',\n            'white': '#F5F5F5',\n            'crystal': '#E6E6FA',\n            'copper': '#B87333'\n        };\n        return colors[color] || colors['brown'];\n    }\n\n    private getEyeColor(color: string): string {\n        const colors: Record<string, string> = {\n            'blue': '#4169E1',\n            'brown': '#8B4513',\n            'green': '#228B22',\n            'hazel': '#8E7618',\n            'gray': '#708090',\n            'violet': '#8B008B',\n            'gold': '#DAA520',\n            'amber': '#FFBF00',\n            'silver': '#C0C0C0'\n        };\n        return colors[color] || colors['brown'];\n    }\n}\n\n// Export singleton\nexport const renderer2D = new Renderer2D();\n\n// Convenience functions\nexport async function renderCharacterToCanvas(\n    characterData: CharacterVisualData,\n    options: PortraitOptions,\n    canvas: HTMLCanvasElement\n): Promise<HTMLCanvasElement> {\n    return renderer2D.renderToCanvas(characterData, options, canvas);\n}\n\nexport async function renderCharacterToSVG(\n    characterData: CharacterVisualData,\n    options: PortraitOptions\n): Promise<string> {\n    return renderer2D.renderToSVG(characterData, options);\n}","// Visual Generation Service\n// Main service for generating character portraits and visuals\n\nimport { CharacterVisualData, PortraitOptions, VisualGenerationResult, VisualPlugin } from './types';\nimport { assetManager, ensureAssetsLoaded, getFallbackSpecies, getFallbackArchetype } from './assets';\nimport { getClassVisualTheme, generateDefaultAppearance } from './classmap';\nimport { createCharacterRandom, ColorVariations } from './seed';\nimport { renderCharacterToSVG } from './renderer2d';\nimport { optimizeSvg } from './svgUtils';\n\nconst portraitCache: Record<string, string> = {};\n\nclass VisualService {\n    private plugins: Map<string, VisualPlugin> = new Map();\n    private initialized = false;\n\n    /**\n     * Initialize the visual service\n     */\n    async initialize(): Promise<void> {\n        if (this.initialized) return;\n\n        try {\n            await ensureAssetsLoaded();\n            this.registerDefaultPlugins();\n            this.initialized = true;\n            console.log('Visual service initialized');\n        } catch (error) {\n            console.error('Failed to initialize visual service:', error);\n            throw error;\n        }\n    }\n\n    /**\n     * Register default visual plugins\n     */\n    private registerDefaultPlugins(): void {\n        // 2D SVG renderer (primary)\n        this.registerPlugin({\n            name: '2d-svg-renderer',\n            version: '1.0.0',\n            render: this.render2DSVGPortrait.bind(this),\n            supports: () => true // Supports all species/archetypes\n        });\n\n        // Placeholder text renderer (fallback)\n        this.registerPlugin({\n            name: 'text-placeholder',\n            version: '1.0.0',\n            render: this.renderTextPlaceholder.bind(this),\n            supports: () => true\n        });\n\n        // TODO: Add Canvas, and 3D renderers in future updates\n    }\n\n    /**\n     * Register a visual plugin\n     */\n    registerPlugin(plugin: VisualPlugin): void {\n        this.plugins.set(plugin.name, plugin);\n    }\n\n    /**\n     * Generate character portrait\n     */\n    async generatePortrait(\n        characterData: CharacterVisualData,\n        options: PortraitOptions = { size: 'medium', format: 'svg' }\n    ): Promise<VisualGenerationResult> {\n        const startTime = performance.now();\n\n        try {\n            if (!this.initialized) {\n                await this.initialize();\n            }\n\n            // Enhance character data with generated defaults\n            const enhancedData = this.enhanceCharacterData(characterData);\n\n            // Find suitable plugin\n            const plugin = this.findBestPlugin(enhancedData.species, enhancedData.archetype);\n            if (!plugin) {\n                throw new Error('No suitable visual plugin found');\n            }\n\n            // Generate the visual\n            const context = this.createRenderContext(options);\n            const result = await plugin.render(enhancedData, context);\n\n            console.log('🎨 VisualService: Plugin render result:', {\n                resultType: typeof result,\n                isString: typeof result === 'string',\n                length: typeof result === 'string' ? result.length : 'N/A',\n                preview: typeof result === 'string' ? result.substring(0, 100) + '...' : result,\n                isSVG: typeof result === 'string' && result.includes('<svg')\n            });\n\n            const renderTime = performance.now() - startTime;\n\n            const finalResult = {\n                success: true,\n                data: result,\n                metadata: {\n                    renderTime,\n                    cacheKey: this.generateCacheKey(characterData, options),\n                    assets: this.getUsedAssets(enhancedData)\n                }\n            };\n\n            console.log('📤 VisualService: Final result being returned:', {\n                success: finalResult.success,\n                hasData: !!finalResult.data,\n                dataType: typeof finalResult.data,\n                renderTime: finalResult.metadata.renderTime\n            });\n\n            return finalResult;\n\n        } catch (error) {\n            const renderTime = performance.now() - startTime;\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : 'Unknown error',\n                metadata: {\n                    renderTime,\n                    assets: []\n                }\n            };\n        }\n    }\n\n    /**\n     * Enhance character data with generated defaults\n     */\n    private enhanceCharacterData(data: CharacterVisualData): CharacterVisualData {\n        const rng = createCharacterRandom(data);\n\n        // Generate appearance if missing\n        const appearance = data.appearance || {};\n        const defaultAppearance = generateDefaultAppearance(data.species, data.archetype);\n\n        // Use seed-based generation for missing values\n        const colorVariations = ColorVariations.forSpecies(data.species, rng);\n\n        return {\n            ...data,\n            appearance: {\n                ...defaultAppearance,\n                ...appearance,\n                // Fill in missing color values with seeded variations\n                skinTone: appearance.skinTone || colorVariations.skinTone,\n                hairColor: appearance.hairColor || colorVariations.hairColor,\n                eyeColor: appearance.eyeColor || colorVariations.eyeColor\n            },\n            style: data.style || {\n                artStyle: 'stylized',\n                colorScheme: 'natural'\n            }\n        };\n    }\n\n    /**\n     * Find best plugin for character\n     */\n    private findBestPlugin(species: string, archetype: string): VisualPlugin | null {\n        const pluginArray = Array.from(this.plugins.values());\n        for (const plugin of pluginArray) {\n            if (plugin.supports(species, archetype)) {\n                return plugin;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Create render context\n     */\n    private createRenderContext(options: PortraitOptions) {\n        return {\n            options,\n            // Canvas/SVG context will be added by specific renderers\n        };\n    }\n\n    /**\n     * Generate cache key for portrait\n     */\n    private generateCacheKey(data: CharacterVisualData, options: PortraitOptions): string {\n        const keyData = {\n            name: data.name,\n            species: data.species,\n            archetype: data.archetype,\n            level: data.level,\n            appearance: data.appearance,\n            size: options.size,\n            format: options.format\n        };\n        return btoa(JSON.stringify(keyData));\n    }\n\n    /**\n     * Get assets used for character\n     */\n    private getUsedAssets(data: CharacterVisualData): string[] {\n        const assets: string[] = [];\n\n        // Get class-specific assets\n        const theme = getClassVisualTheme(data.archetype);\n        if (theme?.preferredAssets) {\n            Object.values(theme.preferredAssets).flat().forEach(asset => {\n                assets.push(asset);\n            });\n        }\n\n        return assets;\n    }\n\n    /**\n     * 2D SVG renderer (main renderer)\n     */\n    private async render2DSVGPortrait(\n        data: CharacterVisualData,\n        context: any\n    ): Promise<string> {\n        try {\n            return await renderCharacterToSVG(data, context.options);\n        } catch (error) {\n            console.warn('2D SVG renderer failed, falling back to placeholder:', error);\n            return this.renderTextPlaceholder(data, context);\n        }\n    }\n\n    /**\n     * Text placeholder renderer (fallback)\n     */\n    private async renderTextPlaceholder(\n        data: CharacterVisualData,\n        context: any\n    ): Promise<string> {\n        const { size } = context.options;\n        const dimensions: Record<string, number> = {\n            small: 64,\n            medium: 128,\n            large: 256\n        };\n\n        const dim = dimensions[size as string] || 128;\n\n        // Try to get theme colors, with fallbacks\n        const theme = getClassVisualTheme(data.archetype);\n        const primaryColor = theme?.colorPalette.primary || '#4a5568';\n        const secondaryColor = theme?.colorPalette.secondary || '#718096';\n\n        // Try species fallback for colors\n        let speciesColor = primaryColor;\n        if (data.species === 'Crystalborn') speciesColor = '#9f7aea';\n        else if (data.species === 'Sylvanborn') speciesColor = '#38a169';\n        else if (data.species === 'Nightborn') speciesColor = '#553c9a';\n        else if (data.species === 'Stormcaller') speciesColor = '#3182ce';\n        else if (data.species === 'Draketh') speciesColor = '#e53e3e';\n        else if (data.species === 'Alloy') speciesColor = '#718096';\n        else if (data.species === 'Voidkin') speciesColor = '#2d3748';\n\n        // Create a more attractive procedural SVG\n        return `\n      <svg width=\"${dim}\" height=\"${dim}\" viewBox=\"0 0 ${dim} ${dim}\" xmlns=\"http://www.w3.org/2000/svg\">\n        <defs>\n          <linearGradient id=\"bgGrad\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n            <stop offset=\"0%\" style=\"stop-color:${speciesColor};stop-opacity:0.1\"/>\n            <stop offset=\"100%\" style=\"stop-color:${secondaryColor};stop-opacity:0.2\"/>\n          </linearGradient>\n        </defs>\n        <rect width=\"${dim}\" height=\"${dim}\" fill=\"url(#bgGrad)\"/>\n        <circle cx=\"${dim / 2}\" cy=\"${dim * 0.35}\" r=\"${dim * 0.12}\" fill=\"${speciesColor}\" opacity=\"0.6\"/>\n        <rect x=\"${dim * 0.3}\" y=\"${dim * 0.5}\" width=\"${dim * 0.4}\" height=\"${dim * 0.35}\" fill=\"${speciesColor}\" opacity=\"0.4\" rx=\"4\"/>\n        <text x=\"${dim / 2}\" y=\"${dim * 0.85}\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"${dim * 0.08}\" font-weight=\"bold\" fill=\"${speciesColor}\">\n          ${data.name || 'Character'}\n        </text>\n        <text x=\"${dim / 2}\" y=\"${dim * 0.93}\" text-anchor=\"middle\" font-family=\"Arial, sans-serif\" font-size=\"${dim * 0.06}\" fill=\"${secondaryColor}\" opacity=\"0.8\">\n          ${data.species} ${data.archetype}\n        </text>\n      </svg>\n    `.trim();\n    }\n\n    /**\n     * Get service statistics\n     */\n    getStats() {\n        return {\n            initialized: this.initialized,\n            plugins: this.plugins.size,\n            pluginNames: Array.from(this.plugins.keys()),\n            assetStats: assetManager.getStats()\n        };\n    }\n\n    /**\n     * Check if service is ready\n     */\n    isReady(): boolean {\n        return this.initialized && assetManager.isLoaded();\n    }\n}\n\n// Singleton instance\nexport const visualService = new VisualService();\n\n// Convenience functions\nexport async function generateCharacterPortrait(\n    characterData: CharacterVisualData,\n    options?: PortraitOptions\n): Promise<VisualGenerationResult> {\n    return visualService.generatePortrait(characterData, options);\n}\n\nexport async function initializeVisualSystem(): Promise<void> {\n    await visualService.initialize();\n}\n\nexport function isVisualSystemReady(): boolean {\n    return visualService.isReady();\n}\n\n/**\n * Bind a generated portrait to a character object (as shown in patch example)\n * This function generates a portrait and sets the portraitUrl property\n */\nexport async function bindPortraitToCharacter(\n    character: any,\n    options: {\n        body?: string;\n        palette?: string;\n        size?: { width: number; height: number };\n    } = {}\n): Promise<any> {\n    try {\n        // Convert character to visual data format\n        const visualData: CharacterVisualData = {\n            name: character.name || 'Character',\n            species: character.species || 'Human',\n            archetype: character.archetype || 'Warrior',\n            level: character.level || 1,\n            appearance: character.appearance || {}\n        };\n\n        // Generate portrait with specified options\n        const portraitOptions: PortraitOptions = {\n            size: (options.size?.width || 128) > 200 ? 'large' : (options.size?.width || 128) > 100 ? 'medium' : 'small',\n            format: 'svg', // Can be extended to support PNG data URLs in future\n            quality: 'medium'\n        };\n\n        const result = await generateCharacterPortrait(visualData, portraitOptions);\n\n        if (result.success && result.data) {\n            // For SVG, we can convert to data URL if needed\n            let portraitUrl = result.data as string;\n\n            if (typeof result.data === 'string' && result.data.startsWith('<svg')) {\n                // Convert SVG to data URL\n                const svgBlob = new Blob([result.data], { type: 'image/svg+xml' });\n                portraitUrl = `data:image/svg+xml;base64,${btoa(result.data)}`;\n            }\n\n            // Bind to character object\n            character.portraitUrl = portraitUrl;\n\n            console.log(`Portrait bound to ${character.name}: ${portraitUrl.substring(0, 50)}...`);\n        } else {\n            console.warn(`Failed to generate portrait for ${character.name}:`, result.error);\n        }\n\n        return character;\n    } catch (error) {\n        console.error('Error binding portrait to character:', error);\n        return character;\n    }\n}\n\n/**\n * Add this utility function\n */\nexport function clearPortraitCache(): void {\n    Object.keys(portraitCache).forEach(key => delete portraitCache[key]);\n    console.log('Portrait cache cleared');\n}","// Portrait Preview Component\n// React component for displaying generated character portraits\n\nimport React, { useEffect, useState } from 'react';\nimport { visualService } from './service';\nimport { CharacterVisualData, PortraitOptions } from './types';\n\ninterface PortraitPreviewProps {\n    character: CharacterVisualData;\n    width?: number;\n    height?: number;\n    options?: PortraitOptions;\n}\n\nexport const PortraitPreview: React.FC<PortraitPreviewProps> = ({\n    character,\n    width = 200,\n    height = 200,\n    options = { size: 'medium', format: 'svg' }\n}) => {\n    // Reduced console logging to prevent spam\n    // console.log('🎭 PortraitPreview: Component mounted/re-rendered with character:', character);\n\n    const [isInitialized, setIsInitialized] = useState(false);\n    const [isGenerating, setIsGenerating] = useState(false);\n    const [portraitData, setPortraitData] = useState<string | null>(null);\n    const [errorMessage, setErrorMessage] = useState<string | null>(null);\n    const [showDebug, setShowDebug] = useState(false);\n\n    // Initialize visual system\n    useEffect(() => {\n        const initSystem = async () => {\n            try {\n                // console.log('🚀 PortraitPreview: Initializing visual system...');\n                await visualService.initialize();\n                // console.log('✅ PortraitPreview: Visual system initialized successfully');\n                setIsInitialized(true);\n            } catch (err) {\n                console.error('❌ PortraitPreview: Failed to initialize visual system:', err);\n                setErrorMessage('Failed to initialize portrait system');\n            }\n        };\n\n        if (!visualService.isReady()) {\n            initSystem();\n        } else {\n            setIsInitialized(true);\n        }\n    }, []);\n\n    // Generate portrait when character or options change\n    useEffect(() => {\n        // console.log('🔄 PortraitPreview: useEffect triggered - isInitialized:', isInitialized, 'character:', character.name, character.species, character.archetype);\n        if (!isInitialized || !character.name) {\n            // console.log('⏸️ PortraitPreview: Skipping generation - isInitialized:', isInitialized, 'hasName:', !!character.name);\n            return;\n        }\n\n        const generateCharacterPortrait = async () => {\n            if (!character) {\n                setErrorMessage('No character data provided');\n                return;\n            }\n\n            setIsGenerating(true);\n            try {\n                const result = await visualService.generatePortrait(character, options);\n                if (result.success && result.data) {\n                    setPortraitData(result.data as string);\n                    setErrorMessage(null);\n                } else {\n                    setErrorMessage(result.error || 'Portrait generation failed');\n                }\n                setIsGenerating(false);\n            } catch (err) {\n                setErrorMessage((err as Error).message || 'Portrait generation failed');\n                setIsGenerating(false);\n            }\n        };\n\n        generateCharacterPortrait();\n    }, [character, options, isInitialized]);\n\n    const toggleDebug = (e: React.MouseEvent) => {\n        e.stopPropagation();\n        setShowDebug(!showDebug);\n    };\n\n    const containerStyle = {\n        width,\n        height,\n        position: 'relative' as 'relative',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        border: '3px solid #4caf50',\n        backgroundColor: '#f0f8ff',\n        overflow: 'hidden' as 'hidden'\n    } as React.CSSProperties;\n\n    // Loading or error state\n    if (!isInitialized || isGenerating || errorMessage) {\n        // console.log('🎭 PortraitPreview: Showing loading/error state - isInitialized:', isInitialized, 'isGenerating:', isGenerating, 'errorMessage:', errorMessage);\n        return (\n            <div className=\"portrait-preview\" style={containerStyle}>\n                {errorMessage ? (\n                    <>\n                        <div>❌ {errorMessage}</div>\n                        <button onClick={toggleDebug} style={{ position: 'absolute', right: '5px', bottom: '5px' }}>🐞</button>\n                    </>\n                ) : !isInitialized ? (\n                    <div style={{ textAlign: 'center', color: '#1976d2', fontWeight: 'bold' }}>\n                        🔧 Initializing...\n                    </div>\n                ) : (\n                    <div style={{ textAlign: 'center', color: '#f57c00', fontWeight: 'bold' }}>\n                        🎨 Generating...\n                    </div>\n                )}\n            </div>\n        );\n    }\n\n    // Success state - render the portrait\n    if (portraitData) {\n        // console.log('🎭 PortraitPreview: Showing success state - data type:', typeof portraitData, 'data length:', portraitData.length);\n        return (\n            <div className=\"portrait-preview\" style={containerStyle}>\n                <div dangerouslySetInnerHTML={{ __html: portraitData }} />\n                <button\n                    onClick={toggleDebug}\n                    style={{\n                        position: 'absolute',\n                        right: '5px',\n                        bottom: '5px',\n                        background: 'rgba(0,0,0,0.5)',\n                        color: 'white',\n                        border: 'none',\n                        borderRadius: '3px',\n                        padding: '2px 5px',\n                        fontSize: '10px'\n                    }}\n                >\n                    🐞\n                </button>\n            </div>\n        );\n    }\n\n    // Fallback empty state\n    // console.log('🎭 PortraitPreview: Showing fallback empty state - no portrait data available');\n    return (\n        <div className=\"portrait-preview\" style={containerStyle}>\n            <div style={{ textAlign: 'center', color: '#f57c00', fontWeight: 'bold' }}>\n                ⚠️ No Portrait\n                <br />\n                <small>Check console for details</small>\n            </div>\n\n            {showDebug && (\n                <div style={{\n                    position: 'absolute',\n                    top: '0',\n                    left: '0',\n                    width: '100%',\n                    background: 'rgba(0,0,0,0.8)',\n                    color: 'white',\n                    padding: '10px',\n                    fontSize: '12px',\n                    zIndex: 10,\n                    overflow: 'auto',\n                    maxHeight: '100%'\n                }}>\n                    <h4>Portrait Debug</h4>\n                    <div>Character: {character.name || 'Unnamed'}</div>\n                    <div>Species: {character.species || 'Not set'}</div>\n                    <div>Archetype: {character.archetype || 'Not set'}</div>\n                    <div>Initialized: {isInitialized ? '✅' : '❌'}</div>\n                    <div>Generating: {isGenerating ? '🔄' : '✅'}</div>\n                    <div>Has Data: {portraitData ? '✅' : '❌'}</div>\n                    <div>Error: {errorMessage || 'None'}</div>\n                    <pre style={{ fontSize: '10px', overflow: 'auto', maxHeight: '100px' }}>\n                        {JSON.stringify(options, null, 2)}\n                    </pre>\n                    <button onClick={toggleDebug}>Close</button>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default PortraitPreview;","// World Engine Visual System\n// Main export file for the character portrait and visual generation system\n\n// Types\nexport type {\n    CharacterVisualData,\n    PortraitOptions,\n    VisualAsset,\n    RenderContext,\n    Visual3DContext,\n    VisualPlugin,\n    VisualGenerationResult\n} from './types';\n\n// Core Services\nexport {\n    generateCharacterPortrait,\n    initializeVisualSystem,\n    isVisualSystemReady,\n    visualService,\n    bindPortraitToCharacter\n} from './service';\n\n// Asset Management\nexport {\n    assetManager,\n    ensureAssetsLoaded,\n    getAssetUrl\n} from './assets';\n\n// Class/Character Mapping\nexport {\n    getClassVisualTheme,\n    getClassColors,\n    getPreferredAssets,\n    generateDefaultAppearance,\n    getAllClassThemes,\n    hasVisualTheme\n} from './classmap';\n\n// Random Generation\nexport {\n    SeededRandom,\n    generateCharacterSeed,\n    createCharacterRandom,\n    generateVisualVariation,\n    generateMultipleVariations,\n    ColorVariations\n} from './seed';\n\n// 2D Rendering\nexport {\n    renderer2D,\n    renderCharacterToCanvas,\n    renderCharacterToSVG\n} from './renderer2d';\n\n// Asset Layering Manifest\nexport {\n    loadLayeredPortrait,\n    getAssetLayers,\n    isSupported as isSpeciesArchetypeSupported,\n    getSupportedSpecies,\n    getSupportedArchetypes\n} from './manifest';\n\n// React Components\nexport {\n    PortraitPreview,\n    default as PortraitPreviewComponent\n} from './PortraitPreview';\n\n// Import types for utility functions\nimport { CharacterVisualData, PortraitOptions } from './types';\nimport { visualService, generateCharacterPortrait } from './service';\n\n// Utility Functions\nexport const VisualUtils = {\n    /**\n     * Create character data for portrait generation\n     */\n    createCharacterData: (character: {\n        name: string;\n        species: string;\n        archetype: string;\n        level?: number;\n    }): CharacterVisualData => ({\n        name: character.name,\n        species: character.species,\n        archetype: character.archetype,\n        level: character.level || 1,\n        appearance: {}\n    }),\n\n    /**\n     * Get default portrait options\n     */\n    getDefaultPortraitOptions: (): PortraitOptions => ({\n        size: 'medium',\n        format: 'svg',\n        quality: 'medium',\n        background: 'transparent'\n    }),\n\n    /**\n     * Check if character data is valid for portrait generation\n     */\n    isValidCharacterData: (data: Partial<CharacterVisualData>): data is CharacterVisualData => {\n        return !!(data.name && data.species && data.archetype);\n    }\n};\n\n// Version info\nexport const VERSION = '1.0.0';\n\n// Development helpers\nexport const DevTools = {\n    /**\n     * Get system statistics\n     */\n    getSystemStats: () => visualService.getStats(),\n\n    /**\n     * Test portrait generation\n     */\n    testPortraitGeneration: async (characterName = 'Test Character') => {\n        const testData = VisualUtils.createCharacterData({\n            name: characterName,\n            species: 'Human',\n            archetype: 'Warrior'\n        });\n\n        return generateCharacterPortrait(testData);\n    },\n\n    /**\n     * Test layered portrait loading directly\n     */\n    testLayeredPortrait: async (characterName = 'Test Character') => {\n        const { loadLayeredPortrait } = await import('./manifest');\n        return loadLayeredPortrait('Human', 'Warrior', characterName);\n    }\n};","import React, { useState, useEffect } from 'react';\nimport { PortraitPreview, VisualUtils } from '../visuals';\n\ninterface Campaign {\n  id: string;\n  name: string;\n  worldPreset: string;\n  seed: string;\n  createdAt: string;\n  lastPlayed: string;\n  characters: string[]; // Character IDs\n}\n\ninterface SavedCharacter {\n  id: string;\n  name: string;\n  race: string;\n  characterClass: string;\n  level: number;\n  createdAt: string;\n  data: any; // Full character data\n}\n\ninterface Props {\n  onNewCampaign: () => void;\n  onLoadCampaign: (campaign: Campaign) => void;\n  onNameGenerator: () => void;\n  onSpellGenerator: () => void;\n  onSpellAssignment: () => void;\n  onHealingSystem: () => void;\n  onCharacterCreate: () => void;\n  onPortraitTest: () => void;\n}\n\nexport function MainMenu({ onNewCampaign, onLoadCampaign, onNameGenerator, onSpellGenerator, onSpellAssignment, onHealingSystem, onCharacterCreate, onPortraitTest }: Props) {\n  const [campaigns, setCampaigns] = useState<Campaign[]>([]);\n  const [characters, setCharacters] = useState<SavedCharacter[]>([]);\n  const [activeTab, setActiveTab] = useState<'campaigns' | 'characters'>('campaigns');\n  const [selectedCharacter, setSelectedCharacter] = useState<SavedCharacter | null>(null);\n\n  useEffect(() => {\n    // Load saved campaigns and characters from localStorage\n    loadCampaigns();\n    loadCharacters();\n  }, []);\n\n  const loadCampaigns = () => {\n    try {\n      // Try to recover campaigns using the enhanced recovery system\n      let campaigns = recoverCampaigns();\n      setCampaigns(campaigns);\n\n      // Show recovery message if campaigns were recovered from backup\n      const primarySaved = localStorage.getItem('world-engine-campaigns');\n      const backupSaved = localStorage.getItem('world-engine-campaigns-backup');\n\n      if (!primarySaved && backupSaved && campaigns.length > 0) {\n        alert('⚠️ Primary save was missing, but your campaigns were recovered from backup!');\n      }\n    } catch (error) {\n      console.error('Error loading campaigns:', error);\n      setCampaigns([]);\n    }\n  };\n\n  // Enhanced recovery function (matches the one in index.tsx)\n  const recoverCampaigns = () => {\n    try {\n      // Try primary storage first\n      let campaigns = JSON.parse(localStorage.getItem('world-engine-campaigns') || '[]');\n\n      if (campaigns.length === 0) {\n        // Try backup storage\n        const backup = JSON.parse(localStorage.getItem('world-engine-campaigns-backup') || '{}');\n        if (backup.campaigns && backup.campaigns.length > 0) {\n          campaigns = backup.campaigns;\n          localStorage.setItem('world-engine-campaigns', JSON.stringify(campaigns));\n          console.log('Recovered campaigns from backup storage');\n        }\n      }\n\n      if (campaigns.length === 0) {\n        // Try session storage\n        const sessionCampaigns = JSON.parse(sessionStorage.getItem('world-engine-campaigns-session') || '[]');\n        if (sessionCampaigns.length > 0) {\n          campaigns = sessionCampaigns;\n          localStorage.setItem('world-engine-campaigns', JSON.stringify(campaigns));\n          console.log('Recovered campaigns from session storage');\n        }\n      }\n\n      return campaigns;\n    } catch (error) {\n      console.error('Error recovering campaigns:', error);\n      return [];\n    }\n  };\n\n  const loadCharacters = () => {\n    try {\n      const saved = localStorage.getItem('world-engine-characters');\n      if (saved) {\n        setCharacters(JSON.parse(saved));\n      }\n    } catch (error) {\n      console.error('Error loading characters:', error);\n    }\n  };\n\n  const deleteCampaign = (campaignId: string) => {\n    const updated = campaigns.filter(c => c.id !== campaignId);\n    setCampaigns(updated);\n    localStorage.setItem('world-engine-campaigns', JSON.stringify(updated));\n  };\n\n  const deleteCharacter = (characterId: string) => {\n    const updated = characters.filter(c => c.id !== characterId);\n    setCharacters(updated);\n    localStorage.setItem('world-engine-characters', JSON.stringify(updated));\n  };\n\n  const formatDate = (dateStr: string) => {\n    return new Date(dateStr).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  // Backup and recovery functions\n  const downloadBackup = () => {\n    try {\n      const backup = {\n        campaigns,\n        characters,\n        exportDate: new Date().toISOString(),\n        version: '2.0',\n        worldEngineVersion: 'v1.0.0'\n      };\n\n      const dataStr = JSON.stringify(backup, null, 2);\n      const dataBlob = new Blob([dataStr], { type: 'application/json' });\n      const url = URL.createObjectURL(dataBlob);\n\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `world-engine-backup-${new Date().toISOString().split('T')[0]}.json`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n\n      URL.revokeObjectURL(url);\n      alert('✅ Backup downloaded successfully!');\n    } catch (error) {\n      console.error('Error downloading backup:', error);\n      alert('❌ Failed to download backup');\n    }\n  };\n\n  const handleImportBackup = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      try {\n        const backup = JSON.parse(e.target?.result as string);\n\n        if (backup.campaigns && Array.isArray(backup.campaigns)) {\n          // Save campaigns\n          localStorage.setItem('world-engine-campaigns', JSON.stringify(backup.campaigns));\n          localStorage.setItem('world-engine-campaigns-backup', JSON.stringify(backup));\n          setCampaigns(backup.campaigns);\n        }\n\n        if (backup.characters && Array.isArray(backup.characters)) {\n          // Save characters\n          localStorage.setItem('world-engine-characters', JSON.stringify(backup.characters));\n          localStorage.setItem('world-engine-characters-backup', JSON.stringify(backup.characters));\n          setCharacters(backup.characters);\n        }\n\n        alert(`✅ Backup imported successfully!\\nCampaigns: ${backup.campaigns?.length || 0}\\nCharacters: ${backup.characters?.length || 0}`);\n      } catch (error) {\n        console.error('Error importing backup:', error);\n        alert('❌ Invalid backup file format');\n      }\n    };\n    reader.readAsText(file);\n\n    // Reset input value so same file can be selected again\n    event.target.value = '';\n  };\n\n  const forceRecovery = () => {\n    try {\n      const recovered = recoverCampaigns();\n      setCampaigns(recovered);\n\n      // Try to recover characters too\n      const backupChars = localStorage.getItem('world-engine-characters-backup');\n      if (backupChars) {\n        const chars = JSON.parse(backupChars);\n        if (Array.isArray(chars)) {\n          localStorage.setItem('world-engine-characters', JSON.stringify(chars));\n          setCharacters(chars);\n        }\n      }\n\n      alert(`🔄 Recovery attempt completed!\\nRecovered ${recovered.length} campaigns`);\n    } catch (error) {\n      console.error('Error during recovery:', error);\n      alert('❌ Recovery failed');\n    }\n  };\n\n  const menuStyle: React.CSSProperties = {\n    background: 'linear-gradient(135deg, #0c1426 0%, #1e293b 100%)',\n    minHeight: '100vh',\n    color: '#f8fafc',\n    fontFamily: 'system-ui, -apple-system, sans-serif'\n  };\n\n  const headerStyle: React.CSSProperties = {\n    textAlign: 'center',\n    padding: '40px 20px',\n    borderBottom: '1px solid #334155'\n  };\n\n  const titleStyle: React.CSSProperties = {\n    fontSize: '3rem',\n    fontWeight: 'bold',\n    margin: '0 0 10px 0',\n    background: 'linear-gradient(45deg, #3b82f6, #8b5cf6)',\n    WebkitBackgroundClip: 'text',\n    WebkitTextFillColor: 'transparent',\n    backgroundClip: 'text'\n  };\n\n  const subtitleStyle: React.CSSProperties = {\n    fontSize: '1.2rem',\n    color: '#94a3b8',\n    margin: 0\n  };\n\n  const containerStyle: React.CSSProperties = {\n    maxWidth: '1200px',\n    margin: '0 auto',\n    padding: '40px 20px'\n  };\n\n  const tabsStyle: React.CSSProperties = {\n    display: 'flex',\n    marginBottom: '30px',\n    borderBottom: '1px solid #334155'\n  };\n\n  const tabStyle = (isActive: boolean): React.CSSProperties => ({\n    padding: '12px 24px',\n    background: 'none',\n    border: 'none',\n    color: isActive ? '#3b82f6' : '#94a3b8',\n    fontSize: '1.1rem',\n    fontWeight: isActive ? '600' : '400',\n    cursor: 'pointer',\n    borderBottom: isActive ? '2px solid #3b82f6' : '2px solid transparent',\n    transition: 'all 0.2s ease'\n  });\n\n  const gridStyle: React.CSSProperties = {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))',\n    gap: '20px',\n    marginBottom: '30px'\n  };\n\n  const cardStyle: React.CSSProperties = {\n    background: '#1e293b',\n    border: '1px solid #334155',\n    borderRadius: '12px',\n    padding: '20px',\n    transition: 'all 0.2s ease',\n    cursor: 'pointer'\n  };\n\n  const newCardStyle: React.CSSProperties = {\n    ...cardStyle,\n    background: 'linear-gradient(135deg, #059669 0%, #047857 100%)',\n    border: '1px solid #10b981',\n    textAlign: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: '120px'\n  };\n\n  const buttonStyle: React.CSSProperties = {\n    background: '#3b82f6',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    padding: '8px 16px',\n    cursor: 'pointer',\n    fontSize: '0.9rem',\n    transition: 'background 0.2s ease'\n  };\n\n  const deleteButtonStyle: React.CSSProperties = {\n    ...buttonStyle,\n    background: '#dc2626',\n    marginLeft: '8px'\n  };\n\n  // Character Detail Modal Component\n  const CharacterDetailModal = ({ character, onClose }: { character: SavedCharacter; onClose: () => void }) => {\n    const modalOverlayStyle: React.CSSProperties = {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      background: 'rgba(0, 0, 0, 0.8)',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      zIndex: 1000,\n      padding: '20px'\n    };\n\n    const modalContentStyle: React.CSSProperties = {\n      background: '#1e293b',\n      border: '1px solid #334155',\n      borderRadius: '12px',\n      padding: '30px',\n      maxWidth: '600px',\n      maxHeight: '80vh',\n      width: '100%',\n      overflowY: 'auto',\n      color: '#f8fafc'\n    };\n\n    const statGridStyle: React.CSSProperties = {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))',\n      gap: '15px',\n      margin: '20px 0'\n    };\n\n    const statBoxStyle: React.CSSProperties = {\n      background: '#0f172a',\n      padding: '12px',\n      borderRadius: '8px',\n      textAlign: 'center',\n      border: '1px solid #334155'\n    };\n\n    return (\n      <div style={modalOverlayStyle} onClick={onClose}>\n        <div style={modalContentStyle} onClick={(e) => e.stopPropagation()}>\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n            <h2 style={{ margin: 0, color: '#3b82f6' }}>{character.name}</h2>\n            <button\n              onClick={onClose}\n              style={{\n                background: '#374151',\n                color: '#f8fafc',\n                border: 'none',\n                borderRadius: '6px',\n                padding: '8px 12px',\n                cursor: 'pointer',\n                fontSize: '16px'\n              }}\n            >\n              ✕\n            </button>\n          </div>\n\n          <div style={{ display: 'flex', gap: '20px', marginBottom: '20px' }}>\n            {character.data?.name && character.data?.species && character.data?.archetype ? (\n              <PortraitPreview\n                character={VisualUtils.createCharacterData({\n                  name: character.data.name,\n                  species: character.data.species,\n                  archetype: character.data.archetype,\n                  level: character.level || 1\n                })}\n                width={120}\n                height={120}\n              />\n            ) : (\n              <div style={{\n                width: 120,\n                height: 120,\n                background: '#374151',\n                borderRadius: '8px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                color: '#9ca3af',\n                fontSize: '24px',\n                flexShrink: 0\n              }}>\n                👤\n              </div>\n            )}\n            <div style={{ flex: 1 }}>\n              <p style={{ margin: '5px 0', fontSize: '18px' }}>\n                <strong>{character.race} {character.characterClass}</strong>\n              </p>\n              <p style={{ margin: '5px 0', color: '#94a3b8' }}>Level {character.level}</p>\n              <p style={{ margin: '5px 0', color: '#64748b', fontSize: '14px' }}>\n                Created: {formatDate(character.createdAt)}\n              </p>\n            </div>\n          </div>\n\n          {character.data && (\n            <>\n              {character.data.gender && (\n                <div style={{ marginBottom: '15px' }}>\n                  <h4 style={{ margin: '0 0 8px 0', color: '#8b5cf6' }}>Gender</h4>\n                  <p style={{ margin: 0, color: '#e2e8f0' }}>{character.data.gender}</p>\n                </div>\n              )}\n\n              {character.data.background && (\n                <div style={{ marginBottom: '15px' }}>\n                  <h4 style={{ margin: '0 0 8px 0', color: '#8b5cf6' }}>Background</h4>\n                  <p style={{ margin: 0, color: '#e2e8f0' }}>{character.data.background}</p>\n                </div>\n              )}\n\n              {character.data.stats && (\n                <div style={{ marginBottom: '20px' }}>\n                  <h4 style={{ margin: '0 0 12px 0', color: '#8b5cf6' }}>Ability Scores</h4>\n                  <div style={statGridStyle}>\n                    {Object.entries(character.data.stats).map(([stat, value]) => {\n                      const numValue = Number(value);\n                      return (\n                        <div key={stat} style={statBoxStyle}>\n                          <div style={{ fontWeight: 'bold', fontSize: '14px', color: '#94a3b8', marginBottom: '4px' }}>\n                            {stat.toUpperCase()}\n                          </div>\n                          <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#f1f5f9' }}>{numValue}</div>\n                          <div style={{ fontSize: '12px', color: '#64748b' }}>\n                            {numValue >= 10 ? '+' : ''}{Math.floor((numValue - 10) / 2)}\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </div>\n              )}\n\n              {character.data.traits && character.data.traits.length > 0 && (\n                <div style={{ marginBottom: '20px' }}>\n                  <h4 style={{ margin: '0 0 12px 0', color: '#8b5cf6' }}>Traits</h4>\n                  <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px' }}>\n                    {character.data.traits.map((trait: string, index: number) => (\n                      <span\n                        key={index}\n                        style={{\n                          background: '#0f172a',\n                          color: '#e2e8f0',\n                          padding: '4px 8px',\n                          borderRadius: '4px',\n                          fontSize: '12px',\n                          border: '1px solid #334155'\n                        }}\n                      >\n                        {trait}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {((character.data.knownCantrips && character.data.knownCantrips.length > 0) ||\n                (character.data.knownSpells && character.data.knownSpells.length > 0)) && (\n                  <div style={{ marginBottom: '20px' }}>\n                    <h4 style={{ margin: '0 0 12px 0', color: '#8b5cf6' }}>Spells & Magic</h4>\n\n                    {character.data.level && (\n                      <p style={{ margin: '0 0 8px 0', color: '#94a3b8', fontSize: '14px' }}>\n                        Level {character.data.level} Character\n                      </p>\n                    )}\n\n                    {character.data.knownCantrips && character.data.knownCantrips.length > 0 && (\n                      <div style={{ marginBottom: '12px' }}>\n                        <h5 style={{ margin: '0 0 6px 0', color: '#ec4899' }}>Known Cantrips:</h5>\n                        <div style={{ display: 'flex', flexWrap: 'wrap', gap: '6px' }}>\n                          {character.data.knownCantrips.map((cantrip: string, index: number) => (\n                            <span\n                              key={index}\n                              style={{\n                                background: '#ec4899',\n                                color: 'white',\n                                padding: '3px 8px',\n                                borderRadius: '4px',\n                                fontSize: '11px',\n                                fontWeight: 'bold'\n                              }}\n                            >\n                              {cantrip}\n                            </span>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n\n                    {character.data.knownSpells && character.data.knownSpells.length > 0 && (\n                      <div>\n                        <h5 style={{ margin: '0 0 6px 0', color: '#3b82f6' }}>Known Spells:</h5>\n                        <div style={{ display: 'flex', flexWrap: 'wrap', gap: '6px' }}>\n                          {character.data.knownSpells.map((spell: string, index: number) => (\n                            <span\n                              key={index}\n                              style={{\n                                background: '#3b82f6',\n                                color: 'white',\n                                padding: '3px 8px',\n                                borderRadius: '4px',\n                                fontSize: '11px',\n                                fontWeight: 'bold'\n                              }}\n                            >\n                              {spell}\n                            </span>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                )}\n\n              {character.data.mode && (\n                <div style={{ marginBottom: '15px' }}>\n                  <h4 style={{ margin: '0 0 8px 0', color: '#8b5cf6' }}>Creation Method</h4>\n                  <p style={{ margin: 0, color: '#e2e8f0' }}>\n                    {character.data.mode === 'POINT_BUY' ? 'Point Buy System' : 'Dice Roll'}\n                  </p>\n                </div>\n              )}\n            </>\n          )}\n\n          <div style={{ marginTop: '20px', textAlign: 'center' }}>\n            <button\n              onClick={onClose}\n              style={{\n                ...buttonStyle,\n                background: '#059669',\n                padding: '10px 20px',\n                fontSize: '16px'\n              }}\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div style={menuStyle}>\n      <div style={headerStyle}>\n        <h1 style={titleStyle}>World Engine</h1>\n        <p style={subtitleStyle}>Campaign & Character Management</p>\n\n        {/* Backup and Recovery Controls */}\n        <div style={{\n          marginTop: '20px',\n          display: 'flex',\n          gap: '12px',\n          justifyContent: 'center',\n          flexWrap: 'wrap'\n        }}>\n          <button\n            onClick={downloadBackup}\n            style={{\n              ...buttonStyle,\n              background: '#059669',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px'\n            }}\n          >\n            💾 Download Backup\n          </button>\n\n          <label style={{\n            ...buttonStyle,\n            background: '#7c3aed',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '6px',\n            cursor: 'pointer'\n          }}>\n            📂 Import Backup\n            <input\n              type=\"file\"\n              accept=\".json\"\n              onChange={handleImportBackup}\n              style={{ display: 'none' }}\n            />\n          </label>\n\n          <button\n            onClick={forceRecovery}\n            style={{\n              ...buttonStyle,\n              background: '#dc2626',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px'\n            }}\n          >\n            🔄 Force Recovery\n          </button>\n        </div>\n\n        <p style={{\n          fontSize: '0.85rem',\n          color: '#64748b',\n          marginTop: '12px',\n          fontStyle: 'italic'\n        }}>\n          💡 Auto-saves every 10 campaign saves • Backup before major changes\n        </p>\n      </div>\n\n      <div style={containerStyle}>\n        <div style={tabsStyle}>\n          <button\n            style={tabStyle(activeTab === 'campaigns')}\n            onClick={() => setActiveTab('campaigns')}\n          >\n            Campaigns\n          </button>\n          <button\n            style={tabStyle(activeTab === 'characters')}\n            onClick={() => setActiveTab('characters')}\n          >\n            Character Library\n          </button>\n        </div>\n\n        {activeTab === 'campaigns' && (\n          <div>\n            <div style={gridStyle}>\n              <div style={newCardStyle} onClick={onNewCampaign}>\n                <div style={{ fontSize: '3rem', marginBottom: '10px' }}>+</div>\n                <h3 style={{ margin: '0 0 5px 0' }}>New Campaign</h3>\n                <p style={{ margin: 0, opacity: 0.9 }}>Start a new adventure</p>\n              </div>\n\n              {campaigns.map(campaign => (\n                <div key={campaign.id} style={cardStyle}>\n                  <h3 style={{ margin: '0 0 10px 0', color: '#f1f5f9' }}>{campaign.name}</h3>\n                  <p style={{ margin: '0 0 5px 0', color: '#94a3b8', fontSize: '0.9rem' }}>\n                    World: {campaign.worldPreset || 'Custom'}\n                  </p>\n                  <p style={{ margin: '0 0 5px 0', color: '#94a3b8', fontSize: '0.9rem' }}>\n                    Seed: {campaign.seed.substring(0, 20)}...\n                  </p>\n                  <p style={{ margin: '0 0 15px 0', color: '#64748b', fontSize: '0.8rem' }}>\n                    Last played: {formatDate(campaign.lastPlayed)}\n                  </p>\n                  <div>\n                    <button\n                      style={buttonStyle}\n                      onClick={() => onLoadCampaign(campaign)}\n                    >\n                      Load Campaign\n                    </button>\n                    <button\n                      style={deleteButtonStyle}\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        if (confirm('Delete this campaign?')) {\n                          deleteCampaign(campaign.id);\n                        }\n                      }}\n                    >\n                      Delete\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {campaigns.length === 0 && (\n              <div style={{ textAlign: 'center', color: '#64748b', fontSize: '1.1rem', marginTop: '60px' }}>\n                <p>No campaigns yet. Create your first campaign to begin!</p>\n              </div>\n            )}\n          </div>\n        )}\n\n        {activeTab === 'characters' && (\n          <div>\n            <div style={gridStyle}>\n              <div style={newCardStyle} onClick={onCharacterCreate}>\n                <div style={{ fontSize: '3rem', marginBottom: '10px' }}>⚔️</div>\n                <h3 style={{ margin: '0 0 5px 0' }}>Character Creator</h3>\n                <p style={{ margin: 0, opacity: 0.9 }}>Create new characters</p>\n              </div>\n\n              <div style={newCardStyle} onClick={onNameGenerator}>\n                <div style={{ fontSize: '3rem', marginBottom: '10px' }}>📜</div>\n                <h3 style={{ margin: '0 0 5px 0' }}>Name Generator</h3>\n                <p style={{ margin: 0, opacity: 0.9 }}>Generate fantasy names</p>\n              </div>\n\n              <div style={newCardStyle} onClick={onSpellGenerator}>\n                <div style={{ fontSize: '3rem', marginBottom: '10px' }}>✨</div>\n                <h3 style={{ margin: '0 0 5px 0' }}>Spell Generator</h3>\n                <p style={{ margin: 0, opacity: 0.9 }}>Create custom spells</p>\n              </div>\n\n              <div style={newCardStyle} onClick={onSpellAssignment}>\n                <div style={{ fontSize: '3rem', marginBottom: '10px' }}>📜</div>\n                <h3 style={{ margin: '0 0 5px 0' }}>Assign Spells</h3>\n                <p style={{ margin: 0, opacity: 0.9 }}>Give spells to characters</p>\n              </div>\n\n              <div style={newCardStyle} onClick={onHealingSystem}>\n                <div style={{ fontSize: '3rem', marginBottom: '10px' }}>⚕️</div>\n                <h3 style={{ margin: '0 0 5px 0' }}>Healing System</h3>\n                <p style={{ margin: 0, opacity: 0.9 }}>Manage party health & healing</p>\n              </div>\n\n              <div style={newCardStyle} onClick={onPortraitTest}>\n                <div style={{ fontSize: '3rem', marginBottom: '10px' }}>🎭</div>\n                <h3 style={{ margin: '0 0 5px 0' }}>Portrait Test</h3>\n                <p style={{ margin: 0, opacity: 0.9 }}>Test all portrait combinations</p>\n              </div>\n\n              {characters.map(character => (\n                <div key={character.id} style={cardStyle}>\n                  <div style={{ display: 'flex', gap: '12px', marginBottom: '12px' }}>\n                    {character.data?.name && character.data?.species && character.data?.archetype ? (\n                      <PortraitPreview\n                        character={VisualUtils.createCharacterData({\n                          name: character.data.name,\n                          species: character.data.species,\n                          archetype: character.data.archetype,\n                          level: character.level || 1\n                        })}\n                        width={60}\n                        height={60}\n                      />\n                    ) : (\n                      <div style={{\n                        width: 60,\n                        height: 60,\n                        background: '#374151',\n                        borderRadius: '8px',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        color: '#9ca3af',\n                        fontSize: '16px',\n                        flexShrink: 0\n                      }}>\n                        👤\n                      </div>\n                    )}\n                    <div style={{ flex: 1 }}>\n                      <h3 style={{ margin: '0 0 8px 0', color: '#f1f5f9' }}>{character.name}</h3>\n                      <p style={{ margin: '0 0 4px 0', color: '#94a3b8', fontSize: '0.9rem' }}>\n                        {character.race} {character.characterClass}\n                      </p>\n                      <p style={{ margin: '0', color: '#94a3b8', fontSize: '0.9rem' }}>\n                        Level {character.level}\n                      </p>\n                    </div>\n                  </div>\n                  <p style={{ margin: '0 0 15px 0', color: '#64748b', fontSize: '0.8rem' }}>\n                    Created: {formatDate(character.createdAt)}\n                  </p>\n                  <div>\n                    <button\n                      style={buttonStyle}\n                      onClick={() => setSelectedCharacter(character)}\n                    >\n                      View Character\n                    </button>\n                    <button\n                      style={deleteButtonStyle}\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        if (confirm('Delete this character?')) {\n                          deleteCharacter(character.id);\n                        }\n                      }}\n                    >\n                      Delete\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {characters.length === 0 && (\n              <div style={{ textAlign: 'center', color: '#64748b', fontSize: '1.1rem', marginTop: '60px' }}>\n                <p>No saved characters yet. Create your first character!</p>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Character Detail Modal */}\n      {selectedCharacter && (\n        <CharacterDetailModal\n          character={selectedCharacter}\n          onClose={() => setSelectedCharacter(null)}\n        />\n      )}\n    </div>\n  );\n}","import React, { useEffect, useMemo, useState } from 'react';\nimport { Engine, Preset } from '../engine.d';\n\ntype Props = { eng: Engine; onNext: () => void };\n\nexport function WorldSetupScreen({ eng, onNext }: Props) {\n  const [presets, setPresets] = useState<Preset[]>([]);\n  const [chosen, setChosen] = useState<string>('');\n  const [error, setError] = useState<string>('');\n  const [seed, setSeed] = useState<string>(eng?.state?.meta?.seed || '');\n\n  console.log('WorldSetupScreen render:', { presets, chosen });\n\n  useEffect(() => {\n    async function loadPresets() {\n      try {\n        console.log('Loading presets...');\n        await eng?.loadWorldPresets?.();\n        const list = eng?.state?.meta?.presets?.list || [];\n        setPresets(list);\n        console.log('Loaded presets:', list);\n      } catch (e) {\n        console.error('Failed to load presets', e);\n        setError('Could not load world presets.');\n      }\n    }\n    loadPresets();\n  }, [eng]);\n\n  // Sync seed from engine if it changes elsewhere (e.g., restored from localStorage)\n  useEffect(() => {\n    const s = eng?.state?.meta?.seed || '';\n    if (s && s !== seed) setSeed(s);\n  }, [eng?.state?.meta?.seed]);\n\n  // When preset changes, if it has a default seed and no manual seed has been set, apply it\n  useEffect(() => {\n    const presetSeed = presets.find(p => p.name === chosen)?.seed;\n    if (!seed && presetSeed) {\n      setSeed(presetSeed);\n      eng?.setSeed?.(presetSeed);\n    }\n  }, [chosen, presets]);\n\n  // Generate a new random seed\n  const makeRandomSeed = useMemo(() => () => {\n    const t = Date.now().toString(36);\n    const r = Math.random().toString(36).slice(2, 8);\n    const s = `${t}-${r}`;\n    setSeed(s);\n    eng?.setSeed?.(s);\n  }, [eng]);\n\n  const current = presets.find((p) => p?.name === chosen);\n\n  return (\n    <div>\n      <h2>World Setup</h2>\n      {error && <div style={{ color: 'red' }}>{error}</div>}\n      \n      <div>\n        <label>Choose a preset world: </label>\n        <select\n          value={chosen}\n          onChange={(e) => {\n            const v = e.target.value;\n            setChosen(v);\n            eng?.applyPresetByName?.(v);\n          }}\n        >\n          <option value=''>-- none --</option>\n          {presets.map((p) => (\n            <option key={p.name} value={p.name}>{p.name}</option>\n          ))}\n        </select>\n\n        <div style={{ marginTop: 12 }}>\n          <label htmlFor=\"seed\">World seed: </label>\n          <input\n            id=\"seed\"\n            type=\"text\"\n            value={seed}\n            onChange={(e) => {\n              setSeed(e.target.value);\n              eng?.setSeed?.(e.target.value);\n            }}\n            placeholder=\"random-seed\"\n            style={{ width: 260 }}\n          />\n          <button type=\"button\" style={{ marginLeft: 8 }} onClick={makeRandomSeed}>\n            Randomize\n          </button>\n        </div>\n        \n        {current?.description && (\n          <p style={{ marginTop: 8, opacity: 0.8 }}>{current.description}</p>\n        )}\n        {current?.factions?.length ? (\n          <div style={{ marginTop: 6, fontSize: 12 }}>\n            Factions: {current.factions.join(' • ')}\n          </div>\n        ) : null}\n      </div>\n      \n      <button onClick={onNext} disabled={!chosen && !seed}>Next: Create Characters</button>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Engine } from '../engine.d';\n\n// Use the same Character type as CharacterCreate\ntype Character = {\n  name: string;\n  gender: string;\n  species: string;\n  archetype: string;\n  background: string;\n  stats: Record<string, number>;\n  traits: string[];\n  portraitUrl?: string;\n  mode: \"POINT_BUY\" | \"ROLL\";\n  level?: number;\n  knownSpells?: string[]; // Array of spell IDs\n  knownCantrips?: string[]; // Array of cantrip IDs\n};\n\ntype Props = {\n  eng: Engine;\n  party: Character[];\n  setParty: (p: Character[]) => void;\n  onStart: () => void;\n  onCreateNew: () => void; // Navigate to character creator\n};\n\ninterface SavedCharacter {\n  id: string;\n  name: string;\n  race: string;\n  characterClass: string;\n  level: number;\n  createdAt: string;\n  data: Character;\n}\n\nconst PRESET_CHARACTERS = [\n  {\n    name: \"Kira Stormwind\",\n    gender: \"Female\",\n    species: \"Stormcaller\",\n    archetype: \"Storm Herald\",\n    background: \"A former temple acolyte who left their old life behind after a mystical awakening. Now they seek knowledge in the wider world, wielding storm magic passed down through generations.\",\n    stats: { STR: 10, DEX: 14, CON: 12, INT: 15, WIS: 13, CHA: 11 },\n    traits: [\"Observant\", \"Silver Tongue\", \"Swift\"],\n    portraitUrl: \"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=300&h=300&fit=crop&crop=face\",\n    mode: \"POINT_BUY\" as const\n  },\n  {\n    name: \"Marcus Ironforge\",\n    gender: \"Male\",\n    species: \"Alloy\",\n    archetype: \"Dust Warden\",\n    background: \"Born in the crystal caves, they were raised by wise elders and learned the ways of crafting. Their greatest challenge was mastering the fusion of magic and metal that defines their people.\",\n    stats: { STR: 13, DEX: 11, CON: 15, INT: 14, WIS: 12, CHA: 8 },\n    traits: [\"Clever\", \"Iron Will\", \"Stoic\"],\n    portraitUrl: \"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=300&fit=crop&crop=face\",\n    mode: \"POINT_BUY\" as const\n  },\n  {\n    name: \"Zara Nightwhisper\",\n    gender: \"Female\",\n    species: \"Voidkin\",\n    archetype: \"Wind Sage\",\n    background: \"A wandering soul from the shadow realm who fought in great battles against the encroaching darkness. Their destiny was forever changed when they discovered their connection to the void grants them unique abilities.\",\n    stats: { STR: 9, DEX: 15, CON: 11, INT: 12, WIS: 14, CHA: 13 },\n    traits: [\"Cunning\", \"Lucky\", \"Observant\"],\n    portraitUrl: \"https://images.unsplash.com/photo-1494790108755-2616c4b43e69?w=300&h=300&fit=crop&crop=face\",\n    mode: \"POINT_BUY\" as const\n  },\n  {\n    name: \"Theron Greenbough\",\n    gender: \"Male\",\n    species: \"Sylvanborn\",\n    archetype: \"Greenwarden\",\n    background: \"A guardian of the ancient forests who communes with the spirits of nature. After witnessing the corruption of his homeland, he seeks allies to restore the natural balance.\",\n    stats: { STR: 12, DEX: 13, CON: 14, INT: 10, WIS: 16, CHA: 9 },\n    traits: [\"Nature's Friend\", \"Keen Senses\", \"Patient\"],\n    portraitUrl: \"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=300&h=300&fit=crop&crop=face\",\n    mode: \"POINT_BUY\" as const\n  }\n] as Character[];\n\nexport function CharacterLibrary({ eng, party, setParty, onStart, onCreateNew }: Props) {\n  const [savedCharacters, setSavedCharacters] = useState<SavedCharacter[]>([]);\n  const [selectedTab, setSelectedTab] = useState<'saved' | 'presets'>('saved');\n  const [viewingCharacter, setViewingCharacter] = useState<SavedCharacter | null>(null);\n\n  useEffect(() => {\n    // Load saved characters from localStorage with backup\n    console.log(\"CharacterLibrary: Loading saved characters...\");\n    try {\n      // Primary storage\n      let saved = JSON.parse(localStorage.getItem('world-engine-characters') || '[]');\n\n      // If primary is empty, try backup\n      if (saved.length === 0) {\n        const backup = JSON.parse(localStorage.getItem('world-engine-characters-backup') || '[]');\n        if (backup.length > 0) {\n          console.log(\"Restoring from backup:\", backup.length, \"characters\");\n          saved = backup;\n          // Restore primary storage\n          localStorage.setItem('world-engine-characters', JSON.stringify(saved));\n        }\n      }\n\n      console.log(\"CharacterLibrary: Loaded characters:\", saved.length, \"total\");\n      setSavedCharacters(saved);\n\n      // Create backup if we have data\n      if (saved.length > 0) {\n        localStorage.setItem('world-engine-characters-backup', JSON.stringify(saved));\n      }\n    } catch (error) {\n      console.error('Error loading saved characters:', error);\n      setSavedCharacters([]);\n    }\n  }, []);\n\n  const addToParty = (character: Character) => {\n    if (party.length >= 4) {\n      alert('Party is full! Maximum 4 characters.');\n      return;\n    }\n\n    if (party.some(c => c.name === character.name)) {\n      alert('Character already in party!');\n      return;\n    }\n\n    setParty([...party, character]);\n  };\n\n  const removeFromParty = (index: number) => {\n    setParty(party.filter((_, i) => i !== index));\n  };\n\n  const deleteCharacter = (id: string) => {\n    const confirmed = window.confirm('Are you sure you want to delete this character? This cannot be undone.');\n    if (!confirmed) return;\n\n    const updated = savedCharacters.filter(c => c.id !== id);\n    setSavedCharacters(updated);\n    localStorage.setItem('world-engine-characters', JSON.stringify(updated));\n    // Maintain backup\n    localStorage.setItem('world-engine-characters-backup', JSON.stringify(updated));\n    console.log(`Deleted character ${id}, remaining:`, updated.length);\n  };\n\n  // Export/Import functions for manual backup\n  const exportCharacters = () => {\n    const dataStr = JSON.stringify(savedCharacters, null, 2);\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `world-engine-characters-${new Date().toISOString().split('T')[0]}.json`;\n    link.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const importCharacters = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      try {\n        const imported = JSON.parse(e.target?.result as string);\n        if (Array.isArray(imported)) {\n          setSavedCharacters(imported);\n          localStorage.setItem('world-engine-characters', JSON.stringify(imported));\n          localStorage.setItem('world-engine-characters-backup', JSON.stringify(imported));\n          alert(`Successfully imported ${imported.length} characters!`);\n        } else {\n          alert('Invalid file format. Please select a valid character export file.');\n        }\n      } catch (error) {\n        console.error('Import error:', error);\n        alert('Error importing characters. Please check the file format.');\n      }\n    };\n    reader.readAsText(file);\n    // Reset file input\n    event.target.value = '';\n  };\n\n  const selected = (typeof eng.state.meta.presets.loaded === 'string')\n    ? eng.state.meta.presets.loaded\n    : eng.state.meta.presets.loaded?.name;\n\n  // Character Detail Modal Component\n  const CharacterDetailModal = ({ character, onClose }: { character: SavedCharacter; onClose: () => void }) => {\n    return (\n      <div style={{\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: \"rgba(0, 0, 0, 0.8)\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        zIndex: 1000\n      }}>\n        <div style={{\n          background: \"linear-gradient(135deg, #1e293b 0%, #334155 100%)\",\n          borderRadius: \"12px\",\n          padding: \"2rem\",\n          maxWidth: \"600px\",\n          width: \"90%\",\n          maxHeight: \"80vh\",\n          overflowY: \"auto\",\n          color: \"#e2e8f0\",\n          position: \"relative\"\n        }}>\n          {/* Close Button */}\n          <button\n            onClick={onClose}\n            style={{\n              position: \"absolute\",\n              top: \"1rem\",\n              right: \"1rem\",\n              background: \"transparent\",\n              border: \"none\",\n              color: \"#94a3b8\",\n              fontSize: \"1.5rem\",\n              cursor: \"pointer\",\n              padding: \"0.5rem\"\n            }}\n          >\n            ×\n          </button>\n\n          {/* Character Header */}\n          <div style={{ marginBottom: \"2rem\" }}>\n            <h2 style={{\n              margin: \"0 0 0.5rem\",\n              color: \"#f1f5f9\",\n              fontSize: \"2rem\",\n              fontWeight: \"bold\"\n            }}>\n              {character.name}\n            </h2>\n            <div style={{ color: \"#94a3b8\", fontSize: \"1.1rem\" }}>\n              {character.data.gender} • {character.race} {character.characterClass}\n            </div>\n            <div style={{ color: \"#64748b\", fontSize: \"0.9rem\", marginTop: \"0.5rem\" }}>\n              Created: {new Date(character.createdAt).toLocaleDateString()}\n            </div>\n          </div>\n\n          {/* Stats */}\n          <div style={{ marginBottom: \"2rem\" }}>\n            <h3 style={{ color: \"#e2e8f0\", marginBottom: \"1rem\" }}>Ability Scores</h3>\n            <div style={{\n              display: \"grid\",\n              gridTemplateColumns: \"repeat(3, 1fr)\",\n              gap: \"1rem\"\n            }}>\n              {Object.entries(character.data.stats).map(([stat, value]) => (\n                <div key={stat} style={{\n                  textAlign: \"center\",\n                  padding: \"1rem\",\n                  background: \"rgba(15, 23, 42, 0.5)\",\n                  borderRadius: \"8px\",\n                  border: \"1px solid #334155\"\n                }}>\n                  <div style={{ fontSize: \"0.9rem\", color: \"#94a3b8\", marginBottom: \"0.5rem\" }}>\n                    {stat}\n                  </div>\n                  <div style={{ fontSize: \"1.5rem\", fontWeight: \"bold\", color: \"#f1f5f9\" }}>\n                    {value}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Traits */}\n          {character.data.traits && character.data.traits.length > 0 && (\n            <div style={{ marginBottom: \"2rem\" }}>\n              <h3 style={{ color: \"#e2e8f0\", marginBottom: \"1rem\" }}>Traits</h3>\n              <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: \"0.5rem\" }}>\n                {character.data.traits.map((trait, index) => (\n                  <span key={index} style={{\n                    padding: \"0.5rem 1rem\",\n                    background: \"#3b82f6\",\n                    color: \"white\",\n                    borderRadius: \"20px\",\n                    fontSize: \"0.9rem\"\n                  }}>\n                    {trait}\n                  </span>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Background */}\n          {character.data.background && (\n            <div style={{ marginBottom: \"2rem\" }}>\n              <h3 style={{ color: \"#e2e8f0\", marginBottom: \"1rem\" }}>Background</h3>\n              <div style={{\n                padding: \"1rem\",\n                background: \"rgba(15, 23, 42, 0.5)\",\n                borderRadius: \"8px\",\n                border: \"1px solid #334155\",\n                color: \"#94a3b8\",\n                lineHeight: \"1.6\"\n              }}>\n                {character.data.background}\n              </div>\n            </div>\n          )}\n\n          {/* Action Buttons */}\n          <div style={{ display: \"flex\", gap: \"1rem\", justifyContent: \"flex-end\" }}>\n            <button\n              onClick={() => {\n                addToParty(character.data);\n                onClose();\n              }}\n              style={{\n                padding: \"0.75rem 1.5rem\",\n                background: \"#10b981\",\n                color: \"white\",\n                border: \"none\",\n                borderRadius: \"6px\",\n                cursor: \"pointer\",\n                fontWeight: \"bold\"\n              }}\n            >\n              Add to Party\n            </button>\n            <button\n              onClick={() => {\n                if (window.confirm('Are you sure you want to delete this character? This cannot be undone.')) {\n                  deleteCharacter(character.id);\n                  onClose();\n                }\n              }}\n              style={{\n                padding: \"0.75rem 1.5rem\",\n                background: \"#ef4444\",\n                color: \"white\",\n                border: \"none\",\n                borderRadius: \"6px\",\n                cursor: \"pointer\",\n                fontWeight: \"bold\"\n              }}\n            >\n              Delete Character\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div style={{\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"100vh\",\n      background: \"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)\",\n      color: \"#e2e8f0\"\n    }}>\n      {/* Header */}\n      <div style={{\n        padding: \"1.5rem\",\n        borderBottom: \"1px solid #334155\",\n        background: \"rgba(15, 23, 42, 0.8)\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n      }}>\n        <div>\n          <h1 style={{ margin: 0, fontSize: \"2rem\", fontWeight: \"bold\" }}>Character Library</h1>\n          <p style={{ margin: \"0.5rem 0 0\", opacity: 0.8 }}>\n            Selected World: <span style={{ color: \"#60a5fa\", fontWeight: \"bold\" }}>{selected || \"None\"}</span>\n          </p>\n        </div>\n        <div style={{ display: \"flex\", gap: \"0.5rem\", alignItems: \"center\" }}>\n          <button\n            onClick={exportCharacters}\n            disabled={savedCharacters.length === 0}\n            style={{\n              padding: \"0.5rem 1rem\",\n              background: savedCharacters.length === 0 ? \"#374151\" : \"#059669\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: savedCharacters.length === 0 ? \"not-allowed\" : \"pointer\",\n              fontSize: \"0.9rem\"\n            }}\n          >\n            Export Characters\n          </button>\n          <label style={{\n            padding: \"0.5rem 1rem\",\n            background: \"#3b82f6\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\",\n            fontSize: \"0.9rem\"\n          }}>\n            Import Characters\n            <input\n              type=\"file\"\n              accept=\".json\"\n              onChange={importCharacters}\n              style={{ display: \"none\" }}\n            />\n          </label>\n        </div>\n      </div>\n\n      <div style={{ display: \"flex\", flex: 1 }}>\n        {/* Left Panel - Character Selection */}\n        <div style={{\n          flex: 2,\n          padding: \"1.5rem\",\n          borderRight: \"1px solid #334155\",\n          overflowY: \"auto\"\n        }}>\n          {/* Tab Navigation */}\n          <div style={{\n            display: \"flex\",\n            marginBottom: \"1.5rem\",\n            borderBottom: \"1px solid #334155\"\n          }}>\n            <button\n              onClick={() => setSelectedTab('saved')}\n              style={{\n                padding: \"0.75rem 1.5rem\",\n                background: selectedTab === 'saved' ? \"#3b82f6\" : \"transparent\",\n                color: selectedTab === 'saved' ? \"white\" : \"#94a3b8\",\n                border: \"none\",\n                borderBottom: selectedTab === 'saved' ? \"2px solid #3b82f6\" : \"2px solid transparent\",\n                cursor: \"pointer\",\n                fontSize: \"1rem\"\n              }}\n            >\n              Saved Characters ({savedCharacters.length})\n            </button>\n            <button\n              onClick={() => setSelectedTab('presets')}\n              style={{\n                padding: \"0.75rem 1.5rem\",\n                background: selectedTab === 'presets' ? \"#3b82f6\" : \"transparent\",\n                color: selectedTab === 'presets' ? \"white\" : \"#94a3b8\",\n                border: \"none\",\n                borderBottom: selectedTab === 'presets' ? \"2px solid #3b82f6\" : \"2px solid transparent\",\n                cursor: \"pointer\",\n                fontSize: \"1rem\"\n              }}\n            >\n              Preset Characters ({PRESET_CHARACTERS.length})\n            </button>\n          </div>\n\n          {/* Create New Button */}\n          <button\n            onClick={onCreateNew}\n            style={{\n              width: \"100%\",\n              padding: \"0.75rem\",\n              marginBottom: \"1.5rem\",\n              background: \"#10b981\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"6px\",\n              fontSize: \"1rem\",\n              cursor: \"pointer\",\n              fontWeight: \"bold\"\n            }}\n          >\n            Create New Character\n          </button>\n\n          {/* Character List */}\n          <div style={{ display: \"grid\", gap: \"1rem\" }}>\n            {selectedTab === 'saved' ? (\n              savedCharacters.length === 0 ? (\n                <div style={{\n                  textAlign: \"center\",\n                  padding: \"2rem\",\n                  color: \"#64748b\",\n                  fontStyle: \"italic\"\n                }}>\n                  No saved characters yet. Create your first character!\n                </div>\n              ) : (\n                savedCharacters.map((char) => (\n                  <div key={char.id} style={{\n                    background: \"#1e293b\",\n                    border: \"1px solid #334155\",\n                    borderRadius: \"8px\",\n                    padding: \"1rem\"\n                  }}>\n                    <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"flex-start\" }}>\n                      <div>\n                        <h3 style={{ margin: \"0 0 0.5rem\", color: \"#f1f5f9\" }}>{char.name}</h3>\n                        <p style={{ margin: \"0.25rem 0\", color: \"#94a3b8\", fontSize: \"0.9rem\" }}>\n                          {char.race} {char.characterClass}\n                        </p>\n                        <p style={{ margin: \"0.25rem 0\", color: \"#64748b\", fontSize: \"0.8rem\" }}>\n                          Created: {new Date(char.createdAt).toLocaleDateString()}\n                        </p>\n                      </div>\n                      <div style={{ display: \"flex\", gap: \"0.5rem\" }}>\n                        <button\n                          onClick={() => addToParty(char.data)}\n                          style={{\n                            padding: \"0.5rem 1rem\",\n                            background: \"#3b82f6\",\n                            color: \"white\",\n                            border: \"none\",\n                            borderRadius: \"4px\",\n                            fontSize: \"0.8rem\",\n                            cursor: \"pointer\"\n                          }}\n                        >\n                          Add to Party\n                        </button>\n                        <button\n                          onClick={() => setViewingCharacter(char)}\n                          style={{\n                            padding: \"0.5rem 1rem\",\n                            background: \"#64748b\",\n                            color: \"white\",\n                            border: \"none\",\n                            borderRadius: \"4px\",\n                            fontSize: \"0.8rem\",\n                            cursor: \"pointer\"\n                          }}\n                        >\n                          View Details\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))\n              )\n            ) : (\n              PRESET_CHARACTERS.map((char, index) => (\n                <div key={index} style={{\n                  background: \"#1e293b\",\n                  border: \"1px solid #334155\",\n                  borderRadius: \"8px\",\n                  padding: \"1rem\"\n                }}>\n                  <div style={{ display: \"flex\", gap: \"1rem\", alignItems: \"center\" }}>\n                    {char.portraitUrl && (\n                      <img\n                        src={char.portraitUrl}\n                        alt={char.name}\n                        style={{\n                          width: \"60px\",\n                          height: \"60px\",\n                          borderRadius: \"50%\",\n                          objectFit: \"cover\"\n                        }}\n                      />\n                    )}\n                    <div style={{ flex: 1 }}>\n                      <h3 style={{ margin: \"0 0 0.5rem\", color: \"#f1f5f9\" }}>{char.name}</h3>\n                      <p style={{ margin: \"0.25rem 0\", color: \"#94a3b8\", fontSize: \"0.9rem\" }}>\n                        {char.species} {char.archetype}\n                      </p>\n                      <p style={{\n                        margin: \"0.5rem 0 0\",\n                        color: \"#64748b\",\n                        fontSize: \"0.8rem\",\n                        maxWidth: \"300px\",\n                        overflow: \"hidden\",\n                        textOverflow: \"ellipsis\",\n                        whiteSpace: \"nowrap\"\n                      }}>\n                        {char.background}\n                      </p>\n                    </div>\n                    <button\n                      onClick={() => addToParty(char)}\n                      style={{\n                        padding: \"0.5rem 1rem\",\n                        background: \"#3b82f6\",\n                        color: \"white\",\n                        border: \"none\",\n                        borderRadius: \"4px\",\n                        fontSize: \"0.8rem\",\n                        cursor: \"pointer\"\n                      }}\n                    >\n                      Add to Party\n                    </button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n\n        {/* Right Panel - Current Party */}\n        <div style={{\n          flex: 1,\n          padding: \"1.5rem\",\n          background: \"rgba(15, 23, 42, 0.5)\"\n        }}>\n          <h2 style={{ marginBottom: \"1rem\" }}>Current Party ({party.length}/4)</h2>\n\n          {party.length === 0 ? (\n            <div style={{\n              textAlign: \"center\",\n              padding: \"2rem\",\n              color: \"#64748b\",\n              fontStyle: \"italic\"\n            }}>\n              No characters in party. Add characters to get started!\n            </div>\n          ) : (\n            <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"1rem\" }}>\n              {party.map((char, index) => (\n                <div key={index} style={{\n                  background: \"#1e293b\",\n                  border: \"1px solid #334155\",\n                  borderRadius: \"8px\",\n                  padding: \"1rem\"\n                }}>\n                  <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n                    <div>\n                      <h4 style={{ margin: \"0 0 0.25rem\", color: \"#f1f5f9\" }}>{char.name}</h4>\n                      <p style={{ margin: \"0\", color: \"#94a3b8\", fontSize: \"0.8rem\" }}>\n                        {char.species} {char.archetype}\n                      </p>\n                    </div>\n                    <button\n                      onClick={() => removeFromParty(index)}\n                      style={{\n                        padding: \"0.25rem 0.5rem\",\n                        background: \"#ef4444\",\n                        color: \"white\",\n                        border: \"none\",\n                        borderRadius: \"4px\",\n                        fontSize: \"0.7rem\",\n                        cursor: \"pointer\"\n                      }}\n                    >\n                      Remove\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* Start Adventure Button */}\n          <button\n            onClick={onStart}\n            disabled={party.length === 0}\n            style={{\n              width: \"100%\",\n              padding: \"1rem\",\n              marginTop: \"1.5rem\",\n              background: party.length === 0 ? \"#374151\" : \"#059669\",\n              color: party.length === 0 ? \"#6b7280\" : \"white\",\n              border: \"none\",\n              borderRadius: \"6px\",\n              fontSize: \"1.1rem\",\n              fontWeight: \"bold\",\n              cursor: party.length === 0 ? \"not-allowed\" : \"pointer\"\n            }}\n          >\n            {party.length === 0 ? \"Add Characters to Start\" : \"Start Adventure\"}\n          </button>\n        </div>\n      </div>\n\n      {/* Character Detail Modal */}\n      {viewingCharacter && (\n        <CharacterDetailModal\n          character={viewingCharacter}\n          onClose={() => setViewingCharacter(null)}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default CharacterLibrary;","import type { Preset } from './engine.d';\r\n\r\n// Class definitions with stat modifiers and abilities\r\nexport const CLASS_DEFINITIONS = {\r\n  // Verdance Classes\r\n  'Greenwarden': {\r\n    name: 'Greenwarden',\r\n    description: 'Protectors of the sacred groves, wielding nature magic and plant allies.',\r\n    statModifiers: { strength: 2, constitution: 3, wisdom: 4, intelligence: 2, dexterity: 1, charisma: 2 },\r\n    primaryStats: ['Wisdom', 'Constitution'],\r\n    abilities: ['Commune with Plants', 'Nature\\'s Shield', 'Healing Touch'],\r\n    equipment: ['Ironwood Staff', 'Living Armor', 'Seed Pouch'],\r\n    faction: 'The Rootspeakers'\r\n  },\r\n  'Thorn Knight': {\r\n    name: 'Thorn Knight',\r\n    description: 'Warriors who bond with thorned plants, masters of aggressive defense.',\r\n    statModifiers: { strength: 4, constitution: 4, wisdom: 1, intelligence: 1, dexterity: 2, charisma: 2 },\r\n    primaryStats: ['Strength', 'Constitution'],\r\n    abilities: ['Thorn Armor', 'Spike Strike', 'Guardian\\'s Stance'],\r\n    equipment: ['Thorn Blade', 'Barkskin Mail', 'Shield of Briars'],\r\n    faction: 'Thornweave Syndicate'\r\n  },\r\n  'Sapling Adept': {\r\n    name: 'Sapling Adept',\r\n    description: 'Young mages learning to channel the growth energies of spirit plants.',\r\n    statModifiers: { strength: 1, constitution: 2, wisdom: 3, intelligence: 4, dexterity: 3, charisma: 1 },\r\n    primaryStats: ['Intelligence', 'Wisdom'],\r\n    abilities: ['Growth Burst', 'Plant Familiar', 'Verdant Bolt'],\r\n    equipment: ['Sapling Wand', 'Apprentice Robes', 'Botanical Tome'],\r\n    faction: 'The Rootspeakers'\r\n  },\r\n  'Bloomcaller': {\r\n    name: 'Bloomcaller',\r\n    description: 'Diplomatic negotiators who can speak with all forms of plant life.',\r\n    statModifiers: { strength: 1, constitution: 2, wisdom: 3, intelligence: 2, dexterity: 2, charisma: 4 },\r\n    primaryStats: ['Charisma', 'Wisdom'],\r\n    abilities: ['Plant Speech', 'Soothing Pollen', 'Bloom Command'],\r\n    equipment: ['Flower Crown', 'Silk Robes', 'Diplomatic Sash'],\r\n    faction: 'Valebright Court'\r\n  },\r\n\r\n  // Ashenreach Classes\r\n  'Ashblade': {\r\n    name: 'Ashblade',\r\n    description: 'Warriors who forge weapons from the bones and ash of the wasteland.',\r\n    statModifiers: { strength: 4, constitution: 3, wisdom: 1, intelligence: 1, dexterity: 3, charisma: 2 },\r\n    primaryStats: ['Strength', 'Dexterity'],\r\n    abilities: ['Ash Strike', 'Heat Resistance', 'Bone Weapon'],\r\n    equipment: ['Ashforged Blade', 'Bone Mail', 'Ember Cloak'],\r\n    faction: 'The Cindermarch'\r\n  },\r\n  'Cinder Mystic': {\r\n    name: 'Cinder Mystic',\r\n    description: 'Spellcasters who draw power from the remnant fires of the Great Burning.',\r\n    statModifiers: { strength: 1, constitution: 2, wisdom: 4, intelligence: 4, dexterity: 2, charisma: 1 },\r\n    primaryStats: ['Intelligence', 'Wisdom'],\r\n    abilities: ['Cinder Bolt', 'Flame Ward', 'Ash Scrying'],\r\n    equipment: ['Ember Staff', 'Cinderwoven Robes', 'Fire Gem'],\r\n    faction: 'Ember Cult'\r\n  },\r\n  'Dust Ranger': {\r\n    name: 'Dust Ranger',\r\n    description: 'Scouts and survivors who know every secret of the wasteland.',\r\n    statModifiers: { strength: 2, constitution: 3, wisdom: 3, intelligence: 2, dexterity: 4, charisma: 1 },\r\n    primaryStats: ['Dexterity', 'Wisdom'],\r\n    abilities: ['Track in Ash', 'Sandstorm Cloak', 'Desert Navigation'],\r\n    equipment: ['Recurved Bow', 'Desert Garb', 'Survival Pack'],\r\n    faction: 'Duskward Nomads'\r\n  },\r\n  'Bonechanter': {\r\n    name: 'Bonechanter',\r\n    description: 'Necromantic priests who sing to the bones of the ancient dead.',\r\n    statModifiers: { strength: 1, constitution: 2, wisdom: 3, intelligence: 3, dexterity: 1, charisma: 4 },\r\n    primaryStats: ['Charisma', 'Wisdom'],\r\n    abilities: ['Bone Song', 'Speak with Dead', 'Ossify'],\r\n    equipment: ['Bone Flute', 'Death Shroud', 'Skull Talisman'],\r\n    faction: 'Bonechanters'\r\n  },\r\n\r\n  // Skyvault Classes  \r\n  'Stormcaller': {\r\n    name: 'Stormcaller',\r\n    description: 'Elemental mages who command lightning and wind magic.',\r\n    statModifiers: { strength: 1, constitution: 2, wisdom: 3, intelligence: 4, dexterity: 3, charisma: 1 },\r\n    primaryStats: ['Intelligence', 'Dexterity'],\r\n    abilities: ['Lightning Bolt', 'Wind Walk', 'Storm Shield'],\r\n    equipment: ['Storm Rod', 'Sky Silk Robes', 'Weather Compass'],\r\n    faction: 'Stormcaller Guild'\r\n  },\r\n  'Voidwing': {\r\n    name: 'Voidwing',\r\n    description: 'Sky pirates who master aerial combat and void magic.',\r\n    statModifiers: { strength: 3, constitution: 2, wisdom: 1, intelligence: 2, dexterity: 4, charisma: 2 },\r\n    primaryStats: ['Dexterity', 'Strength'],\r\n    abilities: ['Void Step', 'Sky Strike', 'Gravity Defiance'],\r\n    equipment: ['Void Cutlass', 'Flight Harness', 'Pirate\\'s Coat'],\r\n    faction: 'Voidwing Pirates'\r\n  },\r\n  'Sky Knight': {\r\n    name: 'Sky Knight',\r\n    description: 'Noble warriors who ride winged mounts and uphold celestial codes.',\r\n    statModifiers: { strength: 4, constitution: 3, wisdom: 2, intelligence: 2, dexterity: 2, charisma: 3 },\r\n    primaryStats: ['Strength', 'Charisma'],\r\n    abilities: ['Mount Bond', 'Celestial Strike', 'Knight\\'s Valor'],\r\n    equipment: ['Sky Lance', 'Celestial Plate', 'Noble Seal'],\r\n    faction: 'Celestial Observatory'\r\n  },\r\n  'Wind Sage': {\r\n    name: 'Wind Sage',\r\n    description: 'Scholarly monks who study the patterns of air and aether.',\r\n    statModifiers: { strength: 1, constitution: 2, wisdom: 4, intelligence: 3, dexterity: 3, charisma: 1 },\r\n    primaryStats: ['Wisdom', 'Intelligence'],\r\n    abilities: ['Aether Sight', 'Wind Meditation', 'Air Walk'],\r\n    equipment: ['Meditation Staff', 'Wind Robes', 'Aether Crystal'],\r\n    faction: 'The Windwright Consortium'\r\n  }\r\n};\r\n\r\nexport const DEFAULT_WORLDS: Preset[] = [\r\n  {\r\n    name: 'Verdance',\r\n    seed: 'verdance-seed-001',\r\n    description: 'A lush frontier of spirit plants, deep roots, and hidden sects.',\r\n    factions: ['Hollowshade Clan', 'Valebright Court', 'Thornweave Syndicate', 'The Rootspeakers'],\r\n    classes: ['Greenwarden', 'Thorn Knight', 'Sapling Adept', 'Bloomcaller'],\r\n    lore: 'In the heart of the Verdance, ancient spirit plants pulse with ethereal light, their roots forming vast networks beneath the forest floor that whisper secrets across continents. The Hollowshade Clan has learned to walk between shadow and root, using umbral magic to commune with the deepest, oldest growths. They believe the plants hold memories of the world\\'s first age, when magic flowed freely through all living things.'\r\n  },\r\n  {\r\n    name: 'Ashenreach',\r\n    seed: 'ashenreach-seed-002',\r\n    description: 'A scorched expanse of ash dunes, ember cults, and bone singers.',\r\n    factions: ['Ember Cult', 'Bonechanters', 'Duskward Nomads', 'The Cindermarch'],\r\n    classes: ['Ashblade', 'Cinder Mystic', 'Dust Ranger', 'Bonechanter'],\r\n    lore: 'The Ashenreach was not always a wasteland. Once, it was the Golden Empire of Solmere, a realm of crystal spires and sun-blessed fields. But the Great Burning came without warning—whether by dragon fire, fallen star, or the Empire\\'s own hubris, none can say for certain.'\r\n  },\r\n  {\r\n    name: 'Skyvault',\r\n    seed: 'skyvault-seed-003',\r\n    description: 'Floating citadels and shattered islands drifting in endless skies.',\r\n    factions: ['Stormcaller Guild', 'Voidwing Pirates', 'Celestial Observatory', 'The Windwright Consortium'],\r\n    classes: ['Stormcaller', 'Voidwing', 'Sky Knight', 'Wind Sage'],\r\n    lore: 'When the ancient world shattered in the Sundering, entire continents were cast into the sky, held aloft by veins of raw aetheric force. Now the Skyvault stretches across three layers of heaven.'\r\n  }\r\n];\r\n","// src/components/CharacterCreate.tsx\nimport React, { useMemo, useState } from \"react\";\nimport { CLASS_DEFINITIONS } from '../defaultWorlds';\n// Visual System Integration\nimport { PortraitPreview, VisualUtils, bindPortraitToCharacter, generateCharacterPortrait } from '../visuals';\nimport type { CharacterVisualData } from '../visuals';\n\ntype Stats = \"STR\" | \"DEX\" | \"CON\" | \"INT\" | \"WIS\" | \"CHA\";\n\nfunction calculateStatCost(value: number): number {\n  // Base cost is 0 for stat value 8\n  // Each point above 8 costs: 1 point for 9-14, 2 points for 15-16, 3 points for 17+\n  let cost = 0;\n  for (let statValue = 9; statValue <= value; statValue++) {\n    if (statValue <= 14) cost += 1;      // Values 9-14: 1 point each\n    else if (statValue <= 16) cost += 2; // Values 15-16: 2 points each  \n    else cost += 3;                      // Values 17+: 3 points each\n  }\n  return cost;\n}\n\ntype Character = {\n  name: string;\n  gender: string;\n  species: string;\n  archetype: string;\n  background: string;\n  stats: Record<Stats, number>;\n  traits: string[];\n  portraitUrl?: string;\n  mode: \"POINT_BUY\" | \"ROLL\";\n  level?: number;\n  knownSpells?: string[]; // Array of spell IDs\n  knownCantrips?: string[]; // Array of cantrip IDs\n};\n\nconst DEFAULT_STATS: Record<Stats, number> = {\n  STR: 8, DEX: 8, CON: 8, INT: 8, WIS: 8, CHA: 8,\n};\n\n// Spell limitation calculations\nfunction calculateMaxCantrips(level: number, intScore: number, wisScore: number): number {\n  const baseCantrips = Math.floor(level / 2) + 1; // 1 at level 1, 2 at level 3, 3 at level 5, etc.\n  const abilityBonus = Math.floor((Math.max(intScore, wisScore) - 10) / 2);\n  return Math.max(1, baseCantrips + Math.max(0, abilityBonus));\n}\n\nfunction calculateMaxSpells(level: number, intScore: number, wisScore: number): number {\n  if (level < 2) return 0; // No spells until level 2\n\n  const baseSpells = Math.max(0, level - 1); // 1 at level 2, 2 at level 3, etc.\n  const abilityBonus = Math.floor((Math.max(intScore, wisScore) - 12) / 2); // Bonus starts at 13+ ability score\n  return Math.max(0, baseSpells + Math.max(0, abilityBonus));\n}\n\nfunction calculateMaxSpellLevel(level: number): number {\n  if (level < 2) return 0; // No spells until level 2\n  if (level < 4) return 1;  // 1st level spells at levels 2-3\n  if (level < 6) return 2;  // 2nd level spells at levels 4-5\n  if (level < 8) return 3;  // 3rd level spells at levels 6-7\n  if (level < 10) return 4; // 4th level spells at levels 8-9\n  if (level < 12) return 5; // 5th level spells at levels 10-11\n  if (level < 14) return 6; // 6th level spells at levels 12-13\n  if (level < 16) return 7; // 7th level spells at levels 14-15\n  if (level < 18) return 8; // 8th level spells at levels 16-17\n  return 9;                 // 9th level spells at levels 18+\n}\n\nfunction getSpellcastingClass(archetype: string): 'wizard' | 'cleric' | 'mixed' | 'none' {\n  const wizardTypes = ['wizard', 'sorcerer', 'warlock'];\n  const clericTypes = ['cleric', 'druid', 'ranger', 'paladin'];\n\n  if (wizardTypes.includes(archetype.toLowerCase())) return 'wizard'; // INT-based\n  if (clericTypes.includes(archetype.toLowerCase())) return 'cleric';  // WIS-based\n  if (['bard'].includes(archetype.toLowerCase())) return 'mixed';      // Either INT or WIS\n  return 'none';\n}\n\n// Comprehensive trait system with mechanical benefits\nconst TRAIT_DEFINITIONS = {\n  \"Brave\": {\n    name: \"Brave\",\n    description: \"Resistant to fear and intimidation effects. +2 bonus to courage-based checks.\",\n    mechanicalEffect: \"fear_resistance\",\n    bonus: { type: \"courage\", value: 2 }\n  },\n  \"Clever\": {\n    name: \"Clever\",\n    description: \"Quick thinking in complex situations. +2 bonus to puzzle-solving and investigation.\",\n    mechanicalEffect: \"intelligence_bonus\",\n    bonus: { type: \"investigation\", value: 2 }\n  },\n  \"Cunning\": {\n    name: \"Cunning\",\n    description: \"Skilled at deception and misdirection. +2 bonus to stealth and deception checks.\",\n    mechanicalEffect: \"deception_bonus\",\n    bonus: { type: \"stealth\", value: 2 }\n  },\n  \"Empathic\": {\n    name: \"Empathic\",\n    description: \"Deeply understands others' emotions. +2 bonus to persuasion and healing checks.\",\n    mechanicalEffect: \"social_bonus\",\n    bonus: { type: \"persuasion\", value: 2 }\n  },\n  \"Stoic\": {\n    name: \"Stoic\",\n    description: \"Unshaken by pain or hardship. +2 bonus to endurance and resistance checks.\",\n    mechanicalEffect: \"endurance_bonus\",\n    bonus: { type: \"endurance\", value: 2 }\n  },\n  \"Lucky\": {\n    name: \"Lucky\",\n    description: \"Fortune favors you. Once per encounter, reroll any failed check.\",\n    mechanicalEffect: \"reroll_ability\",\n    bonus: { type: \"reroll\", value: 1 }\n  },\n  \"Observant\": {\n    name: \"Observant\",\n    description: \"Notice details others miss. +2 bonus to perception and awareness checks.\",\n    mechanicalEffect: \"perception_bonus\",\n    bonus: { type: \"perception\", value: 2 }\n  },\n  \"Silver Tongue\": {\n    name: \"Silver Tongue\",\n    description: \"Naturally persuasive speaker. +2 bonus to all social interaction checks.\",\n    mechanicalEffect: \"social_master\",\n    bonus: { type: \"social\", value: 2 }\n  },\n  \"Iron Will\": {\n    name: \"Iron Will\",\n    description: \"Mental fortitude against magical effects. +2 bonus to resist mental magic.\",\n    mechanicalEffect: \"mental_resistance\",\n    bonus: { type: \"mental_defense\", value: 2 }\n  },\n  \"Swift\": {\n    name: \"Swift\",\n    description: \"Faster movement and reflexes. +2 bonus to speed and reaction checks.\",\n    mechanicalEffect: \"speed_bonus\",\n    bonus: { type: \"speed\", value: 2 }\n  },\n  \"Nature's Friend\": {\n    name: \"Nature's Friend\",\n    description: \"Animals and plants respond favorably. +2 bonus to nature-based interactions.\",\n    mechanicalEffect: \"nature_bonus\",\n    bonus: { type: \"nature\", value: 2 }\n  },\n  \"Keen Senses\": {\n    name: \"Keen Senses\",\n    description: \"Enhanced sensory perception. +2 bonus to detect hidden things or dangers.\",\n    mechanicalEffect: \"detection_bonus\",\n    bonus: { type: \"detection\", value: 2 }\n  },\n  \"Patient\": {\n    name: \"Patient\",\n    description: \"Calm and methodical approach. +2 bonus to sustained concentration tasks.\",\n    mechanicalEffect: \"concentration_bonus\",\n    bonus: { type: \"concentration\", value: 2 }\n  },\n  \"Resilient\": {\n    name: \"Resilient\",\n    description: \"Exceptionally tough constitution. +2 HP per level beyond normal.\",\n    mechanicalEffect: \"hp_bonus\",\n    bonus: { type: \"hp_per_level\", value: 2 }\n  },\n  \"Hardy\": {\n    name: \"Hardy\",\n    description: \"Natural toughness and endurance. +1 HP per level beyond normal.\",\n    mechanicalEffect: \"hp_bonus_small\",\n    bonus: { type: \"hp_per_level\", value: 1 }\n  },\n  \"Frail\": {\n    name: \"Frail\",\n    description: \"Delicate constitution, but often comes with other gifts. -2 HP per level.\",\n    mechanicalEffect: \"hp_penalty\",\n    bonus: { type: \"hp_per_level\", value: -2 }\n  }\n};\n\nconst TRAIT_CATALOG = Object.keys(TRAIT_DEFINITIONS);\n\n// Species trait restrictions and bonuses\nconst SPECIES_TRAIT_RULES: Record<string, {\n  automatic: string[];\n  forbidden: string[];\n  preferred: string[];\n  description: string;\n}> = {\n  \"Human\": {\n    automatic: [], // Humans get no automatic traits - they're flexible\n    forbidden: [], // Humans can choose any trait\n    preferred: [\"Brave\", \"Clever\", \"Silver Tongue\"], // But these suit their adaptable nature\n    description: \"Adaptable and versatile, humans can develop any traits through experience.\"\n  },\n  \"Sylvanborn\": {\n    automatic: [\"Nature's Friend\"], // Always connected to nature\n    forbidden: [\"Cunning\"], // Too honest and straightforward for deception\n    preferred: [\"Observant\", \"Keen Senses\", \"Patient\"],\n    description: \"Forest dwellers with an innate connection to nature.\"\n  },\n  \"Alloy\": {\n    automatic: [\"Iron Will\"], // Constructed beings have strong mental defenses\n    forbidden: [\"Empathic\", \"Silver Tongue\"], // Struggle with emotional connections\n    preferred: [\"Stoic\", \"Patient\", \"Clever\"],\n    description: \"Mechanical beings with logical minds but limited emotional range.\"\n  },\n  \"Draketh\": {\n    automatic: [\"Brave\"], // Draconic heritage makes them naturally fearless\n    forbidden: [\"Patient\"], // Too hot-blooded for patience\n    preferred: [\"Swift\", \"Silver Tongue\", \"Stoic\"],\n    description: \"Proud dragon-descendants who rarely back down from challenges.\"\n  },\n  \"Voidkin\": {\n    automatic: [\"Observant\"], // Always aware of hidden truths\n    forbidden: [\"Nature's Friend\"], // Void energy conflicts with natural forces\n    preferred: [\"Clever\", \"Iron Will\", \"Cunning\"],\n    description: \"Shadow-touched beings with enhanced perception but unnatural aura.\"\n  },\n  \"Crystalborn\": {\n    automatic: [\"Stoic\"], // Crystal nature makes them emotionally stable\n    forbidden: [\"Swift\"], // Crystalline bodies are less agile\n    preferred: [\"Iron Will\", \"Patient\", \"Keen Senses\"],\n    description: \"Living crystal beings with incredible mental fortitude.\"\n  },\n  \"Stormcaller\": {\n    automatic: [\"Swift\"], // Storm magic enhances their speed\n    forbidden: [\"Patient\"], // Storm energy makes them restless\n    preferred: [\"Brave\", \"Observant\", \"Silver Tongue\"],\n    description: \"Sky-born people infused with elemental storm energy.\"\n  }\n};\n\n// Class trait restrictions and bonuses\nconst CLASS_TRAIT_RULES: Record<string, {\n  automatic: string[];\n  forbidden: string[];\n  preferred: string[];\n  description: string;\n}> = {\n  \"Greenwarden\": {\n    automatic: [\"Nature's Friend\"],\n    forbidden: [],\n    preferred: [\"Patient\", \"Observant\", \"Empathic\"],\n    description: \"Nature's guardians with deep environmental connections.\"\n  },\n  \"Thorn Knight\": {\n    automatic: [\"Brave\"],\n    forbidden: [\"Cunning\"],\n    preferred: [\"Stoic\", \"Iron Will\", \"Swift\"],\n    description: \"Honorable warriors who face threats head-on.\"\n  },\n  \"Sapling Adept\": {\n    automatic: [\"Patient\"],\n    forbidden: [],\n    preferred: [\"Clever\", \"Observant\", \"Nature's Friend\"],\n    description: \"Scholarly nature mages who study growth and renewal.\"\n  },\n  \"Bloom Caller\": {\n    automatic: [\"Empathic\"],\n    forbidden: [],\n    preferred: [\"Silver Tongue\", \"Nature's Friend\", \"Patient\"],\n    description: \"Charismatic druids who inspire growth and healing.\"\n  },\n  \"Dust Warden\": {\n    automatic: [\"Stoic\"],\n    forbidden: [\"Empathic\"],\n    preferred: [\"Brave\", \"Iron Will\", \"Observant\"],\n    description: \"Ash-realm guardians hardened by harsh environments.\"\n  },\n  \"Cindermage\": {\n    automatic: [\"Clever\"],\n    forbidden: [],\n    preferred: [\"Iron Will\", \"Patient\", \"Observant\"],\n    description: \"Fire scholars who manipulate destructive forces.\"\n  },\n  \"Ash Walker\": {\n    automatic: [\"Swift\"],\n    forbidden: [\"Patient\"],\n    preferred: [\"Observant\", \"Cunning\", \"Keen Senses\"],\n    description: \"Desert scouts who move quickly through dangerous terrain.\"\n  },\n  \"Ember Knight\": {\n    automatic: [\"Brave\"],\n    forbidden: [\"Cunning\"],\n    preferred: [\"Silver Tongue\", \"Stoic\", \"Iron Will\"],\n    description: \"Noble flame warriors with strong moral codes.\"\n  },\n  \"Storm Herald\": {\n    automatic: [\"Silver Tongue\"],\n    forbidden: [],\n    preferred: [\"Swift\", \"Brave\", \"Observant\"],\n    description: \"Sky leaders who command through charisma and storm power.\"\n  },\n  \"Wind Sage\": {\n    automatic: [\"Keen Senses\"],\n    forbidden: [],\n    preferred: [\"Clever\", \"Patient\", \"Iron Will\"],\n    description: \"Aerial mystics with enhanced perception and wisdom.\"\n  },\n  \"Cloud Walker\": {\n    automatic: [\"Swift\"],\n    forbidden: [\"Stoic\"],\n    preferred: [\"Observant\", \"Lucky\", \"Silver Tongue\"],\n    description: \"Agile sky dancers who embrace freedom and movement.\"\n  },\n  \"Sky Guardian\": {\n    automatic: [\"Brave\"],\n    forbidden: [],\n    preferred: [\"Iron Will\", \"Stoic\", \"Observant\"],\n    description: \"Stalwart defenders of the aerial realms.\"\n  }\n};\n\nconst SPECIES_OPTIONS = [\n  \"Human\", \"Sylvanborn\", \"Alloy\", \"Draketh\", \"Voidkin\", \"Crystalborn\", \"Stormcaller\"\n];\n\nconst GENDER_OPTIONS = [\n  \"Female\",\n  \"Male\"\n];\n\nconst ARCHETYPE_OPTIONS = [\n  \"Ranger\", \"Artificer\", \"Mystic\", \"Guardian\", \"Scholar\", \"Rogue\", \"Warrior\", \"Healer\"\n];\n\nconst CLASS_OPTIONS = Object.keys(CLASS_DEFINITIONS);\n\n// Racial stat modifiers - balanced with equal positives and negatives\nconst RACIAL_MODIFIERS: Record<string, Partial<Record<Stats, number>>> = {\n  \"Human\": { STR: 1, CHA: 1, CON: -1, WIS: -1 }, // Strong and social, but less hardy and wise\n  \"Sylvanborn\": { DEX: 2, WIS: 1, STR: -2, CON: -1 }, // Graceful and wise, but frail\n  \"Alloy\": { CON: 2, INT: 1, DEX: -2, CHA: -1 }, // Durable and smart, but rigid and impersonal\n  \"Draketh\": { STR: 2, CHA: 1, DEX: -1, WIS: -2 }, // Strong and charismatic, but clumsy and impulsive\n  \"Voidkin\": { INT: 2, WIS: 1, STR: -1, CHA: -2 }, // Brilliant and perceptive, but weak and unsettling\n  \"Crystalborn\": { CON: 1, INT: 2, DEX: -1, CHA: -2 }, // Resilient and bright, but inflexible and cold\n  \"Stormcaller\": { DEX: 1, CHA: 2, CON: -1, STR: -2 }, // Quick and magnetic, but fragile and weak\n};\n\n// Extract class modifiers from our comprehensive class definitions\nconst CLASS_MODIFIERS: Record<string, Partial<Record<Stats, number>>> = {};\n\n// Populate class modifiers from CLASS_DEFINITIONS\nObject.entries(CLASS_DEFINITIONS).forEach(([className, classData]) => {\n  // Convert our stat modifier names to the Stats type used here\n  CLASS_MODIFIERS[className] = {\n    STR: classData.statModifiers.strength || 0,\n    DEX: classData.statModifiers.dexterity || 0,\n    CON: classData.statModifiers.constitution || 0,\n    INT: classData.statModifiers.intelligence || 0,\n    WIS: classData.statModifiers.wisdom || 0,\n    CHA: classData.statModifiers.charisma || 0,\n  };\n});\n\nconst BACKGROUND_TEMPLATES = [\n  \"A former {profession} who left their old life behind after {event}. Now they seek {goal} in the wider world.\",\n  \"Born in {location}, they were raised by {guardian} and learned the ways of {skill}. Their greatest challenge was {challenge}.\",\n  \"Once served as {role} until {tragedy} changed everything. Now they wander, carrying {burden} and seeking {redemption}.\",\n  \"Discovered their {talent} at a young age in {homeland}. After {incident}, they must now {quest}.\",\n  \"A {descriptor} soul from {origin} who {past_action}. Their destiny was forever changed when {turning_point}.\"\n];\n\nconst BACKGROUND_WORDS = {\n  profession: [\"merchant\", \"soldier\", \"scholar\", \"artisan\", \"noble\", \"farmer\", \"sailor\", \"miner\"],\n  event: [\"a great betrayal\", \"a mystical awakening\", \"a terrible loss\", \"a divine vision\", \"a forbidden discovery\"],\n  goal: [\"redemption\", \"knowledge\", \"vengeance\", \"peace\", \"power\", \"understanding\", \"justice\"],\n  location: [\"the mountains\", \"the deep forests\", \"a bustling city\", \"a remote village\", \"the desert wastes\", \"coastal towns\"],\n  guardian: [\"wise elders\", \"a mysterious mentor\", \"ancient spirits\", \"temple priests\", \"nomadic tribes\"],\n  skill: [\"combat\", \"magic\", \"diplomacy\", \"survival\", \"crafting\", \"healing\"],\n  challenge: [\"surviving in the wilderness\", \"uncovering dark secrets\", \"protecting their community\", \"mastering their abilities\"],\n  role: [\"a royal guard\", \"a temple acolyte\", \"a guild member\", \"a traveling performer\", \"a court advisor\"],\n  tragedy: [\"war came to their lands\", \"a plague struck\", \"they were falsely accused\", \"dark forces emerged\"],\n  burden: [\"ancient knowledge\", \"a family secret\", \"a cursed artifact\", \"the weight of prophecy\"],\n  redemption: [\"to right past wrongs\", \"to prove their worth\", \"to save their people\", \"to break an ancient curse\"],\n  talent: [\"gift for magic\", \"exceptional strength\", \"keen insight\", \"natural charisma\", \"connection to nature\"],\n  homeland: [\"the crystal caves\", \"the floating islands\", \"the shadow realm\", \"the golden plains\"],\n  incident: [\"the great storm\", \"a dragon's attack\", \"political upheaval\", \"a mystical convergence\"],\n  quest: [\"find their true purpose\", \"restore balance\", \"uncover their heritage\", \"save their homeland\"],\n  descriptor: [\"wandering\", \"noble\", \"mysterious\", \"brave\", \"cunning\", \"wise\", \"fierce\"],\n  origin: [\"distant lands\", \"humble beginnings\", \"royal bloodline\", \"ancient lineage\", \"forgotten realms\"],\n  past_action: [\"fought in great battles\", \"studied forbidden lore\", \"communed with spirits\", \"crafted legendary items\"],\n  turning_point: [\"they discovered their true nature\", \"fate intervened\", \"they made a fateful choice\", \"destiny called\"]\n};\n\nconst PREMADE_CHARACTERS = [\n  {\n    name: \"Kira Stormwind\",\n    gender: \"Female\",\n    species: \"Stormcaller\",\n    archetype: \"Mystic\",\n    background: \"A former temple acolyte who left their old life behind after a mystical awakening. Now they seek knowledge in the wider world, wielding storm magic passed down through generations.\",\n    stats: { STR: 10, DEX: 14, CON: 12, INT: 15, WIS: 13, CHA: 11 },\n    traits: [\"Observant\", \"Silver Tongue\", \"Swift\"],\n    portraitUrl: \"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=300&h=300&fit=crop&crop=face\",\n    mode: \"POINT_BUY\" as const\n  },\n  {\n    name: \"Marcus Ironforge\",\n    gender: \"Male\",\n    species: \"Alloy\",\n    archetype: \"Artificer\",\n    background: \"Born in the crystal caves, he was raised by wise elders and learned the ways of crafting. His greatest challenge was mastering the fusion of magic and metal that defines his people.\",\n    stats: { STR: 13, DEX: 11, CON: 15, INT: 14, WIS: 12, CHA: 8 },\n    traits: [\"Clever\", \"Iron Will\", \"Stoic\"],\n    portraitUrl: \"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=300&fit=crop&crop=face\",\n    mode: \"POINT_BUY\" as const\n  },\n  {\n    name: \"Zara Nightwhisper\",\n    gender: \"Female\",\n    species: \"Voidkin\",\n    archetype: \"Rogue\",\n    background: \"A wandering soul from the shadow realm who fought in great battles against the encroaching darkness. Her destiny was forever changed when she discovered her connection to the void grants her unique abilities.\",\n    stats: { STR: 9, DEX: 15, CON: 11, INT: 12, WIS: 14, CHA: 13 },\n    traits: [\"Cunning\", \"Lucky\", \"Observant\"],\n    portraitUrl: \"https://images.unsplash.com/photo-1494790108755-2616c4b43e69?w=300&h=300&fit=crop&crop=face\",\n    mode: \"POINT_BUY\" as const\n  }\n];\n\nconst MAX_TRAITS = 2;\n\nfunction canAffordStatIncrease(currentValue: number, pointsLeft: number): boolean {\n  if (currentValue >= MAX_STAT) return false;\n  const newValue = currentValue + 1;\n  const currentCost = calculateStatCost(currentValue);\n  const newCost = calculateStatCost(newValue);\n  return pointsLeft >= (newCost - currentCost);\n}\n\nconst container: React.CSSProperties = {\n  display: \"grid\",\n  gap: 16,\n  gridTemplateColumns: \"1fr 420px\",\n  padding: 24,\n  alignItems: \"start\",\n};\n\nconst card: React.CSSProperties = {\n  border: \"1px solid #cbd5e1\",\n  borderRadius: 12,\n  padding: 16,\n  background: \"#0b0e12\",\n  color: \"#e5e7eb\",\n};\n\nconst sectionTitle: React.CSSProperties = { margin: \"8px 0 4px\", opacity: 0.9 };\n\nfunction randInt(min: number, max: number) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction roll4d6DropLowest() {\n  const rolls = [randInt(1, 6), randInt(1, 6), randInt(1, 6), randInt(1, 6)];\n  rolls.sort((a, b) => b - a); // desc\n  return rolls[0] + rolls[1] + rolls[2];\n}\n\nfunction download(filename: string, data: object) {\n  const blob = new Blob([JSON.stringify(data, null, 2)], { type: \"application/json\" });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement(\"a\");\n  a.href = url;\n  a.download = filename;\n  a.click();\n  URL.revokeObjectURL(url);\n}\n\nfunction generateBackground(): string {\n  const template = BACKGROUND_TEMPLATES[Math.floor(Math.random() * BACKGROUND_TEMPLATES.length)];\n\n  return template.replace(/\\{(\\w+)\\}/g, (match, key) => {\n    const options = BACKGROUND_WORDS[key as keyof typeof BACKGROUND_WORDS];\n    if (options) {\n      return options[Math.floor(Math.random() * options.length)];\n    }\n    return match;\n  });\n}\n\nfunction abilityMod(score: number) {\n  // Modified calculation: 8-9 = +0, 10-11 = +1, 12-13 = +2, etc.\n  return Math.floor((score - 8) / 2);\n}\n\n// Calculate final stat with racial and class bonuses\nfunction getFinalStat(baseStat: number, stat: Stats, species: string, archetype: string): number {\n  let final = baseStat;\n\n  // Add racial bonus (can be negative)\n  const racialBonus = RACIAL_MODIFIERS[species]?.[stat] || 0;\n  final += racialBonus;\n\n  // Add class bonus (can be negative - balanced like racial bonuses)\n  const classBonus = CLASS_MODIFIERS[archetype]?.[stat] || 0;\n  final += classBonus;\n\n  return Math.max(3, Math.min(final, 22)); // Cap between 3-22 (penalties can bring stats low, but not too low)\n}\n\n// Get the display text for bonuses\nfunction getBonusText(stat: Stats, species: string, archetype: string): string {\n  const racialBonus = RACIAL_MODIFIERS[species]?.[stat] || 0;\n  const classBonus = CLASS_MODIFIERS[archetype]?.[stat] || 0;\n\n  let text = \"\";\n  if (racialBonus > 0) text += ` +${racialBonus} racial`;\n  if (racialBonus < 0) text += ` ${racialBonus} racial`;\n  if (classBonus > 0) text += ` +${classBonus} class`;\n  if (classBonus < 0) text += ` ${classBonus} class`;\n\n  return text;\n}\n\n// Updated point buy calculation - costs 1 for 8-13, 2 for 14-15, 3 for 16-20\nconst POINTS_POOL = 27;\nconst MIN_STAT = 8;\nconst MAX_STAT = 20;\n\nexport default function CharacterCreate() {\n  const [char, setChar] = useState<Character>({\n    name: \"\",\n    gender: \"\",\n    species: \"\",\n    archetype: \"\",\n    background: \"\",\n    stats: { ...DEFAULT_STATS },\n    traits: [],\n    portraitUrl: \"\",\n    mode: \"POINT_BUY\",\n    level: 1,\n    knownSpells: [],\n    knownCantrips: [],\n  });\n\n  const pointsSpent = useMemo(() => {\n    let spent = 0;\n    (Object.keys(char.stats) as Stats[]).forEach((k) => {\n      spent += calculateStatCost(char.stats[k]);\n    });\n    return spent;\n  }, [char.stats]);\n\n  const pointsLeft = POINTS_POOL - pointsSpent;\n\n  function setField<K extends keyof Character>(key: K, val: Character[K]) {\n    setChar((c) => ({ ...c, [key]: val }));\n  }\n\n  function inc(stat: Stats) {\n    setChar((c) => {\n      const v = c.stats[stat];\n      if (c.mode !== \"POINT_BUY\") return c;\n      if (v >= MAX_STAT) return c;\n      if (!canAffordStatIncrease(v, pointsLeft)) return c;\n      return { ...c, stats: { ...c.stats, [stat]: v + 1 } };\n    });\n  }\n\n  function dec(stat: Stats) {\n    setChar((c) => {\n      const v = c.stats[stat];\n      if (c.mode !== \"POINT_BUY\") return c;\n      if (v <= MIN_STAT) return c;\n      return { ...c, stats: { ...c.stats, [stat]: v - 1 } };\n    });\n  }\n\n  function rollAll() {\n    const rolled: Record<Stats, number> = { ...DEFAULT_STATS };\n    (Object.keys(rolled) as Stats[]).forEach((k) => {\n      rolled[k] = roll4d6DropLowest();\n    });\n    setChar((c) => ({ ...c, stats: rolled }));\n  }\n\n  // Get trait mechanical benefits for display\n  function getTraitBenefits(character: Character): string[] {\n    return character.traits.map(traitName => {\n      const trait = TRAIT_DEFINITIONS[traitName as keyof typeof TRAIT_DEFINITIONS];\n      if (!trait) return `${traitName}: Unknown effect`;\n      return `${trait.name}: ${trait.description}`;\n    });\n  }\n\n  // Get automatic traits for current species and class\n  function getAutomaticTraits(): string[] {\n    const automatic = new Set<string>();\n\n    // Add species automatic traits\n    if (char.species) {\n      const speciesRules = SPECIES_TRAIT_RULES[char.species as keyof typeof SPECIES_TRAIT_RULES];\n      if (speciesRules) {\n        speciesRules.automatic.forEach(trait => automatic.add(trait));\n      }\n    }\n\n    // Add class automatic traits\n    if (char.archetype) {\n      const classRules = CLASS_TRAIT_RULES[char.archetype as keyof typeof CLASS_TRAIT_RULES];\n      if (classRules) {\n        classRules.automatic.forEach(trait => automatic.add(trait));\n      }\n    }\n\n    return Array.from(automatic);\n  }\n\n  // Check if a trait is forbidden for current species/class\n  function isTraitForbidden(traitName: string): boolean {\n    // Check species restrictions\n    if (char.species) {\n      const speciesRules = SPECIES_TRAIT_RULES[char.species as keyof typeof SPECIES_TRAIT_RULES];\n      if (speciesRules?.forbidden && speciesRules.forbidden.includes(traitName)) {\n        return true;\n      }\n    }\n\n    // Check class restrictions\n    if (char.archetype) {\n      const classRules = CLASS_TRAIT_RULES[char.archetype as keyof typeof CLASS_TRAIT_RULES];\n      if (classRules?.forbidden && classRules.forbidden.includes(traitName)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  // Check if a trait is preferred (helpful for UI hints)\n  function isTraitPreferred(traitName: string): boolean {\n    // Check species preferences\n    if (char.species) {\n      const speciesRules = SPECIES_TRAIT_RULES[char.species as keyof typeof SPECIES_TRAIT_RULES];\n      if (speciesRules?.preferred && speciesRules.preferred.includes(traitName)) {\n        return true;\n      }\n    }\n\n    // Check class preferences\n    if (char.archetype) {\n      const classRules = CLASS_TRAIT_RULES[char.archetype as keyof typeof CLASS_TRAIT_RULES];\n      if (classRules?.preferred && classRules.preferred.includes(traitName)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  // Apply automatic traits when species or class changes\n  React.useEffect(() => {\n    const automaticTraits = getAutomaticTraits();\n    const currentTraits = new Set(char.traits);\n    let needsUpdate = false;\n\n    // Add missing automatic traits\n    automaticTraits.forEach(trait => {\n      if (!currentTraits.has(trait)) {\n        currentTraits.add(trait);\n        needsUpdate = true;\n      }\n    });\n\n    // Remove forbidden traits\n    Array.from(currentTraits).forEach(trait => {\n      if (isTraitForbidden(trait)) {\n        currentTraits.delete(trait);\n        needsUpdate = true;\n      }\n    });\n\n    if (needsUpdate) {\n      setChar(c => ({ ...c, traits: Array.from(currentTraits) }));\n    }\n  }, [char.species, char.archetype]);\n\n  function toggleTrait(t: string) {\n    setChar((c) => {\n      const has = c.traits.includes(t);\n      if (has) return { ...c, traits: c.traits.filter((x) => x !== t) };\n      if (c.traits.length >= MAX_TRAITS) return c;\n      return { ...c, traits: [...c.traits, t] };\n    });\n  }\n\n  async function saveCharacter() {\n    if (!char.name.trim()) {\n      alert(\"Give your character a name before saving.\");\n      return;\n    }\n\n    try {\n      // Create snapshot with portrait binding\n      const characterWithPortrait = { ...char, createdAt: new Date().toISOString() };\n      await bindPortraitToCharacter(characterWithPortrait, {\n        body: \"standard\",\n        palette: \"Rootspeakers\",\n        size: { width: 300, height: 380 }\n      });\n\n      localStorage.setItem(\"we:lastCharacter\", JSON.stringify(characterWithPortrait));\n      download(`${char.name.replace(/\\s+/g, \"_\")}.json`, characterWithPortrait);\n    } catch (error) {\n      console.error('Error saving character with portrait:', error);\n      // Fallback to saving without portrait\n      const payload = { ...char, createdAt: new Date().toISOString() };\n      localStorage.setItem(\"we:lastCharacter\", JSON.stringify(payload));\n      download(`${char.name.replace(/\\s+/g, \"_\")}.json`, payload);\n    }\n  }\n\n  // Finalize character with portrait binding (from patch example)\n  async function finalizeCharacter(character: any) {\n    await bindPortraitToCharacter(character, {\n      body: \"standard\",\n      palette: \"Rootspeakers\", // Could be mapped from species/archetype\n      size: { width: 300, height: 380 }\n    });\n    // now character.portraitUrl contains the generated portrait PNG data URL\n    return character;\n  }\n\n  async function saveToLibrary() {\n    if (!char.name.trim()) {\n      alert(\"Give your character a name before saving.\");\n      return;\n    }\n\n    console.log(\"Saving character to library:\", char);\n\n    try {\n      // Finalize character with auto-generated portrait (following patch example)\n      const finalizedCharacter = await finalizeCharacter({ ...char });\n\n      // Get existing character library\n      const existingCharacters = JSON.parse(localStorage.getItem('world-engine-characters') || '[]');\n      console.log(\"Existing characters:\", existingCharacters);\n\n      // Create character data for library\n      const characterData = {\n        id: `char-${Date.now()}`,\n        name: finalizedCharacter.name,\n        race: finalizedCharacter.species,\n        characterClass: finalizedCharacter.archetype,\n        level: finalizedCharacter.level || 1,\n        createdAt: new Date().toISOString(),\n        data: { ...finalizedCharacter, createdAt: new Date().toISOString() }\n      };\n\n      console.log(\"Character data to save:\", characterData);\n\n      // Add to library\n      existingCharacters.push(characterData);\n      localStorage.setItem('world-engine-characters', JSON.stringify(existingCharacters));\n      // Create backup\n      localStorage.setItem('world-engine-characters-backup', JSON.stringify(existingCharacters));\n      console.log(\"Saved to localStorage, total characters:\", existingCharacters.length);\n\n      alert(`${char.name} has been saved to your character library!`);\n    } catch (error) {\n      console.error('Error saving to library:', error);\n      alert('Error saving character to library.');\n    }\n  }\n\n  function loadLast() {\n    const raw = localStorage.getItem(\"we:lastCharacter\");\n    if (!raw) return alert(\"No saved character found.\");\n    try {\n      setChar(JSON.parse(raw));\n    } catch {\n      alert(\"Save file corrupted.\");\n    }\n  }\n\n  function loadPremade(character: Character) {\n    setChar({ ...character });\n  }\n\n  function resetAll() {\n    setChar({\n      name: \"\",\n      gender: \"\",\n      species: \"\",\n      archetype: \"\",\n      background: \"\",\n      stats: { ...DEFAULT_STATS },\n      traits: [],\n      portraitUrl: \"\",\n      mode: \"POINT_BUY\",\n    });\n  }\n\n  const derived = useMemo(() => {\n    const lvl = char.level || 1;\n    const finalCON = getFinalStat(char.stats.CON, \"CON\", char.species, char.archetype);\n    const finalSTR = getFinalStat(char.stats.STR, \"STR\", char.species, char.archetype);\n    const finalDEX = getFinalStat(char.stats.DEX, \"DEX\", char.species, char.archetype);\n\n    // Calculate HP with class and race modifiers\n    let baseHP = 10; // Starting HP\n    let hpPerLevel = abilityMod(finalCON); // Base CON modifier per level\n\n    // Class-based HP per level modifiers\n    let classHPBonus = 0;\n    if (char.archetype === \"Thorn Knight\" || char.archetype === \"Crystal Guardian\" || char.archetype === \"Ironclad\") {\n      classHPBonus = 3; // Heavy warriors - lots of HP per level\n    } else if (char.archetype === \"Ashblade\" || char.archetype === \"Stormbreaker\" || char.archetype === \"Voidhunter\") {\n      classHPBonus = 2; // Medium warriors - good HP per level\n    } else if (char.archetype === \"Greenwarden\" || char.archetype === \"Guardian\" || char.archetype === \"Warrior\") {\n      classHPBonus = 2; // Defensive classes - good HP\n    } else if (char.archetype === \"Ranger\" || char.archetype === \"Rogue\" || char.archetype === \"Artificer\" || char.archetype === \"Healer\") {\n      classHPBonus = 1; // Medium classes - moderate HP\n    } else if (char.archetype === \"Bloomcaller\" || char.archetype === \"Mystic\") {\n      classHPBonus = 1; // Support classes - moderate HP\n    } else {\n      classHPBonus = 0; // Magic classes (Sapling Adept, Scholar, Storm Herald) - low HP\n    }\n\n    // Race-based HP modifiers\n    let raceHPBonus = 0;\n    if (char.species === \"Alloy\") {\n      raceHPBonus = 2; // Metal-infused - very tough\n    } else if (char.species === \"Draketh\") {\n      raceHPBonus = 2; // Dragon heritage - naturally tough\n    } else if (char.species === \"Crystalborn\") {\n      raceHPBonus = 1; // Crystal-hard - somewhat tough\n    } else if (char.species === \"Human\") {\n      raceHPBonus = 1; // Adaptable - slightly above average\n    } else if (char.species === \"Voidkin\") {\n      raceHPBonus = 0; // Otherworldly - average toughness\n    } else if (char.species === \"Sylvanborn\") {\n      raceHPBonus = -1; // Graceful but fragile\n    } else if (char.species === \"Stormcaller\") {\n      raceHPBonus = 0; // Light and agile - average toughness\n    }\n\n    // Trait-based HP bonuses\n    let traitHPBonus = 0;\n    if (char.traits.includes(\"Resilient\")) {\n      traitHPBonus += 2; // Tough trait adds HP per level\n    }\n    if (char.traits.includes(\"Hardy\")) {\n      traitHPBonus += 1; // Another toughness trait\n    }\n    if (char.traits.includes(\"Frail\")) {\n      traitHPBonus -= 2; // Negative trait reduces HP\n    }\n\n    // Calculate total HP per level (minimum 1 per level)\n    const totalHPPerLevel = Math.max(1, hpPerLevel + classHPBonus + raceHPBonus + traitHPBonus);\n\n    // Calculate final HP\n    const hp = baseHP + (totalHPPerLevel * (lvl - 1)); // Level 1 gets base HP, then add per level\n\n    // Calculate AC with natural bonus (much more conservative)\n    let naturalACBonus = 0;\n\n    // Very small level bonus (+1 at level 8, +2 at level 16)\n    if (lvl >= 16) naturalACBonus += 2;\n    else if (lvl >= 8) naturalACBonus += 1;\n\n    // Class-based bonus (combat training) - using actual class names\n    const archetype = char.archetype;\n\n    // Heavy combat classes - fighters and warriors (max +2 at level 20)\n    if (archetype === \"Thorn Knight\" || archetype === \"Ashblade\" || archetype === \"Ironclad\" ||\n      archetype === \"Stormbreaker\" || archetype === \"Voidhunter\" || archetype === \"Crystal Guardian\") {\n      if (lvl >= 15) naturalACBonus += 2;\n      else if (lvl >= 7) naturalACBonus += 1;\n    }\n    // Defensive specialists and guardians (max +1 at level 20)\n    else if (archetype === \"Greenwarden\" || archetype === \"Guardian\" || archetype === \"Warrior\") {\n      if (lvl >= 10) naturalACBonus += 1;\n    }\n    // Medium combat classes - some martial training (max +1 at high level)\n    else if (archetype === \"Ranger\" || archetype === \"Rogue\" || archetype === \"Artificer\") {\n      if (lvl >= 15) naturalACBonus += 1;\n    }\n    // Light combat and magic classes get no class bonus\n\n    // Race-based bonus (natural toughness) - very small bonuses\n    if (char.species === \"Alloy\") {\n      if (lvl >= 12) naturalACBonus += 1; // Metal-infused body\n    } else if (char.species === \"Draketh\") {\n      if (lvl >= 15) naturalACBonus += 1; // Dragon heritage - tough scales\n    } else if (char.species === \"Crystalborn\") {\n      if (lvl >= 15) naturalACBonus += 1; // Crystal-hard skin\n    }\n    // Other races get no racial AC bonus\n\n    // Hard cap at +5 total natural AC bonus\n    naturalACBonus = Math.min(naturalACBonus, 5);\n\n    const ac = 10 + abilityMod(finalDEX) + naturalACBonus;\n    const carry = 15 * finalSTR;\n\n    return { level: lvl, hp, ac, carry, naturalACBonus, totalHPPerLevel, classHPBonus, raceHPBonus, traitHPBonus };\n  }, [char.stats, char.species, char.archetype, char.level, char.traits]);\n\n  return (\n    <div style={container}>\n      {/* LEFT: form */}\n      <div style={{ display: \"grid\", gap: 16 }}>\n        <div style={card}>\n          <h2 style={sectionTitle}>Identity</h2>\n          <div style={{ display: \"grid\", gap: 8 }}>\n            <TextRow label=\"Name\" value={char.name} onChange={(v) => setField(\"name\", v)} />\n            <SelectRow label=\"Gender\" value={char.gender} onChange={(v) => setField(\"gender\", v)} options={GENDER_OPTIONS} />\n            <SelectRow label=\"Species\" value={char.species} onChange={(v) => setField(\"species\", v)} options={SPECIES_OPTIONS} />\n            {char.species && RACIAL_MODIFIERS[char.species] && (\n              <div style={{ fontSize: 12, opacity: 0.7, marginTop: -4 }}>\n                Racial modifiers: {Object.entries(RACIAL_MODIFIERS[char.species]).map(([stat, bonus]) =>\n                  `${stat} ${bonus > 0 ? '+' : ''}${bonus}`\n                ).join(\", \")}\n              </div>\n            )}\n            <SelectRow label=\"Class\" value={char.archetype} onChange={(v) => setField(\"archetype\", v)} options={CLASS_OPTIONS} />\n            <div style={{ display: \"grid\", gap: 4 }}>\n              <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n                <span>Level</span>\n              </div>\n              <input\n                type=\"number\"\n                min=\"1\"\n                max=\"20\"\n                value={char.level || 1}\n                onChange={(e) => setField(\"level\", parseInt(e.target.value) || 1)}\n                style={{\n                  padding: \"8px\",\n                  border: \"1px solid #374151\",\n                  borderRadius: \"4px\",\n                  background: \"#1f2937\",\n                  color: \"#f9fafb\",\n                  fontSize: \"14px\"\n                }}\n              />\n            </div>\n            <div style={{ display: \"grid\", gap: 4 }}>\n              <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n                <span>Background</span>\n                <button\n                  onClick={() => setField(\"background\", generateBackground())}\n                  style={{\n                    padding: \"4px 8px\",\n                    fontSize: \"12px\",\n                    background: \"#374151\",\n                    color: \"#e5e7eb\",\n                    border: \"none\",\n                    borderRadius: \"4px\",\n                    cursor: \"pointer\"\n                  }}\n                >\n                  Generate Random\n                </button>\n              </div>\n              <textarea\n                value={char.background}\n                onChange={(e) => setField(\"background\", e.target.value)}\n                placeholder=\"One-paragraph origin story...\"\n                rows={4}\n                style={{ padding: 8, borderRadius: 8, border: \"1px solid #334155\", background: \"#0f172a\", color: \"#e5e7eb\", resize: \"vertical\" }}\n              />\n            </div>\n\n            {/* Portrait Information */}\n            <div style={{ display: \"grid\", gap: 4 }}>\n              <span>Portrait</span>\n              <div style={{ padding: '12px', background: '#1e293b', borderRadius: '8px', border: '1px solid #475569' }}>\n                <div style={{ fontSize: '14px', color: '#e5e7eb', fontWeight: 'bold', marginBottom: '8px' }}>\n                  � Live Portrait Preview\n                </div>\n                <div style={{ fontSize: '12px', color: '#94a3b8', marginBottom: '8px' }}>\n                  Your character portrait is generated automatically and displayed in the preview panel →\n                </div>\n                <div style={{ fontSize: '11px', color: '#64748b' }}>\n                  Portrait updates live as you change name, species, and class.\n                  When you save, a snapshot will be stored with your character.\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div style={card}>\n          <h2 style={sectionTitle}>Abilities</h2>\n\n          <div style={{ display: \"flex\", gap: 12, marginBottom: 8 }}>\n            <label><input type=\"radio\" checked={char.mode === \"POINT_BUY\"} onChange={() => setField(\"mode\", \"POINT_BUY\")} /> Point Buy</label>\n            <label><input type=\"radio\" checked={char.mode === \"ROLL\"} onChange={() => setField(\"mode\", \"ROLL\")} /> Roll (4d6 drop lowest)</label>\n            {char.mode === \"ROLL\" && (\n              <button onClick={rollAll} style={{ marginLeft: \"auto\" }}>Roll All</button>\n            )}\n          </div>\n\n          {char.mode === \"POINT_BUY\" && (\n            <div style={{ marginBottom: 8, opacity: 0.9 }}>\n              Points left: <strong>{pointsLeft}</strong> (Pool: {POINTS_POOL}, range {MIN_STAT}–{MAX_STAT})\n              <div style={{ fontSize: 12, marginTop: 4, opacity: 0.7 }}>\n                Cost: 8-13 = 1 point each, 14-15 = 2 points each, 16-20 = 3 points each\n              </div>\n            </div>\n          )}\n\n          <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(3, 1fr)\", gap: 8 }}>\n            {(Object.keys(char.stats) as Stats[]).map((k) => {\n              const baseStat = char.stats[k];\n              const finalStat = getFinalStat(baseStat, k, char.species, char.archetype);\n              const bonusText = getBonusText(k, char.species, char.archetype);\n\n              return (\n                <div key={k} style={{ border: \"1px solid #334155\", borderRadius: 10, padding: 10 }}>\n                  <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n                    <strong>{k}</strong>\n                    {char.mode === \"POINT_BUY\" && (\n                      <span>\n                        <button onClick={() => dec(k)} disabled={char.stats[k] <= MIN_STAT}>−</button>\n                        <button onClick={() => inc(k)} disabled={char.stats[k] >= MAX_STAT || !canAffordStatIncrease(char.stats[k], pointsLeft)} style={{ marginLeft: 6 }}>＋</button>\n                      </span>\n                    )}\n                  </div>\n                  <div style={{ fontSize: 28, textAlign: \"center\", marginTop: 6 }}>\n                    {finalStat !== baseStat ? (\n                      <>\n                        <span style={{ opacity: 0.6 }}>{baseStat}</span>\n                        <span style={{\n                          color: finalStat > baseStat ? \"#10b981\" : \"#ef4444\",\n                          marginLeft: 4\n                        }}>\n                          →{finalStat}\n                        </span>\n                      </>\n                    ) : (\n                      finalStat\n                    )}\n                  </div>\n                  <div style={{ fontSize: 12, textAlign: \"center\", opacity: 0.8 }}>\n                    mod {abilityMod(finalStat) >= 0 ? \"+\" : \"\"}{abilityMod(finalStat)}\n                  </div>\n                  {bonusText && (\n                    <div style={{ fontSize: 10, textAlign: \"center\", opacity: 0.6, marginTop: 2 }}>\n                      {bonusText}\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        </div>\n\n        <div style={card}>\n          <h2 style={sectionTitle}>Traits <small style={{ opacity: 0.7 }}>(choose up to {MAX_TRAITS})</small></h2>\n\n          {/* Trait System Explanation */}\n          <div style={{ marginBottom: \"16px\", padding: \"12px\", background: \"rgba(71, 85, 105, 0.1)\", border: \"1px solid #475569\", borderRadius: \"8px\" }}>\n            <div style={{ display: \"flex\", gap: \"24px\", fontSize: \"0.85em\", color: \"#94a3b8\" }}>\n              <div><span style={{ color: \"#10b981\", fontWeight: \"bold\" }}>●</span> Automatic - Required by your species/class</div>\n              <div><span style={{ color: \"#f59e0b\", fontWeight: \"bold\" }}>●</span> Recommended - Fits your background well</div>\n              <div><span style={{ color: \"#ef4444\", fontWeight: \"bold\" }}>●</span> Forbidden - Conflicts with your nature</div>\n            </div>\n          </div>\n\n          {/* Show species/class info if selected */}\n          {(char.species || char.archetype) && (\n            <div style={{ marginBottom: \"16px\", padding: \"12px\", background: \"rgba(30, 41, 59, 0.5)\", border: \"1px solid #334155\", borderRadius: \"8px\" }}>\n              {char.species && SPECIES_TRAIT_RULES[char.species] && (\n                <div style={{ marginBottom: char.archetype ? \"8px\" : \"0\" }}>\n                  <strong style={{ color: \"#e2e8f0\" }}>Species - {char.species}:</strong>\n                  <div style={{ color: \"#94a3b8\", marginLeft: \"8px\", fontSize: \"0.9em\", marginTop: \"2px\" }}>\n                    {SPECIES_TRAIT_RULES[char.species].description}\n                  </div>\n                </div>\n              )}\n              {char.archetype && CLASS_TRAIT_RULES[char.archetype] && (\n                <div>\n                  <strong style={{ color: \"#e2e8f0\" }}>Class - {char.archetype}:</strong>\n                  <div style={{ color: \"#94a3b8\", marginLeft: \"8px\", fontSize: \"0.9em\", marginTop: \"2px\" }}>\n                    {CLASS_TRAIT_RULES[char.archetype].description}\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n          <div style={{ display: \"grid\", gap: 12 }}>\n            {TRAIT_CATALOG.map((t) => {\n              const traitDef = TRAIT_DEFINITIONS[t as keyof typeof TRAIT_DEFINITIONS];\n              const isSelected = char.traits.includes(t);\n              const isAutomatic = getAutomaticTraits().includes(t);\n              const isForbidden = isTraitForbidden(t);\n              const isPreferred = isTraitPreferred(t);\n              const isDisabled = (!isSelected && char.traits.length >= MAX_TRAITS) || isForbidden;\n\n              let borderColor = \"#374151\";\n              let backgroundColor = \"rgba(15, 23, 42, 0.5)\";\n              let badgeText = \"\";\n              let badgeColor = \"\";\n\n              if (isAutomatic) {\n                borderColor = \"#10b981\";\n                backgroundColor = \"rgba(16, 185, 129, 0.1)\";\n                badgeText = \"AUTOMATIC\";\n                badgeColor = \"#10b981\";\n              } else if (isForbidden) {\n                borderColor = \"#ef4444\";\n                backgroundColor = \"rgba(239, 68, 68, 0.1)\";\n                badgeText = \"FORBIDDEN\";\n                badgeColor = \"#ef4444\";\n              } else if (isSelected) {\n                borderColor = \"#3b82f6\";\n                backgroundColor = \"rgba(59, 130, 246, 0.1)\";\n              } else if (isPreferred) {\n                borderColor = \"#f59e0b\";\n                backgroundColor = \"rgba(245, 158, 11, 0.05)\";\n                badgeText = \"RECOMMENDED\";\n                badgeColor = \"#f59e0b\";\n              }\n\n              return (\n                <label key={t} style={{\n                  display: \"flex\",\n                  gap: 12,\n                  alignItems: \"flex-start\",\n                  padding: \"12px\",\n                  border: `2px solid ${borderColor}`,\n                  borderRadius: \"8px\",\n                  background: backgroundColor,\n                  cursor: (isDisabled && !isAutomatic) ? \"not-allowed\" : \"pointer\",\n                  opacity: (isDisabled && !isAutomatic) ? 0.5 : 1,\n                  position: \"relative\"\n                }}>\n                  <input\n                    type=\"checkbox\"\n                    checked={isSelected}\n                    onChange={() => !isAutomatic && !isForbidden && toggleTrait(t)}\n                    disabled={isAutomatic || isForbidden || (!isSelected && char.traits.length >= MAX_TRAITS)}\n                    style={{ marginTop: \"2px\" }}\n                  />\n                  <div style={{ flex: 1 }}>\n                    <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n                      <div style={{ fontWeight: \"bold\", color: \"#f1f5f9\" }}>{traitDef.name}</div>\n                      {badgeText && (\n                        <span style={{\n                          fontSize: \"0.7em\",\n                          padding: \"2px 6px\",\n                          borderRadius: \"4px\",\n                          backgroundColor: badgeColor,\n                          color: \"white\",\n                          fontWeight: \"bold\"\n                        }}>\n                          {badgeText}\n                        </span>\n                      )}\n                    </div>\n                    <div style={{ fontSize: \"0.9em\", color: \"#94a3b8\", marginTop: \"4px\" }}>\n                      {traitDef.description}\n                    </div>\n                  </div>\n                </label>\n              );\n            })}\n          </div>\n\n          {/* Show selected trait benefits */}\n          {char.traits.length > 0 && (\n            <div style={{ marginTop: \"16px\", padding: \"12px\", background: \"rgba(16, 185, 129, 0.1)\", border: \"1px solid #10b981\", borderRadius: \"8px\" }}>\n              <h3 style={{ margin: \"0 0 8px\", color: \"#10b981\", fontSize: \"1rem\" }}>Active Trait Benefits:</h3>\n              {getTraitBenefits(char).map((benefit, index) => (\n                <div key={index} style={{ fontSize: \"0.9em\", color: \"#e5e7eb\", marginBottom: \"4px\" }}>\n                  • {benefit}\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Spell Management Section */}\n        {getSpellcastingClass(char.archetype) !== 'none' && (\n          <div style={card}>\n            <h2 style={sectionTitle}>Spells & Cantrips</h2>\n\n            {/* Spell Capacity Display */}\n            <div style={{ marginBottom: \"16px\", padding: \"12px\", background: \"rgba(59, 130, 246, 0.1)\", border: \"1px solid #3b82f6\", borderRadius: \"8px\" }}>\n              <h3 style={{ margin: \"0 0 8px\", color: \"#3b82f6\", fontSize: \"1rem\" }}>Spell Capacity ({getSpellcastingClass(char.archetype)} caster):</h3>\n              <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"12px\", fontSize: \"0.9em\" }}>\n                <div>\n                  <strong>Cantrips:</strong> {char.knownCantrips?.length || 0} / {calculateMaxCantrips(char.level || 1, char.stats.INT, char.stats.WIS)}\n                </div>\n                <div>\n                  <strong>Spells:</strong> {char.knownSpells?.length || 0} / {calculateMaxSpells(char.level || 1, char.stats.INT, char.stats.WIS)}\n                </div>\n                <div>\n                  <strong>Max Spell Level:</strong> {calculateMaxSpellLevel(char.level || 1)}\n                </div>\n                <div>\n                  <strong>Primary Ability:</strong> {getSpellcastingClass(char.archetype) === 'wizard' ? `INT (${char.stats.INT})` :\n                    getSpellcastingClass(char.archetype) === 'cleric' ? `WIS (${char.stats.WIS})` :\n                      `INT (${char.stats.INT}) or WIS (${char.stats.WIS})`}\n                </div>\n              </div>\n            </div>\n\n            {/* Cantrip Selection */}\n            <div style={{ marginBottom: \"16px\" }}>\n              <h3 style={{ margin: \"0 0 8px\", color: \"#8b5cf6\", fontSize: \"1.1rem\" }}>Known Cantrips:</h3>\n              <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: \"8px\", marginBottom: \"8px\" }}>\n                {(char.knownCantrips || []).map((cantripId, index) => {\n                  const cantrip = JSON.parse(localStorage.getItem('world-engine-saved-spells') || '[]')\n                    .find((spell: any) => spell.name === cantripId && spell.level === 0);\n                  return (\n                    <span\n                      key={index}\n                      style={{\n                        background: \"#1e293b\",\n                        color: \"#e2e8f0\",\n                        padding: \"4px 8px\",\n                        borderRadius: \"4px\",\n                        fontSize: \"12px\",\n                        border: \"1px solid #8b5cf6\",\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        gap: \"4px\"\n                      }}\n                    >\n                      {cantrip?.name || cantripId}\n                      <button\n                        onClick={() => {\n                          const updated = (char.knownCantrips || []).filter((_, i) => i !== index);\n                          setField(\"knownCantrips\", updated);\n                        }}\n                        style={{\n                          background: \"none\",\n                          border: \"none\",\n                          color: \"#ef4444\",\n                          cursor: \"pointer\",\n                          padding: \"0\",\n                          fontSize: \"12px\"\n                        }}\n                      >\n                        ✕\n                      </button>\n                    </span>\n                  );\n                })}\n              </div>\n              <button\n                onClick={() => {\n                  const savedSpells = JSON.parse(localStorage.getItem('world-engine-saved-spells') || '[]');\n                  const availableCantrips = savedSpells.filter((spell: any) =>\n                    spell.level === 0 && !(char.knownCantrips || []).includes(spell.name)\n                  );\n\n                  if (availableCantrips.length === 0) {\n                    alert('No saved cantrips available! Create some cantrips in the Spell Generator first.');\n                    return;\n                  }\n\n                  if ((char.knownCantrips || []).length >= calculateMaxCantrips(char.level || 1, char.stats.INT, char.stats.WIS)) {\n                    alert('Maximum cantrips reached! Increase level or ability scores for more.');\n                    return;\n                  }\n\n                  const randomCantrip = availableCantrips[Math.floor(Math.random() * availableCantrips.length)];\n                  const updated = [...(char.knownCantrips || []), randomCantrip.name];\n                  setField(\"knownCantrips\", updated);\n                }}\n                disabled={(char.knownCantrips || []).length >= calculateMaxCantrips(char.level || 1, char.stats.INT, char.stats.WIS)}\n                style={{\n                  padding: \"6px 12px\",\n                  background: (char.knownCantrips || []).length >= calculateMaxCantrips(char.level || 1, char.stats.INT, char.stats.WIS) ? \"#374151\" : \"#8b5cf6\",\n                  color: \"#f9fafb\",\n                  border: \"none\",\n                  borderRadius: \"4px\",\n                  cursor: (char.knownCantrips || []).length >= calculateMaxCantrips(char.level || 1, char.stats.INT, char.stats.WIS) ? \"not-allowed\" : \"pointer\",\n                  fontSize: \"12px\"\n                }}\n              >\n                + Add Random Cantrip\n              </button>\n            </div>\n\n            {/* Spell Selection */}\n            {calculateMaxSpells(char.level || 1, char.stats.INT, char.stats.WIS) > 0 && (\n              <div style={{ marginBottom: \"16px\" }}>\n                <h3 style={{ margin: \"0 0 8px\", color: \"#8b5cf6\", fontSize: \"1.1rem\" }}>Known Spells:</h3>\n                <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: \"8px\", marginBottom: \"8px\" }}>\n                  {(char.knownSpells || []).map((spellId, index) => {\n                    const spell = JSON.parse(localStorage.getItem('world-engine-saved-spells') || '[]')\n                      .find((s: any) => s.name === spellId && s.level > 0);\n                    return (\n                      <span\n                        key={index}\n                        style={{\n                          background: \"#1e293b\",\n                          color: \"#e2e8f0\",\n                          padding: \"4px 8px\",\n                          borderRadius: \"4px\",\n                          fontSize: \"12px\",\n                          border: \"1px solid #3b82f6\",\n                          display: \"flex\",\n                          alignItems: \"center\",\n                          gap: \"4px\"\n                        }}\n                      >\n                        {spell?.name || spellId} {spell && `(${spell.level})`}\n                        <button\n                          onClick={() => {\n                            const updated = (char.knownSpells || []).filter((_, i) => i !== index);\n                            setField(\"knownSpells\", updated);\n                          }}\n                          style={{\n                            background: \"none\",\n                            border: \"none\",\n                            color: \"#ef4444\",\n                            cursor: \"pointer\",\n                            padding: \"0\",\n                            fontSize: \"12px\"\n                          }}\n                        >\n                          ✕\n                        </button>\n                      </span>\n                    );\n                  })}\n                </div>\n                <button\n                  onClick={() => {\n                    const savedSpells = JSON.parse(localStorage.getItem('world-engine-saved-spells') || '[]');\n                    const maxLevel = calculateMaxSpellLevel(char.level || 1);\n                    const availableSpells = savedSpells.filter((spell: any) =>\n                      spell.level > 0 && spell.level <= maxLevel && !(char.knownSpells || []).includes(spell.name)\n                    );\n\n                    if (availableSpells.length === 0) {\n                      alert(`No saved spells available up to level ${maxLevel}! Create some spells in the Spell Generator first.`);\n                      return;\n                    }\n\n                    if ((char.knownSpells || []).length >= calculateMaxSpells(char.level || 1, char.stats.INT, char.stats.WIS)) {\n                      alert('Maximum spells reached! Increase level or ability scores for more.');\n                      return;\n                    }\n\n                    const randomSpell = availableSpells[Math.floor(Math.random() * availableSpells.length)];\n                    const updated = [...(char.knownSpells || []), randomSpell.name];\n                    setField(\"knownSpells\", updated);\n                  }}\n                  disabled={(char.knownSpells || []).length >= calculateMaxSpells(char.level || 1, char.stats.INT, char.stats.WIS)}\n                  style={{\n                    padding: \"6px 12px\",\n                    background: (char.knownSpells || []).length >= calculateMaxSpells(char.level || 1, char.stats.INT, char.stats.WIS) ? \"#374151\" : \"#3b82f6\",\n                    color: \"#f9fafb\",\n                    border: \"none\",\n                    borderRadius: \"4px\",\n                    cursor: (char.knownSpells || []).length >= calculateMaxSpells(char.level || 1, char.stats.INT, char.stats.WIS) ? \"not-allowed\" : \"pointer\",\n                    fontSize: \"12px\"\n                  }}\n                >\n                  + Add Random Spell (max level {calculateMaxSpellLevel(char.level || 1)})\n                </button>\n              </div>\n            )}\n\n            {calculateMaxSpells(char.level || 1, char.stats.INT, char.stats.WIS) === 0 && (\n              <div style={{ padding: \"12px\", background: \"rgba(156, 163, 175, 0.1)\", border: \"1px solid #6b7280\", borderRadius: \"8px\", textAlign: \"center\", color: \"#9ca3af\" }}>\n                No spells available at level {char.level || 1}. Reach level 2 to learn spells!\n              </div>\n            )}\n          </div>\n        )}\n\n        <div style={{ display: \"flex\", gap: 8 }}>\n          <button onClick={saveCharacter}>Save (JSON + local)</button>\n          <button onClick={saveToLibrary}>Save to Library</button>\n          <button onClick={loadLast}>Load Last</button>\n          <button onClick={resetAll}>Reset</button>\n        </div>\n\n        <div style={card}>\n          <h2 style={sectionTitle}>Premade Characters</h2>\n          <div style={{ display: \"grid\", gap: 8 }}>\n            {PREMADE_CHARACTERS.map((premade) => (\n              <div key={premade.name} style={{\n                border: \"1px solid #334155\",\n                borderRadius: 8,\n                padding: 12,\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\"\n              }}>\n                <div>\n                  <div><strong>{premade.name}</strong></div>\n                  <div style={{ fontSize: \"12px\", opacity: 0.8 }}>\n                    {premade.species} {premade.archetype} • {premade.traits.join(\", \")}\n                  </div>\n                </div>\n                <button\n                  onClick={() => loadPremade(premade)}\n                  style={{\n                    padding: \"6px 12px\",\n                    background: \"#059669\",\n                    color: \"#f9fafb\",\n                    border: \"none\",\n                    borderRadius: \"4px\",\n                    cursor: \"pointer\",\n                    fontSize: \"12px\"\n                  }}\n                >\n                  Load\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* RIGHT: live preview */}\n      <div style={card}>\n        <h2 style={{ marginTop: 0 }}>Preview</h2>\n        {(() => {\n          console.log('🧪 CharacterCreate: Preview section - checking character data:', {\n            hasName: !!char.name,\n            hasSpecies: !!char.species,\n            hasArchetype: !!char.archetype,\n            name: char.name,\n            species: char.species,\n            archetype: char.archetype,\n            level: char.level\n          });\n\n          if (char.name && char.species && char.archetype) {\n            console.log('✅ CharacterCreate: Rendering PortraitPreview with full character data');\n            return (\n              <div style={{ width: \"100%\", borderRadius: 12, marginBottom: 8 }}>\n                <PortraitPreview\n                  character={VisualUtils.createCharacterData({\n                    name: char.name,\n                    species: char.species,\n                    archetype: char.archetype,\n                    level: char.level || 1\n                  })}\n                  options={{ size: \"large\", format: \"svg\" }}\n                />\n              </div>\n            );\n          } else {\n            console.log('⏸️ CharacterCreate: NOT rendering PortraitPreview - missing data');\n            return (\n              <div style={{ border: \"1px dashed #334155\", borderRadius: 12, padding: 12, textAlign: \"center\", marginBottom: 8, opacity: 0.7 }}>\n                Add a name, species, and class to see portrait\n              </div>\n            );\n          }\n        })()}\n\n        <div><strong>{char.name || \"Unnamed Adventurer\"}</strong></div>\n        <div style={{ opacity: 0.8, marginBottom: 8 }}>\n          {[char.gender, char.species, char.archetype].filter(Boolean).join(\" • \")}\n        </div>\n\n        <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(3, 1fr)\", gap: 6, marginBottom: 8 }}>\n          {(Object.keys(char.stats) as Stats[]).map((k) => {\n            const finalStat = getFinalStat(char.stats[k], k, char.species, char.archetype);\n            return (\n              <div key={k} style={{ background: \"#0f172a\", border: \"1px solid #334155\", borderRadius: 8, padding: 8, textAlign: \"center\" }}>\n                <div style={{ fontSize: 12, opacity: 0.8 }}>{k}</div>\n                <div style={{ fontSize: 20 }}>{finalStat}</div>\n                <div style={{ fontSize: 12, opacity: 0.8 }}>({abilityMod(finalStat) >= 0 ? \"+\" : \"\"}{abilityMod(finalStat)})</div>\n              </div>\n            );\n          })}\n        </div>\n\n        <div style={{ marginBottom: 8 }}>\n          <div>HP: <strong>{derived.hp}</strong> • AC: <strong>{derived.ac}</strong> • Carry: <strong>{derived.carry}</strong></div>\n          {derived.naturalACBonus > 0 && (\n            <div style={{ fontSize: 12, opacity: 0.7, marginTop: 2 }}>\n              Natural AC Bonus: +{derived.naturalACBonus} (from level/class/race)\n            </div>\n          )}\n          {(derived.classHPBonus > 0 || derived.raceHPBonus !== 0 || derived.traitHPBonus !== 0) && (\n            <div style={{ fontSize: 12, opacity: 0.7, marginTop: 2 }}>\n              HP per level: {derived.totalHPPerLevel} = {abilityMod(getFinalStat(char.stats.CON, \"CON\", char.species, char.archetype))} (CON)\n              {derived.classHPBonus > 0 && ` + ${derived.classHPBonus} (${char.archetype})`}\n              {derived.raceHPBonus !== 0 && ` ${derived.raceHPBonus >= 0 ? '+' : ''}${derived.raceHPBonus} (${char.species})`}\n              {derived.traitHPBonus !== 0 && ` ${derived.traitHPBonus >= 0 ? '+' : ''}${derived.traitHPBonus} (traits)`}\n            </div>\n          )}\n          {char.traits.length > 0 && (\n            <div style={{ marginTop: 6 }}>Traits: {char.traits.join(\", \")}</div>\n          )}\n        </div>\n\n        {char.background && (\n          <>\n            <h3 style={sectionTitle}>Background</h3>\n            <p style={{ whiteSpace: \"pre-wrap\", lineHeight: 1.35 }}>{char.background}</p>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction TextRow(props: { label: string; value: string; onChange: (v: string) => void; placeholder?: string }) {\n  const { label, value, onChange, placeholder } = props;\n  return (\n    <label style={{ display: \"grid\", gap: 4 }}>\n      <span>{label}</span>\n      <input\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        placeholder={placeholder}\n        style={{ padding: 8, borderRadius: 8, border: \"1px solid #334155\", background: \"#0f172a\", color: \"#e5e7eb\" }}\n      />\n    </label>\n  );\n}\n\nfunction TextAreaRow(props: { label: string; value: string; onChange: (v: string) => void; placeholder?: string }) {\n  const { label, value, onChange, placeholder } = props;\n  return (\n    <label style={{ display: \"grid\", gap: 4 }}>\n      <span>{label}</span>\n      <textarea\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        placeholder={placeholder}\n        rows={4}\n        style={{ padding: 8, borderRadius: 8, border: \"1px solid #334155\", background: \"#0f172a\", color: \"#e5e7eb\", resize: \"vertical\" }}\n      />\n    </label>\n  );\n}\n\nfunction SelectRow(props: { label: string; value: string; onChange: (v: string) => void; options: string[] }) {\n  const { label, value, onChange, options } = props;\n  return (\n    <label style={{ display: \"grid\", gap: 4 }}>\n      <span>{label}</span>\n      <select\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        style={{\n          padding: 8,\n          borderRadius: 8,\n          border: \"1px solid #334155\",\n          background: \"#0f172a\",\n          color: \"#e5e7eb\",\n          cursor: \"pointer\"\n        }}\n      >\n        <option value=\"\">Select {label}...</option>\n        {options.map((option) => (\n          <option key={option} value={option}>{option}</option>\n        ))}\n      </select>\n    </label>\n  );\n}","import React, { useState } from 'react';\n\ninterface NameGeneratorProps {\n  onBack?: () => void;\n}\n\n// Name components for different categories\nconst NAME_DATA = {\n  human: {\n    male: {\n      first: [\"Aiden\", \"Aldric\", \"Arthur\", \"Bjorn\", \"Caius\", \"Damien\", \"Edmund\", \"Gareth\", \"Hector\", \"Ivan\", \"Jasper\", \"Kai\", \"Leander\", \"Marcus\", \"Nolan\", \"Owen\", \"Pierce\", \"Quinn\", \"Rowan\", \"Soren\", \"Thane\", \"Ulric\", \"Victor\", \"Willem\", \"Xavier\", \"Yorick\", \"Zander\"],\n      last: [\"Blackwood\", \"Brightblade\", \"Stormwind\", \"Ironforge\", \"Goldleaf\", \"Silverstone\", \"Ravencrest\", \"Drakemoor\", \"Thornfield\", \"Ashworth\", \"Redmane\", \"Whitehall\", \"Greycastle\", \"Bluestone\", \"Greenwood\"]\n    },\n    female: {\n      first: [\"Aria\", \"Brenna\", \"Celeste\", \"Diana\", \"Elena\", \"Freya\", \"Gwen\", \"Helena\", \"Iris\", \"Jade\", \"Kira\", \"Luna\", \"Mira\", \"Nora\", \"Olivia\", \"Petra\", \"Quinn\", \"Raven\", \"Sera\", \"Tara\", \"Una\", \"Vera\", \"Willa\", \"Xara\", \"Yara\", \"Zara\"],\n      last: [\"Blackwood\", \"Brightblade\", \"Stormwind\", \"Ironforge\", \"Goldleaf\", \"Silverstone\", \"Ravencrest\", \"Drakemoor\", \"Thornfield\", \"Ashworth\", \"Redmane\", \"Whitehall\", \"Greycastle\", \"Bluestone\", \"Greenwood\"]\n    }\n  },\n  elf: {\n    male: {\n      first: [\"Aelindra\", \"Beiro\", \"Celeborn\", \"Daeron\", \"Elrond\", \"Faelar\", \"Galinndan\", \"Halimath\", \"Ivellios\", \"Jaelynn\", \"Kelvhan\", \"Lamlis\", \"Mindartis\", \"Naal\", \"Otaehryn\", \"Peren\", \"Quarion\", \"Riardon\", \"Silvyr\", \"Thamior\", \"Uldreyin\", \"Vanuath\", \"Wranvyre\", \"Xalvador\", \"Yeshelne\", \"Zoltan\"],\n      last: [\"Amakir\", \"Amakir\", \"Bereris\", \"Cithreth\", \"Enna\", \"Galinndan\", \"Hadarai\", \"Immeral\", \"Ivellios\", \"Korfel\", \"Lamlis\", \"Mindartis\", \"Naal\", \"Nutae\", \"Paelinn\", \"Peren\", \"Riardon\", \"Rolen\", \"Silvyr\", \"Suhnaal\", \"Thamior\", \"Theriatis\", \"Theriapis\", \"Thervan\", \"Uthemar\", \"Vanuath\", \"Varis\"]\n    },\n    female: {\n      first: [\"Adrie\", \"Birel\", \"Caelynn\", \"Dara\", \"Enna\", \"Galinndan\", \"Hadarai\", \"Immeral\", \"Ivellios\", \"Jannalor\", \"Korfel\", \"Lamlis\", \"Mialee\", \"Nutae\", \"Quelenna\", \"Sariel\", \"Shanairra\", \"Shava\", \"Silaqui\", \"Suhnaal\", \"Thamior\", \"Theriatis\", \"Theriapis\", \"Thervan\", \"Uthemar\", \"Vanuath\", \"Varis\"],\n      last: [\"Amakir\", \"Bereris\", \"Cithreth\", \"Enna\", \"Galinndan\", \"Hadarai\", \"Immeral\", \"Ivellios\", \"Korfel\", \"Lamlis\", \"Mindartis\", \"Naal\", \"Nutae\", \"Paelinn\", \"Peren\", \"Riardon\", \"Rolen\", \"Silvyr\", \"Suhnaal\", \"Thamior\", \"Theriatis\", \"Theriapis\", \"Thervan\", \"Uthemar\", \"Vanuath\", \"Varis\"]\n    }\n  },\n  dwarf: {\n    male: {\n      first: [\"Adrik\", \"Baern\", \"Darrak\", \"Eberk\", \"Fargrim\", \"Gardain\", \"Harbek\", \"Kildrak\", \"Morgran\", \"Orsik\", \"Rangrim\", \"Taklinn\", \"Thorek\", \"Ulfgar\", \"Vondal\", \"Balin\", \"Dain\", \"Dwalin\", \"Gloin\", \"Groin\", \"Nain\", \"Ori\", \"Oin\", \"Bifur\", \"Bofur\", \"Bombur\", \"Dori\"],\n      last: [\"Battlehammer\", \"Brawnanvil\", \"Dankil\", \"Fireforge\", \"Frostbeard\", \"Gorunn\", \"Holderhek\", \"Ironfist\", \"Loderr\", \"Lutgehr\", \"Rumnaheim\", \"Strakeln\", \"Torunn\", \"Ungart\", \"Axebreaker\", \"Battlehammer\", \"Brawnanvil\", \"Dankil\", \"Fireforge\", \"Frostbeard\", \"Gorunn\", \"Holderhek\", \"Ironfist\", \"Loderr\", \"Lutgehr\", \"Rumnaheim\"]\n    },\n    female: {\n      first: [\"Amber\", \"Bardryn\", \"Diesa\", \"Eldeth\", \"Gunnloda\", \"Guthkea\", \"Katernin\", \"Liftrasa\", \"Mardred\", \"Riswynn\", \"Sannl\", \"Torbera\", \"Torgga\", \"Vistra\", \"Kathra\", \"Kristryd\", \"Ilde\", \"Liftrasa\", \"Mardred\", \"Riswynn\", \"Sannl\", \"Torbera\", \"Torgga\", \"Vistra\", \"Welby\", \"Darrak\", \"Eberk\"],\n      last: [\"Battlehammer\", \"Brawnanvil\", \"Dankil\", \"Fireforge\", \"Frostbeard\", \"Gorunn\", \"Holderhek\", \"Ironfist\", \"Loderr\", \"Lutgehr\", \"Rumnaheim\", \"Strakeln\", \"Torunn\", \"Ungart\", \"Axebreaker\", \"Battlehammer\", \"Brawnanvil\", \"Dankil\", \"Fireforge\", \"Frostbeard\", \"Gorunn\", \"Holderhek\", \"Ironfist\", \"Loderr\", \"Lutgehr\", \"Rumnaheim\"]\n    }\n  },\n  orc: {\n    male: {\n      first: [\"Grokk\", \"Thokk\", \"Uruk\", \"Grash\", \"Mokk\", \"Drakk\", \"Snagg\", \"Gruul\", \"Krusk\", \"Thrag\", \"Vrokk\", \"Ghash\", \"Brokk\", \"Skarr\", \"Gorthak\", \"Mordak\", \"Ughak\", \"Grommash\", \"Thrall\", \"Garrosh\", \"Durotan\", \"Orgrim\", \"Blackhand\", \"Kilrogg\", \"Kargath\", \"Dentarg\", \"Hurkan\"],\n      last: [\"Skullsplitter\", \"Bloodfang\", \"Ironjaw\", \"Bonecrusher\", \"Flameaxe\", \"Stormrage\", \"Shadowmoon\", \"Frostwolf\", \"Blackrock\", \"Bleeding Hollow\", \"Burning Blade\", \"Dragonmaw\", \"Laughing Skull\", \"Shattered Hand\", \"Twilight's Hammer\", \"Warsong\", \"Thunderlord\", \"Red Walker\", \"Whiteclaw\", \"Redstone\", \"Broken Bone\", \"Burning Eye\", \"Dark Spear\", \"Death's Head\", \"Frozen Rock\", \"Lightning's Blade\", \"Poisoned Spear\"]\n    },\n    female: {\n      first: [\"Baggi\", \"Emen\", \"Engong\", \"Kansif\", \"Myev\", \"Neega\", \"Ovak\", \"Ownka\", \"Shautha\", \"Sutha\", \"Vola\", \"Volen\", \"Yevelda\", \"Grenda\", \"Mokka\", \"Urzul\", \"Shra\", \"Grakia\", \"Vrokka\", \"Thokka\", \"Greshka\", \"Mordka\", \"Ughka\", \"Snaggka\", \"Kruska\", \"Thraka\", \"Vroska\"],\n      last: [\"Skullsplitter\", \"Bloodfang\", \"Ironjaw\", \"Bonecrusher\", \"Flameaxe\", \"Stormrage\", \"Shadowmoon\", \"Frostwolf\", \"Blackrock\", \"Bleeding Hollow\", \"Burning Blade\", \"Dragonmaw\", \"Laughing Skull\", \"Shattered Hand\", \"Twilight's Hammer\", \"Warsong\", \"Thunderlord\", \"Red Walker\", \"Whiteclaw\", \"Redstone\", \"Broken Bone\", \"Burning Eye\", \"Dark Spear\", \"Death's Head\", \"Frozen Rock\", \"Lightning's Blade\", \"Poisoned Spear\"]\n    }\n  },\n  places: {\n    cities: [\"Ravenspire\", \"Goldenhaven\", \"Ironhold\", \"Crystallake\", \"Thornwall\", \"Silverbrook\", \"Dragonrest\", \"Shadowmere\", \"Brightwater\", \"Stormhaven\", \"Millbrook\", \"Oakenford\", \"Rosewood\", \"Blackwater\", \"Whitestone\", \"Redmoor\", \"Greenvale\", \"Bluehaven\", \"Yellowhill\", \"Purplemist\"],\n    towns: [\"Millhaven\", \"Brookshire\", \"Oakheart\", \"Pinewood\", \"Willowdale\", \"Maplegrove\", \"Birchwood\", \"Elmhurst\", \"Cedarfall\", \"Ashwood\", \"Hickory Hill\", \"Walnut Creek\", \"Cherry Blossom\", \"Apple Orchard\", \"Pear Valley\", \"Plum Grove\", \"Peach Hollow\", \"Berry Fields\", \"Vine Ridge\", \"Flower Meadow\"],\n    taverns: [\"The Prancing Pony\", \"The Drunken Dragon\", \"The Golden Griffin\", \"The Silver Stag\", \"The Red Rose\", \"The Blue Moon\", \"The Green Goblin\", \"The Purple Parrot\", \"The Black Swan\", \"The White Wolf\", \"The Rusty Anchor\", \"The Broken Wheel\", \"The Laughing Dwarf\", \"The Singing Bard\", \"The Dancing Bear\", \"The Sleeping Giant\", \"The Weeping Willow\", \"The Howling Wolf\", \"The Roaring Lion\", \"The Soaring Eagle\"]\n  }\n};\n\nconst FANTASY_SYLLABLES = {\n  start: [\"Ae\", \"Al\", \"Am\", \"An\", \"Ar\", \"Ba\", \"Bel\", \"Ber\", \"Bra\", \"Cal\", \"Cel\", \"Cor\", \"Da\", \"Del\", \"Dra\", \"El\", \"Er\", \"Fae\", \"Gal\", \"Gil\", \"Hal\", \"Ith\", \"Kor\", \"Lae\", \"Lor\", \"Mel\", \"Mor\", \"Nal\", \"Nor\", \"Quin\", \"Ral\", \"Sil\", \"Tal\", \"Thal\", \"Val\", \"Vel\", \"Xan\", \"Yor\", \"Zel\"],\n  middle: [\"an\", \"ar\", \"as\", \"en\", \"er\", \"eth\", \"ia\", \"iel\", \"in\", \"ion\", \"is\", \"ith\", \"las\", \"len\", \"lin\", \"lon\", \"los\", \"neth\", \"oth\", \"ran\", \"ren\", \"rin\", \"ron\", \"ros\", \"san\", \"sen\", \"sin\", \"son\", \"sus\", \"tan\", \"ten\", \"tin\", \"ton\", \"tus\", \"van\", \"ven\", \"vin\", \"von\", \"vus\"],\n  end: [\"ael\", \"aer\", \"ah\", \"al\", \"an\", \"ar\", \"ath\", \"el\", \"en\", \"er\", \"eth\", \"ia\", \"ial\", \"ian\", \"iel\", \"ien\", \"ier\", \"ies\", \"in\", \"ion\", \"is\", \"ith\", \"las\", \"len\", \"lin\", \"lon\", \"los\", \"neth\", \"oth\", \"ran\", \"ren\", \"rin\", \"ron\", \"ros\", \"us\", \"yn\", \"yr\", \"ys\"]\n};\n\nexport default function NameGenerator({ onBack }: NameGeneratorProps) {\n  const [category, setCategory] = useState<string>('human');\n  const [gender, setGender] = useState<string>('male');\n  const [nameType, setNameType] = useState<string>('character');\n  const [generatedNames, setGeneratedNames] = useState<string[]>([]);\n  const [savedNames, setSavedNames] = useState<string[]>([]);\n\n  const getRandomElement = <T,>(array: T[]): T => {\n    return array[Math.floor(Math.random() * array.length)];\n  };\n\n  const generateCharacterName = () => {\n    const data = NAME_DATA[category as keyof typeof NAME_DATA];\n    if (data && typeof data === 'object' && 'male' in data) {\n      const genderData = data[gender as keyof typeof data];\n      if (genderData && typeof genderData === 'object' && 'first' in genderData) {\n        const firstName = getRandomElement(genderData.first);\n        const lastName = getRandomElement(genderData.last);\n        return `${firstName} ${lastName}`;\n      }\n    }\n    return \"Unknown Name\";\n  };\n\n  const generatePlaceName = () => {\n    const places = NAME_DATA.places[category as keyof typeof NAME_DATA.places];\n    return getRandomElement(places);\n  };\n\n  const generateFantasyName = () => {\n    const syllableCount = Math.random() < 0.3 ? 2 : 3; // 30% chance for 2 syllables, 70% for 3\n    let name = \"\";\n    \n    // Start syllable\n    name += getRandomElement(FANTASY_SYLLABLES.start);\n    \n    // Middle syllables\n    for (let i = 1; i < syllableCount - 1; i++) {\n      name += getRandomElement(FANTASY_SYLLABLES.middle);\n    }\n    \n    // End syllable (if more than 1 syllable)\n    if (syllableCount > 1) {\n      name += getRandomElement(FANTASY_SYLLABLES.end);\n    }\n    \n    return name;\n  };\n\n  const generateNames = (count: number = 10) => {\n    const names: string[] = [];\n    \n    for (let i = 0; i < count; i++) {\n      let name: string;\n      \n      if (nameType === 'character') {\n        name = generateCharacterName();\n      } else if (nameType === 'place') {\n        name = generatePlaceName();\n      } else {\n        name = generateFantasyName();\n      }\n      \n      // Avoid duplicates\n      if (!names.includes(name)) {\n        names.push(name);\n      } else {\n        i--; // Try again\n      }\n    }\n    \n    setGeneratedNames(names);\n  };\n\n  const saveName = (name: string) => {\n    if (!savedNames.includes(name)) {\n      const updated = [...savedNames, name];\n      setSavedNames(updated);\n      localStorage.setItem('world-engine-saved-names', JSON.stringify(updated));\n    }\n  };\n\n  const removeSavedName = (name: string) => {\n    const updated = savedNames.filter(n => n !== name);\n    setSavedNames(updated);\n    localStorage.setItem('world-engine-saved-names', JSON.stringify(updated));\n  };\n\n  const exportSavedNames = () => {\n    const dataStr = JSON.stringify(savedNames, null, 2);\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `world-engine-names-${new Date().toISOString().split('T')[0]}.json`;\n    link.click();\n    URL.revokeObjectURL(url);\n  };\n\n  // Load saved names on component mount\n  React.useEffect(() => {\n    try {\n      const saved = JSON.parse(localStorage.getItem('world-engine-saved-names') || '[]');\n      setSavedNames(saved);\n    } catch (error) {\n      console.error('Error loading saved names:', error);\n    }\n  }, []);\n\n  return (\n    <div style={{\n      minHeight: \"100vh\",\n      background: \"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)\",\n      color: \"#e2e8f0\"\n    }}>\n      {/* Header */}\n      <div style={{\n        padding: \"1.5rem 2rem\",\n        borderBottom: \"1px solid #334155\",\n        background: \"rgba(15, 23, 42, 0.8)\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n      }}>\n        <div>\n          <h1 style={{ margin: 0, fontSize: \"2.5rem\", fontWeight: \"bold\" }}>Name Generator</h1>\n          <p style={{ margin: \"0.5rem 0 0\", opacity: 0.8 }}>\n            Generate fantasy names for characters and places\n          </p>\n        </div>\n        {onBack && (\n          <button\n            onClick={onBack}\n            style={{\n              padding: \"0.75rem 1.5rem\",\n              background: \"#374151\",\n              color: \"#f9fafb\",\n              border: \"none\",\n              borderRadius: \"6px\",\n              cursor: \"pointer\",\n              fontSize: \"1rem\"\n            }}\n          >\n            Back to Menu\n          </button>\n        )}\n      </div>\n\n      <div style={{ display: \"flex\", height: \"calc(100vh - 120px)\" }}>\n        {/* Left Panel - Controls */}\n        <div style={{\n          flex: 1,\n          padding: \"2rem\",\n          borderRight: \"1px solid #334155\",\n          overflowY: \"auto\"\n        }}>\n          <div style={{ marginBottom: \"2rem\" }}>\n            <h3 style={{ marginBottom: \"1rem\", color: \"#f1f5f9\" }}>Name Type</h3>\n            <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"0.5rem\" }}>\n              {[\"character\", \"place\", \"fantasy\"].map(type => (\n                <label key={type} style={{ display: \"flex\", alignItems: \"center\", gap: \"0.5rem\", cursor: \"pointer\" }}>\n                  <input\n                    type=\"radio\"\n                    name=\"nameType\"\n                    value={type}\n                    checked={nameType === type}\n                    onChange={(e) => setNameType(e.target.value)}\n                    style={{ accentColor: \"#3b82f6\" }}\n                  />\n                  <span style={{ textTransform: \"capitalize\" }}>{type} Names</span>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          {nameType === 'character' && (\n            <>\n              <div style={{ marginBottom: \"2rem\" }}>\n                <h3 style={{ marginBottom: \"1rem\", color: \"#f1f5f9\" }}>Race</h3>\n                <select\n                  value={category}\n                  onChange={(e) => setCategory(e.target.value)}\n                  style={{\n                    width: \"100%\",\n                    padding: \"0.75rem\",\n                    background: \"#1e293b\",\n                    border: \"1px solid #334155\",\n                    borderRadius: \"4px\",\n                    color: \"#e2e8f0\",\n                    fontSize: \"1rem\"\n                  }}\n                >\n                  <option value=\"human\">Human</option>\n                  <option value=\"elf\">Elf</option>\n                  <option value=\"dwarf\">Dwarf</option>\n                  <option value=\"orc\">Orc</option>\n                </select>\n              </div>\n\n              <div style={{ marginBottom: \"2rem\" }}>\n                <h3 style={{ marginBottom: \"1rem\", color: \"#f1f5f9\" }}>Gender</h3>\n                <div style={{ display: \"flex\", gap: \"1rem\" }}>\n                  <label style={{ display: \"flex\", alignItems: \"center\", gap: \"0.5rem\", cursor: \"pointer\" }}>\n                    <input\n                      type=\"radio\"\n                      name=\"gender\"\n                      value=\"male\"\n                      checked={gender === 'male'}\n                      onChange={(e) => setGender(e.target.value)}\n                      style={{ accentColor: \"#3b82f6\" }}\n                    />\n                    Male\n                  </label>\n                  <label style={{ display: \"flex\", alignItems: \"center\", gap: \"0.5rem\", cursor: \"pointer\" }}>\n                    <input\n                      type=\"radio\"\n                      name=\"gender\"\n                      value=\"female\"\n                      checked={gender === 'female'}\n                      onChange={(e) => setGender(e.target.value)}\n                      style={{ accentColor: \"#3b82f6\" }}\n                    />\n                    Female\n                  </label>\n                </div>\n              </div>\n            </>\n          )}\n\n          {nameType === 'place' && (\n            <div style={{ marginBottom: \"2rem\" }}>\n              <h3 style={{ marginBottom: \"1rem\", color: \"#f1f5f9\" }}>Place Type</h3>\n              <select\n                value={category}\n                onChange={(e) => setCategory(e.target.value)}\n                style={{\n                  width: \"100%\",\n                  padding: \"0.75rem\",\n                  background: \"#1e293b\",\n                  border: \"1px solid #334155\",\n                  borderRadius: \"4px\",\n                  color: \"#e2e8f0\",\n                  fontSize: \"1rem\"\n                }}\n              >\n                <option value=\"cities\">Cities</option>\n                <option value=\"towns\">Towns</option>\n                <option value=\"taverns\">Taverns</option>\n              </select>\n            </div>\n          )}\n\n          <button\n            onClick={() => generateNames(10)}\n            style={{\n              width: \"100%\",\n              padding: \"1rem\",\n              background: \"#3b82f6\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"6px\",\n              fontSize: \"1.1rem\",\n              fontWeight: \"bold\",\n              cursor: \"pointer\",\n              marginBottom: \"1rem\"\n            }}\n          >\n            Generate Names\n          </button>\n\n          <button\n            onClick={() => generateNames(25)}\n            style={{\n              width: \"100%\",\n              padding: \"0.75rem\",\n              background: \"#059669\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"6px\",\n              fontSize: \"1rem\",\n              cursor: \"pointer\"\n            }}\n          >\n            Generate More (25)\n          </button>\n        </div>\n\n        {/* Center Panel - Generated Names */}\n        <div style={{\n          flex: 2,\n          padding: \"2rem\",\n          borderRight: \"1px solid #334155\"\n        }}>\n          <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: \"1.5rem\" }}>\n            <h3 style={{ margin: 0, color: \"#f1f5f9\" }}>Generated Names</h3>\n            {generatedNames.length > 0 && (\n              <span style={{ color: \"#94a3b8\", fontSize: \"0.9rem\" }}>\n                {generatedNames.length} names\n              </span>\n            )}\n          </div>\n\n          {generatedNames.length === 0 ? (\n            <div style={{\n              textAlign: \"center\",\n              padding: \"3rem\",\n              color: \"#64748b\",\n              fontStyle: \"italic\"\n            }}>\n              Click \"Generate Names\" to get started!\n            </div>\n          ) : (\n            <div style={{\n              display: \"grid\",\n              gridTemplateColumns: \"repeat(auto-fill, minmax(200px, 1fr))\",\n              gap: \"1rem\",\n              maxHeight: \"calc(100vh - 250px)\",\n              overflowY: \"auto\"\n            }}>\n              {generatedNames.map((name, index) => (\n                <div key={index} style={{\n                  padding: \"1rem\",\n                  background: \"rgba(15, 23, 42, 0.5)\",\n                  border: \"1px solid #334155\",\n                  borderRadius: \"8px\",\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"center\"\n                }}>\n                  <span style={{ fontWeight: \"500\" }}>{name}</span>\n                  <button\n                    onClick={() => saveName(name)}\n                    disabled={savedNames.includes(name)}\n                    style={{\n                      padding: \"0.25rem 0.5rem\",\n                      background: savedNames.includes(name) ? \"#374151\" : \"#059669\",\n                      color: \"white\",\n                      border: \"none\",\n                      borderRadius: \"4px\",\n                      fontSize: \"0.8rem\",\n                      cursor: savedNames.includes(name) ? \"not-allowed\" : \"pointer\"\n                    }}\n                  >\n                    {savedNames.includes(name) ? \"Saved\" : \"Save\"}\n                  </button>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Right Panel - Saved Names */}\n        <div style={{\n          flex: 1,\n          padding: \"2rem\"\n        }}>\n          <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: \"1.5rem\" }}>\n            <h3 style={{ margin: 0, color: \"#f1f5f9\" }}>Saved Names</h3>\n            {savedNames.length > 0 && (\n              <button\n                onClick={exportSavedNames}\n                style={{\n                  padding: \"0.5rem\",\n                  background: \"#374151\",\n                  color: \"white\",\n                  border: \"none\",\n                  borderRadius: \"4px\",\n                  fontSize: \"0.8rem\",\n                  cursor: \"pointer\"\n                }}\n              >\n                Export\n              </button>\n            )}\n          </div>\n\n          {savedNames.length === 0 ? (\n            <div style={{\n              textAlign: \"center\",\n              padding: \"2rem\",\n              color: \"#64748b\",\n              fontStyle: \"italic\"\n            }}>\n              Save names you like here!\n            </div>\n          ) : (\n            <div style={{\n              maxHeight: \"calc(100vh - 250px)\",\n              overflowY: \"auto\"\n            }}>\n              {savedNames.map((name, index) => (\n                <div key={index} style={{\n                  padding: \"0.75rem\",\n                  background: \"rgba(15, 23, 42, 0.3)\",\n                  border: \"1px solid #334155\",\n                  borderRadius: \"6px\",\n                  marginBottom: \"0.5rem\",\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"center\"\n                }}>\n                  <span>{name}</span>\n                  <button\n                    onClick={() => removeSavedName(name)}\n                    style={{\n                      padding: \"0.25rem 0.5rem\",\n                      background: \"#ef4444\",\n                      color: \"white\",\n                      border: \"none\",\n                      borderRadius: \"4px\",\n                      fontSize: \"0.7rem\",\n                      cursor: \"pointer\"\n                    }}\n                  >\n                    ×\n                  </button>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}","import React from 'react';\n\ninterface GeneratedSpell {\n  name: string;\n  level: number;\n  school: string;\n  castingTime: string;\n  range: string;\n  components: string[];\n  duration: string;\n  description: string;\n  color: string;\n}\n\n// Curated premade spells for each school\nexport const PREMADE_SPELLS: { [school: string]: GeneratedSpell[] } = {\n  abjuration: [\n    // Cantrips\n    {\n      name: \"Ward\",\n      level: 0,\n      school: \"Abjuration\",\n      castingTime: \"1 action\",\n      range: \"Touch\",\n      components: [\"V (protective word)\", \"S (warding gesture)\"],\n      duration: \"1 round\",\n      description: \"Creates a shimmering barrier that provides +1 AC against the next attack.\",\n      color: \"#3b82f6\"\n    },\n    {\n      name: \"Resist\",\n      level: 0,\n      school: \"Abjuration\",\n      castingTime: \"1 reaction\",\n      range: \"Self\",\n      components: [\"V (quick incantation)\"],\n      duration: \"Instantaneous\",\n      description: \"Reduces incoming damage by 1d4 points when cast as a reaction.\",\n      color: \"#3b82f6\"\n    },\n    // Level 1\n    {\n      name: \"Shield of Faith\",\n      level: 1,\n      school: \"Abjuration\",\n      castingTime: \"1 action\",\n      range: \"60 feet\",\n      components: [\"V (prayer)\", \"S (blessing gesture)\", \"M (holy symbol)\"],\n      duration: \"5 rounds\",\n      description: \"Surrounds target with divine energy, granting +2 AC and resistance to the next spell.\",\n      color: \"#3b82f6\"\n    },\n    {\n      name: \"Dispel Minor Magic\",\n      level: 1,\n      school: \"Abjuration\",\n      castingTime: \"1 action\",\n      range: \"60 feet\",\n      components: [\"V (dispelling word)\", \"S (dismissive gesture)\"],\n      duration: \"Instantaneous\",\n      description: \"Ends one cantrip or 1st level spell effect on target creature or object.\",\n      color: \"#3b82f6\"\n    },\n    // Level 2\n    {\n      name: \"Arcane Lock\",\n      level: 2,\n      school: \"Abjuration\",\n      castingTime: \"2 actions\",\n      range: \"Touch\",\n      components: [\"V (locking incantation)\", \"S (sealing motions)\", \"M (silver key worth 25 gp)\"],\n      duration: \"Until dispelled\",\n      description: \"Magically locks a door, chest, or portal. Only the caster or dispel magic can open it.\",\n      color: \"#3b82f6\"\n    },\n    // Level 3\n    {\n      name: \"Greater Ward\",\n      level: 3,\n      school: \"Abjuration\",\n      castingTime: \"1 action\",\n      range: \"30 feet\",\n      components: [\"V (protective chant)\", \"S (complex warding)\", \"M (crystal focus)\"],\n      duration: \"10 rounds\",\n      description: \"Creates a 15-foot radius protective dome. Allies inside gain damage resistance and spell immunity.\",\n      color: \"#3b82f6\"\n    }\n  ],\n\n  conjuration: [\n    // Cantrips\n    {\n      name: \"Summon Spark\",\n      level: 0,\n      school: \"Conjuration\",\n      castingTime: \"1 action\",\n      range: \"60 feet\",\n      components: [\"V (summoning word)\", \"S (beckoning gesture)\"],\n      duration: \"1 round\",\n      description: \"Creates a tiny mote of light that can illuminate or distract. Deals 1d4 radiant damage.\",\n      color: \"#10b981\"\n    },\n    // Level 1\n    {\n      name: \"Conjure Weapon\",\n      level: 1,\n      school: \"Conjuration\",\n      castingTime: \"1 action\",\n      range: \"Self\",\n      components: [\"V (weapon's name)\", \"S (grasping motion)\"],\n      duration: \"5 rounds\",\n      description: \"Creates a simple melee weapon in your hand. Weapon deals 1d6 + spell modifier damage.\",\n      color: \"#10b981\"\n    },\n    {\n      name: \"Faithful Hound\",\n      level: 1,\n      school: \"Conjuration\",\n      castingTime: \"2 actions\",\n      range: \"30 feet\",\n      components: [\"V (calling howl)\", \"S (summoning ritual)\", \"M (dog whistle)\"],\n      duration: \"10 rounds\",\n      description: \"Summons a spectral hound with 15 HP that follows your commands and alerts to enemies.\",\n      color: \"#10b981\"\n    },\n    // Level 2\n    {\n      name: \"Dimensional Door\",\n      level: 2,\n      school: \"Conjuration\",\n      castingTime: \"1 action\",\n      range: \"500 feet\",\n      components: [\"V (travel word)\", \"S (stepping motion)\"],\n      duration: \"Instantaneous\",\n      description: \"Instantly teleports you and one willing ally to a location you can see within range.\",\n      color: \"#10b981\"\n    }\n  ],\n\n  divination: [\n    // Cantrips\n    {\n      name: \"Detect\",\n      level: 0,\n      school: \"Divination\",\n      castingTime: \"1 action\",\n      range: \"30 feet\",\n      components: [\"V (inquiry)\", \"S (searching gesture)\"],\n      duration: \"3 rounds\",\n      description: \"Reveals the presence of magic, hidden objects, or creatures within range.\",\n      color: \"#f59e0b\"\n    },\n    // Level 1\n    {\n      name: \"True Sight\",\n      level: 1,\n      school: \"Divination\",\n      castingTime: \"1 action\",\n      range: \"Self\",\n      components: [\"V (seeing word)\", \"S (eye-opening gesture)\", \"M (crystal lens)\"],\n      duration: \"10 rounds\",\n      description: \"See through illusions, detect invisible creatures, and perceive the true form of shapeshifters.\",\n      color: \"#f59e0b\"\n    },\n    {\n      name: \"Locate Object\",\n      level: 1,\n      school: \"Divination\",\n      castingTime: \"2 actions\",\n      range: \"1 mile\",\n      components: [\"V (object's name)\", \"S (searching motions)\", \"M (lodestone)\"],\n      duration: \"10 rounds\",\n      description: \"Sense the direction and distance to a specific object you've seen before.\",\n      color: \"#f59e0b\"\n    }\n  ],\n\n  enchantment: [\n    // Cantrips\n    {\n      name: \"Charm\",\n      level: 0,\n      school: \"Enchantment\",\n      castingTime: \"1 action\",\n      range: \"30 feet\",\n      components: [\"V (persuasive words)\", \"S (friendly gesture)\"],\n      duration: \"3 rounds\",\n      description: \"Target views you as a friendly acquaintance. They won't attack you but aren't controlled.\",\n      color: \"#ec4899\"\n    },\n    // Level 1\n    {\n      name: \"Command\",\n      level: 1,\n      school: \"Enchantment\",\n      castingTime: \"1 action\",\n      range: \"60 feet\",\n      components: [\"V (single word command)\"],\n      duration: \"1 round\",\n      description: \"Target must obey a one-word command: Approach, Drop, Flee, Grovel, or Halt.\",\n      color: \"#ec4899\"\n    },\n    {\n      name: \"Sleep\",\n      level: 1,\n      school: \"Enchantment\",\n      castingTime: \"1 action\",\n      range: \"90 feet\",\n      components: [\"V (lullaby)\", \"S (soothing gesture)\", \"M (sand or rose petals)\"],\n      duration: \"5 rounds\",\n      description: \"Creatures in 20-foot radius fall unconscious. Affects 5d8 hit points worth of creatures.\",\n      color: \"#ec4899\"\n    }\n  ],\n\n  evocation: [\n    // Cantrips\n    {\n      name: \"Magic Missile\",\n      level: 0,\n      school: \"Evocation\",\n      castingTime: \"1 action\",\n      range: \"120 feet\",\n      components: [\"V (targeting word)\", \"S (pointing gesture)\"],\n      duration: \"Instantaneous\",\n      description: \"Creates 1 dart of pure force that automatically hits for 1d4+1 damage.\",\n      color: \"#ef4444\"\n    },\n    {\n      name: \"Spark\",\n      level: 0,\n      school: \"Evocation\",\n      castingTime: \"1 action\",\n      range: \"60 feet\",\n      components: [\"V (crackling word)\", \"S (snapping fingers)\"],\n      duration: \"Instantaneous\",\n      description: \"Target takes 1d6 lightning damage and must make a Constitution save or be stunned for 1 round.\",\n      color: \"#ef4444\"\n    },\n    // Level 1\n    {\n      name: \"Burning Hands\",\n      level: 1,\n      school: \"Evocation\",\n      castingTime: \"1 action\",\n      range: \"15-foot cone\",\n      components: [\"V (fiery incantation)\", \"S (spreading fingers)\"],\n      duration: \"Instantaneous\",\n      description: \"Flames shoot from your fingertips. Each creature in area takes 3d6 fire damage.\",\n      color: \"#ef4444\"\n    },\n    {\n      name: \"Lightning Bolt\",\n      level: 1,\n      school: \"Evocation\",\n      castingTime: \"1 action\",\n      range: \"100 feet\",\n      components: [\"V (thunder word)\", \"S (throwing motion)\", \"M (copper wire)\"],\n      duration: \"Instantaneous\",\n      description: \"A bolt of lightning shoots in a line. Creatures in path take 2d8 lightning damage.\",\n      color: \"#ef4444\"\n    }\n  ],\n\n  healing: [\n    // Cantrips\n    {\n      name: \"Mend Wounds\",\n      level: 0,\n      school: \"Healing\",\n      castingTime: \"1 action\",\n      range: \"Touch\",\n      components: [\"V (healing word)\", \"S (gentle touch)\"],\n      duration: \"Instantaneous\",\n      description: \"Restores 1d4 hit points to a living creature. Cannot heal the same target twice per combat.\",\n      color: \"#22c55e\"\n    },\n    {\n      name: \"Stabilize\",\n      level: 0,\n      school: \"Healing\",\n      castingTime: \"1 action\",\n      range: \"Touch\",\n      components: [\"V (life-binding word)\", \"S (steadying touch)\"],\n      duration: \"Instantaneous\",\n      description: \"A dying creature becomes stable and regains 1 hit point.\",\n      color: \"#22c55e\"\n    },\n    // Level 1\n    {\n      name: \"Cure Light Wounds\",\n      level: 1,\n      school: \"Healing\",\n      castingTime: \"1 action\",\n      range: \"Touch\",\n      components: [\"V (healing prayer)\", \"S (laying on hands)\"],\n      duration: \"Instantaneous\",\n      description: \"Restores 1d8 + spellcasting modifier hit points to target creature.\",\n      color: \"#22c55e\"\n    },\n    {\n      name: \"Healing Word\",\n      level: 1,\n      school: \"Healing\",\n      castingTime: \"1 bonus action\",\n      range: \"60 feet\",\n      components: [\"V (word of healing)\"],\n      duration: \"Instantaneous\",\n      description: \"Restores 1d4 + spellcasting modifier hit points. Can revive unconscious allies.\",\n      color: \"#22c55e\"\n    },\n    // Level 2\n    {\n      name: \"Prayer of Healing\",\n      level: 2,\n      school: \"Healing\",\n      castingTime: \"3 actions\",\n      range: \"30-foot radius\",\n      components: [\"V (group prayer)\", \"S (blessing gestures)\", \"M (holy symbol)\"],\n      duration: \"Instantaneous\",\n      description: \"Up to 6 creatures regain 2d8 + spellcasting modifier hit points each.\",\n      color: \"#22c55e\"\n    },\n    // Level 3\n    {\n      name: \"Greater Heal\",\n      level: 3,\n      school: \"Healing\",\n      castingTime: \"1 action\",\n      range: \"Touch\",\n      components: [\"V (major healing incantation)\", \"S (powerful laying on hands)\", \"M (diamond dust worth 100 gp)\"],\n      duration: \"Instantaneous\",\n      description: \"Restores 4d8 + spellcasting modifier hit points and removes one disease or poison.\",\n      color: \"#22c55e\"\n    }\n  ],\n\n  illusion: [\n    // Cantrips\n    {\n      name: \"Minor Illusion\",\n      level: 0,\n      school: \"Illusion\",\n      castingTime: \"1 action\",\n      range: \"30 feet\",\n      components: [\"S (image-forming gesture)\", \"M (bit of fleece)\"],\n      duration: \"5 rounds\",\n      description: \"Creates a sound or image no larger than a 5-foot cube. Can distract or deceive.\",\n      color: \"#8b5cf6\"\n    },\n    // Level 1\n    {\n      name: \"Disguise Self\",\n      level: 1,\n      school: \"Illusion\",\n      castingTime: \"1 action\",\n      range: \"Self\",\n      components: [\"V (transformation word)\", \"S (self-shaping gestures)\"],\n      duration: \"10 rounds\",\n      description: \"Change your appearance including clothing, armor, weapons, and other equipment.\",\n      color: \"#8b5cf6\"\n    },\n    {\n      name: \"Invisibility\",\n      level: 1,\n      school: \"Illusion\",\n      castingTime: \"1 action\",\n      range: \"Touch\",\n      components: [\"V (vanishing word)\", \"S (fading gesture)\", \"M (eyelash in gum arabic)\"],\n      duration: \"10 rounds\",\n      description: \"Target becomes invisible until they attack, cast a spell, or duration ends.\",\n      color: \"#8b5cf6\"\n    }\n  ],\n\n  necromancy: [\n    // Cantrips\n    {\n      name: \"Chill Touch\",\n      level: 0,\n      school: \"Necromancy\",\n      castingTime: \"1 action\",\n      range: \"120 feet\",\n      components: [\"V (death whisper)\", \"S (grasping motion)\"],\n      duration: \"1 round\",\n      description: \"Spectral hand deals 1d8 necrotic damage and prevents healing until your next turn.\",\n      color: \"#6b7280\"\n    },\n    // Level 1\n    {\n      name: \"Speak with Dead\",\n      level: 1,\n      school: \"Necromancy\",\n      castingTime: \"3 actions\",\n      range: \"10 feet\",\n      components: [\"V (death's language)\", \"S (beckoning gesture)\", \"M (burning incense)\"],\n      duration: \"5 rounds\",\n      description: \"Ask up to 5 questions of a corpse that died within the last week.\",\n      color: \"#6b7280\"\n    },\n    {\n      name: \"Vampiric Touch\",\n      level: 1,\n      school: \"Necromancy\",\n      castingTime: \"1 action\",\n      range: \"Touch\",\n      components: [\"V (draining word)\", \"S (life-stealing touch)\"],\n      duration: \"Instantaneous\",\n      description: \"Deal 2d6 necrotic damage and regain half as hit points.\",\n      color: \"#6b7280\"\n    }\n  ],\n\n  transmutation: [\n    // Cantrips\n    {\n      name: \"Mending\",\n      level: 0,\n      school: \"Transmutation\",\n      castingTime: \"1 action\",\n      range: \"Touch\",\n      components: [\"V (repair word)\", \"S (mending gesture)\", \"M (two lodestones)\"],\n      duration: \"Instantaneous\",\n      description: \"Repairs a single break or tear in an object no larger than 1 foot.\",\n      color: \"#06b6d4\"\n    },\n    // Level 1\n    {\n      name: \"Alter Self\",\n      level: 1,\n      school: \"Transmutation\",\n      castingTime: \"1 action\",\n      range: \"Self\",\n      components: [\"V (change word)\", \"S (self-altering gestures)\"],\n      duration: \"10 rounds\",\n      description: \"Change your physical form: grow claws (+1d4 damage), gills (breathe water), or camouflage (+5 stealth).\",\n      color: \"#06b6d4\"\n    },\n    {\n      name: \"Enhance Ability\",\n      level: 1,\n      school: \"Transmutation\",\n      castingTime: \"1 action\",\n      range: \"Touch\",\n      components: [\"V (empowering word)\", \"S (enhancing touch)\", \"M (hair or fur from a beast)\"],\n      duration: \"10 rounds\",\n      description: \"Target gains advantage on one type of ability check and +2 to that ability score.\",\n      color: \"#06b6d4\"\n    }\n  ]\n};\n\n// Get all premade spells\nexport const getAllPremadeSpells = (): GeneratedSpell[] => {\n  return Object.values(PREMADE_SPELLS).flat();\n};\n\n// Get premade spells by school\nexport const getPremadeSpellsBySchool = (school: string): GeneratedSpell[] => {\n  return PREMADE_SPELLS[school.toLowerCase()] || [];\n};\n\n// Get premade spells by level\nexport const getPremadeSpellsByLevel = (level: number): GeneratedSpell[] => {\n  return getAllPremadeSpells().filter(spell => spell.level === level);\n};\n\n// Get premade spells by school and level\nexport const getPremadeSpellsBySchoolAndLevel = (school: string, level: number): GeneratedSpell[] => {\n  return getPremadeSpellsBySchool(school).filter(spell => spell.level === level);\n};","import React, { useState } from 'react';\n\ninterface GeneratedSpell {\n  name: string;\n  level: number;\n  school: string;\n  castingTime: string;\n  range: string;\n  components: string[];\n  duration: string;\n  description: string;\n  color: string;\n}\n\ninterface CustomSpellCreatorProps {\n  onBack?: () => void;\n  onSpellCreated?: (spell: GeneratedSpell) => void;\n}\n\nconst SCHOOLS = [\n  { name: \"Abjuration\", description: \"Protective magic\", color: \"#3b82f6\" },\n  { name: \"Conjuration\", description: \"Summoning and creation\", color: \"#10b981\" },\n  { name: \"Divination\", description: \"Information gathering\", color: \"#f59e0b\" },\n  { name: \"Enchantment\", description: \"Mind control and charm\", color: \"#ec4899\" },\n  { name: \"Evocation\", description: \"Destructive energy\", color: \"#ef4444\" },\n  { name: \"Healing\", description: \"Restoration and recovery\", color: \"#22c55e\" },\n  { name: \"Illusion\", description: \"Deception and trickery\", color: \"#8b5cf6\" },\n  { name: \"Necromancy\", description: \"Death and undeath\", color: \"#6b7280\" },\n  { name: \"Transmutation\", description: \"Transformation\", color: \"#06b6d4\" }\n];\n\nconst CASTING_TIMES = [\n  \"1 action\", \"1 bonus action\", \"1 reaction\", \"2 actions\", \"3 actions\", \n  \"1 full round\", \"2 rounds\", \"3 rounds\", \"1 minute\", \"10 minutes\", \"1 hour\"\n];\n\nconst RANGES = [\n  \"Self\", \"Touch\", \"10 feet\", \"30 feet\", \"60 feet\", \"120 feet\", \n  \"300 feet\", \"500 feet\", \"1 mile\", \"Sight\", \"Special\"\n];\n\nconst DURATIONS = [\n  \"Instantaneous\", \"1 round\", \"2 rounds\", \"3 rounds\", \"5 rounds\", \n  \"10 rounds\", \"1 minute (10 rounds)\", \"10 minutes\", \"1 hour\", \"8 hours\", \n  \"24 hours\", \"Until dispelled\", \"Permanent\", \"Concentration, up to 1 round\",\n  \"Concentration, up to 3 rounds\", \"Concentration, up to 10 rounds\", \n  \"Concentration, up to 10 minutes\", \"Concentration, up to 1 hour\"\n];\n\n// Component options for different spell levels\nconst COMPONENT_OPTIONS = {\n  verbal: [\n    \"Simple word\", \"Quick chant\", \"Whispered phrase\", \"Ancient incantation\", \n    \"Mystical chant\", \"Power word\", \"Arcane phrase\", \"Sacred prayer\", \n    \"Elemental call\", \"Divine invocation\"\n  ],\n  somatic: [\n    \"Quick gesture\", \"Simple motion\", \"Finger snap\", \"Hand wave\", \n    \"Precise gestures\", \"Complex hand movements\", \"Ritualistic dance\", \n    \"Finger patterns\", \"Sweeping motions\", \"Sacred signs\"\n  ],\n  material: [\n    \"Small focus\", \"Tiny crystal\", \"Bit of string\", \"Drop of water\", \n    \"Crystal focus\", \"Rare herbs\", \"Precious metals\", \"Ancient runes\", \n    \"Elemental essence\", \"Sacred symbols\", \"Diamond dust\", \"Silver wire\"\n  ]\n};\n\n// Guidelines for balanced spells by level\nconst SPELL_GUIDELINES = {\n  0: {\n    damage: \"1d4 to 1d6\",\n    healing: \"1d4\",\n    effects: \"Minor utility, small bonuses (+1), brief duration\",\n    limitations: \"Single target, short range, minimal impact\"\n  },\n  1: {\n    damage: \"1d8 to 3d6\",\n    healing: \"1d8 + modifier\",\n    effects: \"Basic combat/utility, small area effects, moderate bonuses (+2)\",\n    limitations: \"Limited targets, moderate range and duration\"\n  },\n  2: {\n    damage: \"2d8 to 5d6\", \n    healing: \"2d8 + modifier\",\n    effects: \"Enhanced effects, larger areas, significant bonuses (+3-4)\",\n    limitations: \"Multiple targets, good range and duration\"\n  },\n  3: {\n    damage: \"3d8 to 8d6\",\n    healing: \"3d8 + modifier\", \n    effects: \"Powerful effects, condition removal, major bonuses (+4-5)\",\n    limitations: \"Large areas, long duration, powerful utility\"\n  }\n};\n\nexport default function CustomSpellCreator({ onBack, onSpellCreated }: CustomSpellCreatorProps) {\n  const [spellData, setSpellData] = useState({\n    name: '',\n    level: 0,\n    school: 'Evocation',\n    castingTime: '1 action',\n    range: '60 feet',\n    duration: 'Instantaneous',\n    description: '',\n    components: {\n      verbal: false,\n      somatic: false,\n      material: false,\n      verbalDetail: 'Ancient incantation',\n      somaticDetail: 'Precise gestures',\n      materialDetail: 'Crystal focus'\n    }\n  });\n\n  const [validationErrors, setValidationErrors] = useState<string[]>([]);\n  const [previewSpell, setPreviewSpell] = useState<GeneratedSpell | null>(null);\n\n  const validateSpell = (): string[] => {\n    const errors: string[] = [];\n    \n    if (!spellData.name.trim()) {\n      errors.push(\"Spell name is required\");\n    }\n    \n    if (spellData.name.length > 50) {\n      errors.push(\"Spell name too long (max 50 characters)\");\n    }\n    \n    if (!spellData.description.trim()) {\n      errors.push(\"Spell description is required\");\n    }\n    \n    if (spellData.description.length < 20) {\n      errors.push(\"Spell description too short (minimum 20 characters)\");\n    }\n    \n    if (spellData.description.length > 500) {\n      errors.push(\"Spell description too long (max 500 characters)\");\n    }\n    \n    if (!spellData.components.verbal && !spellData.components.somatic && !spellData.components.material) {\n      errors.push(\"Spell must have at least one component (Verbal, Somatic, or Material)\");\n    }\n    \n    // Level-based validation\n    if (spellData.level === 0) {\n      if (spellData.duration.includes(\"hour\") || spellData.duration.includes(\"day\")) {\n        errors.push(\"Cantrips cannot have durations longer than 10 minutes\");\n      }\n      if (spellData.range === \"1 mile\" || spellData.range === \"Sight\") {\n        errors.push(\"Cantrips should have limited range (max 120 feet)\");\n      }\n    }\n    \n    return errors;\n  };\n\n  const generateSpell = (): GeneratedSpell | null => {\n    const errors = validateSpell();\n    if (errors.length > 0) {\n      setValidationErrors(errors);\n      return null;\n    }\n    \n    setValidationErrors([]);\n    \n    const components: string[] = [];\n    if (spellData.components.verbal) {\n      components.push(`V (${spellData.components.verbalDetail})`);\n    }\n    if (spellData.components.somatic) {\n      components.push(`S (${spellData.components.somaticDetail})`);\n    }\n    if (spellData.components.material) {\n      components.push(`M (${spellData.components.materialDetail})`);\n    }\n    \n    const school = SCHOOLS.find(s => s.name === spellData.school) || SCHOOLS[0];\n    \n    return {\n      name: spellData.name,\n      level: spellData.level,\n      school: spellData.school,\n      castingTime: spellData.castingTime,\n      range: spellData.range,\n      components,\n      duration: spellData.duration,\n      description: spellData.description,\n      color: school.color\n    };\n  };\n\n  const handlePreview = () => {\n    const spell = generateSpell();\n    setPreviewSpell(spell);\n  };\n\n  const handleSave = () => {\n    const spell = generateSpell();\n    if (spell && onSpellCreated) {\n      onSpellCreated(spell);\n    }\n  };\n\n  const getSelectedSchool = () => SCHOOLS.find(s => s.name === spellData.school) || SCHOOLS[0];\n  const getGuidelines = () => SPELL_GUIDELINES[spellData.level as keyof typeof SPELL_GUIDELINES] || SPELL_GUIDELINES[0];\n\n  return (\n    <div style={{\n      minHeight: \"100vh\",\n      background: \"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)\",\n      color: \"#e2e8f0\",\n      padding: \"2rem\"\n    }}>\n      {/* Header */}\n      <div style={{\n        padding: \"1.5rem 2rem\",\n        borderBottom: \"1px solid #334155\",\n        background: \"rgba(15, 23, 42, 0.8)\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        borderRadius: \"8px\",\n        marginBottom: \"2rem\"\n      }}>\n        <div>\n          <h1 style={{ margin: 0, fontSize: \"2.5rem\", fontWeight: \"bold\" }}>⚡ Custom Spell Creator</h1>\n          <p style={{ margin: \"0.5rem 0 0\", opacity: 0.8 }}>\n            Create your own balanced spells with limitations and guidelines\n          </p>\n        </div>\n        {onBack && (\n          <button\n            onClick={onBack}\n            style={{\n              padding: \"0.75rem 1.5rem\",\n              background: \"#374151\",\n              color: \"#f9fafb\",\n              border: \"none\",\n              borderRadius: \"6px\",\n              cursor: \"pointer\",\n              fontSize: \"1rem\"\n            }}\n          >\n            Back\n          </button>\n        )}\n      </div>\n\n      <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"2rem\" }}>\n        {/* Spell Creation Form */}\n        <div style={{\n          background: \"rgba(15, 23, 42, 0.6)\",\n          borderRadius: \"8px\",\n          padding: \"1.5rem\",\n          border: \"1px solid #334155\"\n        }}>\n          <h2 style={{ margin: \"0 0 1.5rem\", color: \"#f1f5f9\" }}>📝 Spell Details</h2>\n\n          {/* Basic Info */}\n          <div style={{ marginBottom: \"1.5rem\" }}>\n            <label style={{ display: \"block\", marginBottom: \"0.5rem\", color: \"#cbd5e1\" }}>\n              Spell Name\n            </label>\n            <input\n              type=\"text\"\n              value={spellData.name}\n              onChange={(e) => setSpellData({ ...spellData, name: e.target.value })}\n              placeholder=\"Enter spell name...\"\n              style={{\n                width: \"100%\",\n                padding: \"0.75rem\",\n                background: \"#374151\",\n                border: \"1px solid #4b5563\",\n                borderRadius: \"6px\",\n                color: \"#f9fafb\",\n                fontSize: \"1rem\"\n              }}\n            />\n          </div>\n\n          {/* Level and School */}\n          <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"1rem\", marginBottom: \"1.5rem\" }}>\n            <div>\n              <label style={{ display: \"block\", marginBottom: \"0.5rem\", color: \"#cbd5e1\" }}>\n                Spell Level\n              </label>\n              <select\n                value={spellData.level}\n                onChange={(e) => setSpellData({ ...spellData, level: parseInt(e.target.value) })}\n                style={{\n                  width: \"100%\",\n                  padding: \"0.75rem\",\n                  background: \"#374151\",\n                  border: \"1px solid #4b5563\",\n                  borderRadius: \"6px\",\n                  color: \"#f9fafb\",\n                  fontSize: \"1rem\"\n                }}\n              >\n                <option value={0}>Cantrip</option>\n                <option value={1}>1st Level</option>\n                <option value={2}>2nd Level</option>\n                <option value={3}>3rd Level</option>\n              </select>\n            </div>\n            <div>\n              <label style={{ display: \"block\", marginBottom: \"0.5rem\", color: \"#cbd5e1\" }}>\n                School of Magic\n              </label>\n              <select\n                value={spellData.school}\n                onChange={(e) => setSpellData({ ...spellData, school: e.target.value })}\n                style={{\n                  width: \"100%\",\n                  padding: \"0.75rem\",\n                  background: \"#374151\",\n                  border: \"1px solid #4b5563\",\n                  borderRadius: \"6px\",\n                  color: \"#f9fafb\",\n                  fontSize: \"1rem\"\n                }}\n              >\n                {SCHOOLS.map(school => (\n                  <option key={school.name} value={school.name}>\n                    {school.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {/* Casting Details */}\n          <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr 1fr\", gap: \"1rem\", marginBottom: \"1.5rem\" }}>\n            <div>\n              <label style={{ display: \"block\", marginBottom: \"0.5rem\", color: \"#cbd5e1\" }}>\n                Casting Time\n              </label>\n              <select\n                value={spellData.castingTime}\n                onChange={(e) => setSpellData({ ...spellData, castingTime: e.target.value })}\n                style={{\n                  width: \"100%\",\n                  padding: \"0.75rem\",\n                  background: \"#374151\",\n                  border: \"1px solid #4b5563\",\n                  borderRadius: \"6px\",\n                  color: \"#f9fafb\",\n                  fontSize: \"0.9rem\"\n                }}\n              >\n                {CASTING_TIMES.map(time => (\n                  <option key={time} value={time}>{time}</option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label style={{ display: \"block\", marginBottom: \"0.5rem\", color: \"#cbd5e1\" }}>\n                Range\n              </label>\n              <select\n                value={spellData.range}\n                onChange={(e) => setSpellData({ ...spellData, range: e.target.value })}\n                style={{\n                  width: \"100%\",\n                  padding: \"0.75rem\",\n                  background: \"#374151\",\n                  border: \"1px solid #4b5563\",\n                  borderRadius: \"6px\",\n                  color: \"#f9fafb\",\n                  fontSize: \"0.9rem\"\n                }}\n              >\n                {RANGES.map(range => (\n                  <option key={range} value={range}>{range}</option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label style={{ display: \"block\", marginBottom: \"0.5rem\", color: \"#cbd5e1\" }}>\n                Duration\n              </label>\n              <select\n                value={spellData.duration}\n                onChange={(e) => setSpellData({ ...spellData, duration: e.target.value })}\n                style={{\n                  width: \"100%\",\n                  padding: \"0.75rem\",\n                  background: \"#374151\",\n                  border: \"1px solid #4b5563\",\n                  borderRadius: \"6px\",\n                  color: \"#f9fafb\",\n                  fontSize: \"0.9rem\"\n                }}\n              >\n                {DURATIONS.map(duration => (\n                  <option key={duration} value={duration}>{duration}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {/* Components */}\n          <div style={{ marginBottom: \"1.5rem\" }}>\n            <label style={{ display: \"block\", marginBottom: \"0.75rem\", color: \"#cbd5e1\" }}>\n              Components\n            </label>\n            \n            {/* Verbal Component */}\n            <div style={{ marginBottom: \"0.75rem\" }}>\n              <label style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"0.5rem\" }}>\n                <input\n                  type=\"checkbox\"\n                  checked={spellData.components.verbal}\n                  onChange={(e) => setSpellData({\n                    ...spellData,\n                    components: { ...spellData.components, verbal: e.target.checked }\n                  })}\n                  style={{ marginRight: \"0.5rem\" }}\n                />\n                <span style={{ color: \"#f9fafb\" }}>Verbal (V)</span>\n              </label>\n              {spellData.components.verbal && (\n                <select\n                  value={spellData.components.verbalDetail}\n                  onChange={(e) => setSpellData({\n                    ...spellData,\n                    components: { ...spellData.components, verbalDetail: e.target.value }\n                  })}\n                  style={{\n                    width: \"100%\",\n                    padding: \"0.5rem\",\n                    background: \"#4b5563\",\n                    border: \"1px solid #6b7280\",\n                    borderRadius: \"4px\",\n                    color: \"#f9fafb\",\n                    fontSize: \"0.9rem\"\n                  }}\n                >\n                  {COMPONENT_OPTIONS.verbal.map(option => (\n                    <option key={option} value={option}>{option}</option>\n                  ))}\n                </select>\n              )}\n            </div>\n\n            {/* Somatic Component */}\n            <div style={{ marginBottom: \"0.75rem\" }}>\n              <label style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"0.5rem\" }}>\n                <input\n                  type=\"checkbox\"\n                  checked={spellData.components.somatic}\n                  onChange={(e) => setSpellData({\n                    ...spellData,\n                    components: { ...spellData.components, somatic: e.target.checked }\n                  })}\n                  style={{ marginRight: \"0.5rem\" }}\n                />\n                <span style={{ color: \"#f9fafb\" }}>Somatic (S)</span>\n              </label>\n              {spellData.components.somatic && (\n                <select\n                  value={spellData.components.somaticDetail}\n                  onChange={(e) => setSpellData({\n                    ...spellData,\n                    components: { ...spellData.components, somaticDetail: e.target.value }\n                  })}\n                  style={{\n                    width: \"100%\",\n                    padding: \"0.5rem\",\n                    background: \"#4b5563\",\n                    border: \"1px solid #6b7280\",\n                    borderRadius: \"4px\",\n                    color: \"#f9fafb\",\n                    fontSize: \"0.9rem\"\n                  }}\n                >\n                  {COMPONENT_OPTIONS.somatic.map(option => (\n                    <option key={option} value={option}>{option}</option>\n                  ))}\n                </select>\n              )}\n            </div>\n\n            {/* Material Component */}\n            <div>\n              <label style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"0.5rem\" }}>\n                <input\n                  type=\"checkbox\"\n                  checked={spellData.components.material}\n                  onChange={(e) => setSpellData({\n                    ...spellData,\n                    components: { ...spellData.components, material: e.target.checked }\n                  })}\n                  style={{ marginRight: \"0.5rem\" }}\n                />\n                <span style={{ color: \"#f9fafb\" }}>Material (M)</span>\n              </label>\n              {spellData.components.material && (\n                <input\n                  type=\"text\"\n                  value={spellData.components.materialDetail}\n                  onChange={(e) => setSpellData({\n                    ...spellData,\n                    components: { ...spellData.components, materialDetail: e.target.value }\n                  })}\n                  placeholder=\"Describe material component...\"\n                  style={{\n                    width: \"100%\",\n                    padding: \"0.5rem\",\n                    background: \"#4b5563\",\n                    border: \"1px solid #6b7280\",\n                    borderRadius: \"4px\",\n                    color: \"#f9fafb\",\n                    fontSize: \"0.9rem\"\n                  }}\n                />\n              )}\n            </div>\n          </div>\n\n          {/* Description */}\n          <div style={{ marginBottom: \"1.5rem\" }}>\n            <label style={{ display: \"block\", marginBottom: \"0.5rem\", color: \"#cbd5e1\" }}>\n              Spell Description\n            </label>\n            <textarea\n              value={spellData.description}\n              onChange={(e) => setSpellData({ ...spellData, description: e.target.value })}\n              placeholder=\"Describe what the spell does, its effects, damage, bonuses, etc...\"\n              rows={4}\n              style={{\n                width: \"100%\",\n                padding: \"0.75rem\",\n                background: \"#374151\",\n                border: \"1px solid #4b5563\",\n                borderRadius: \"6px\",\n                color: \"#f9fafb\",\n                fontSize: \"1rem\",\n                resize: \"vertical\"\n              }}\n            />\n            <div style={{ fontSize: \"0.8rem\", color: \"#94a3b8\", marginTop: \"0.25rem\" }}>\n              {spellData.description.length}/500 characters\n            </div>\n          </div>\n\n          {/* Action Buttons */}\n          <div style={{ display: \"flex\", gap: \"1rem\" }}>\n            <button\n              onClick={handlePreview}\n              style={{\n                flex: 1,\n                padding: \"0.75rem\",\n                background: getSelectedSchool().color,\n                color: \"white\",\n                border: \"none\",\n                borderRadius: \"6px\",\n                cursor: \"pointer\",\n                fontSize: \"1rem\",\n                fontWeight: \"bold\"\n              }}\n            >\n              👁️ Preview Spell\n            </button>\n            <button\n              onClick={handleSave}\n              disabled={!previewSpell}\n              style={{\n                flex: 1,\n                padding: \"0.75rem\",\n                background: previewSpell ? \"#059669\" : \"#374151\",\n                color: \"white\",\n                border: \"none\",\n                borderRadius: \"6px\",\n                cursor: previewSpell ? \"pointer\" : \"not-allowed\",\n                fontSize: \"1rem\",\n                fontWeight: \"bold\"\n              }}\n            >\n              💾 Save Spell\n            </button>\n          </div>\n\n          {/* Validation Errors */}\n          {validationErrors.length > 0 && (\n            <div style={{\n              marginTop: \"1rem\",\n              padding: \"1rem\",\n              background: \"rgba(220, 38, 38, 0.2)\",\n              border: \"1px solid #dc2626\",\n              borderRadius: \"6px\"\n            }}>\n              <h4 style={{ margin: \"0 0 0.5rem\", color: \"#fca5a5\" }}>Validation Errors:</h4>\n              <ul style={{ margin: 0, paddingLeft: \"1.5rem\", color: \"#fca5a5\" }}>\n                {validationErrors.map((error, index) => (\n                  <li key={index}>{error}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n\n        {/* Guidelines and Preview */}\n        <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"1.5rem\" }}>\n          {/* Guidelines */}\n          <div style={{\n            background: \"rgba(15, 23, 42, 0.6)\",\n            borderRadius: \"8px\",\n            padding: \"1.5rem\",\n            border: `2px solid ${getSelectedSchool().color}`\n          }}>\n            <h2 style={{ margin: \"0 0 1rem\", color: getSelectedSchool().color }}>\n              📋 {getSelectedSchool().name} Guidelines\n            </h2>\n            <p style={{ margin: \"0 0 1rem\", color: \"#cbd5e1\", fontStyle: \"italic\" }}>\n              {getSelectedSchool().description}\n            </p>\n            \n            <div style={{ marginBottom: \"1rem\" }}>\n              <h4 style={{ margin: \"0 0 0.5rem\", color: \"#f1f5f9\" }}>\n                Level {spellData.level} {spellData.level === 0 ? \"Cantrip\" : \"\"} Limits:\n              </h4>\n              <div style={{ fontSize: \"0.9rem\", color: \"#94a3b8\" }}>\n                <p style={{ margin: \"0.25rem 0\" }}>\n                  <strong>Damage:</strong> {getGuidelines().damage}\n                </p>\n                <p style={{ margin: \"0.25rem 0\" }}>\n                  <strong>Healing:</strong> {getGuidelines().healing}\n                </p>\n                <p style={{ margin: \"0.25rem 0\" }}>\n                  <strong>Effects:</strong> {getGuidelines().effects}\n                </p>\n                <p style={{ margin: \"0.25rem 0\" }}>\n                  <strong>Limitations:</strong> {getGuidelines().limitations}\n                </p>\n              </div>\n            </div>\n\n            <div style={{\n              padding: \"1rem\",\n              background: \"rgba(59, 130, 246, 0.1)\",\n              borderRadius: \"6px\",\n              border: \"1px solid #3b82f6\"\n            }}>\n              <h4 style={{ margin: \"0 0 0.5rem\", color: \"#93c5fd\" }}>💡 Design Tips:</h4>\n              <ul style={{ margin: 0, paddingLeft: \"1.5rem\", color: \"#cbd5e1\", fontSize: \"0.9rem\" }}>\n                <li>Be specific about targets, ranges, and effects</li>\n                <li>Higher level spells should have more complex components</li>\n                <li>Balance damage with utility - not every spell needs to do damage</li>\n                <li>Consider what class would use this spell</li>\n                <li>Make effects interesting but not overpowered</li>\n              </ul>\n            </div>\n          </div>\n\n          {/* Spell Preview */}\n          {previewSpell && (\n            <div style={{\n              background: \"rgba(15, 23, 42, 0.6)\",\n              borderRadius: \"8px\",\n              padding: \"1.5rem\",\n              border: `2px solid ${previewSpell.color}`\n            }}>\n              <h2 style={{ margin: \"0 0 1rem\", color: \"#f1f5f9\" }}>👁️ Spell Preview</h2>\n              \n              <div style={{\n                background: \"rgba(15, 23, 42, 0.8)\",\n                borderRadius: \"6px\",\n                padding: \"1.5rem\",\n                border: `1px solid ${previewSpell.color}`\n              }}>\n                <div style={{ marginBottom: \"1rem\" }}>\n                  <h3 style={{ margin: \"0 0 0.25rem\", color: previewSpell.color, fontSize: \"1.5rem\" }}>\n                    {previewSpell.name}\n                  </h3>\n                  <p style={{ margin: 0, color: \"#94a3b8\", fontSize: \"0.9rem\" }}>\n                    {previewSpell.level === 0 ? \"Cantrip\" : `${previewSpell.level}st Level`} {previewSpell.school}\n                  </p>\n                </div>\n\n                <div style={{ marginBottom: \"1rem\", fontSize: \"0.9rem\", color: \"#cbd5e1\" }}>\n                  <p style={{ margin: \"0.25rem 0\" }}>\n                    <strong>Casting Time:</strong> {previewSpell.castingTime}\n                  </p>\n                  <p style={{ margin: \"0.25rem 0\" }}>\n                    <strong>Range:</strong> {previewSpell.range}\n                  </p>\n                  <p style={{ margin: \"0.25rem 0\" }}>\n                    <strong>Components:</strong> {previewSpell.components.join(\", \")}\n                  </p>\n                  <p style={{ margin: \"0.25rem 0\" }}>\n                    <strong>Duration:</strong> {previewSpell.duration}\n                  </p>\n                </div>\n\n                <div>\n                  <p style={{ margin: 0, color: \"#e2e8f0\", lineHeight: \"1.5\" }}>\n                    {previewSpell.description}\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { PREMADE_SPELLS, getAllPremadeSpells, getPremadeSpellsBySchool } from './PremadeSpells';\nimport CustomSpellCreator from './CustomSpellCreator';\n\ninterface SpellGeneratorProps {\n  onBack?: () => void;\n}\n\n// Simple spell data for the random generator\nconst SPELL_DATA = {\n  schools: [\n    { name: \"Abjuration\", description: \"Protective magic\", color: \"#3b82f6\" },\n    { name: \"Conjuration\", description: \"Summoning and creation\", color: \"#10b981\" },\n    { name: \"Divination\", description: \"Information gathering\", color: \"#f59e0b\" },\n    { name: \"Enchantment\", description: \"Mind control and charm\", color: \"#ec4899\" },\n    { name: \"Evocation\", description: \"Destructive energy\", color: \"#ef4444\" },\n    { name: \"Healing\", description: \"Restoration and recovery\", color: \"#22c55e\" },\n    { name: \"Illusion\", description: \"Deception and trickery\", color: \"#8b5cf6\" },\n    { name: \"Necromancy\", description: \"Death and undeath\", color: \"#6b7280\" },\n    { name: \"Transmutation\", description: \"Transformation\", color: \"#06b6d4\" }\n  ]\n};\n\ninterface GeneratedSpell {\n  name: string;\n  level: number;\n  school: string;\n  castingTime: string;\n  range: string;\n  components: string[];\n  duration: string;\n  description: string;\n  color: string;\n}\n\nexport default function SpellGenerator({ onBack }: SpellGeneratorProps) {\n  const [mode, setMode] = useState<'menu' | 'premade' | 'custom'>('menu');\n  const [selectedSchool, setSelectedSchool] = useState<string>('any');\n  const [generatedSpells, setGeneratedSpells] = useState<GeneratedSpell[]>([]);\n  const [savedSpells, setSavedSpells] = useState<GeneratedSpell[]>([]);\n\n  // Load saved spells on mount\n  React.useEffect(() => {\n    try {\n      const saved = JSON.parse(localStorage.getItem('world-engine-saved-spells') || '[]');\n      setSavedSpells(saved);\n    } catch (error) {\n      console.error('Error loading saved spells:', error);\n      setSavedSpells([]);\n    }\n  }, []);\n\n  // Handle custom spell creation\n  const handleCustomSpellCreated = (spell: GeneratedSpell) => {\n    setGeneratedSpells(prev => [spell, ...prev]);\n    console.log(`✨ Created custom spell: ${spell.name}`);\n    setMode('menu');\n  };\n\n  // Load premade spells by school\n  const loadPremadeSpells = (school?: string) => {\n    let spells: GeneratedSpell[] = [];\n    \n    if (school && school !== 'any') {\n      spells = getPremadeSpellsBySchool(school);\n      console.log(`📚 Loaded ${spells.length} premade ${school} spells`);\n    } else {\n      spells = getAllPremadeSpells();\n      console.log(`📚 Loaded ${spells.length} premade spells from all schools`);\n    }\n    \n    setGeneratedSpells(spells);\n  };\n\n  // Save spell to collection\n  const saveSpell = (spell: GeneratedSpell) => {\n    if (savedSpells.find(s => s.name === spell.name)) {\n      alert('Spell already saved!');\n      return;\n    }\n\n    const newSavedSpells = [...savedSpells, spell];\n    setSavedSpells(newSavedSpells);\n    localStorage.setItem('world-engine-saved-spells', JSON.stringify(newSavedSpells));\n    console.log('Spell saved:', spell.name);\n  };\n\n  // Remove saved spell\n  const removeSavedSpell = (spellName: string) => {\n    const updated = savedSpells.filter(s => s.name !== spellName);\n    setSavedSpells(updated);\n    localStorage.setItem('world-engine-saved-spells', JSON.stringify(updated));\n  };\n\n  // Render different modes\n  if (mode === 'custom') {\n    return (\n      <CustomSpellCreator \n        onBack={() => setMode('menu')}\n        onSpellCreated={handleCustomSpellCreated}\n      />\n    );\n  }\n\n  return (\n    <div style={{\n      minHeight: \"100vh\",\n      background: \"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)\",\n      color: \"#e2e8f0\"\n    }}>\n      {/* Header */}\n      <div style={{\n        padding: \"1.5rem 2rem\",\n        borderBottom: \"1px solid #334155\",\n        background: \"rgba(15, 23, 42, 0.8)\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n      }}>\n        <div>\n          <h1 style={{ margin: 0, fontSize: \"2.5rem\", fontWeight: \"bold\" }}>\n            ⚡ Spell Workshop\n          </h1>\n          <p style={{ margin: \"0.5rem 0 0\", opacity: 0.8 }}>\n            {mode === 'menu' ? 'Choose your spell creation method' : \n             mode === 'premade' ? 'Browse curated spell collections' :\n             'Generate random magical spells'}\n          </p>\n        </div>\n        <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n          {mode !== 'menu' && (\n            <button\n              onClick={() => setMode('menu')}\n              style={{\n                padding: \"0.75rem 1.5rem\",\n                background: \"#6366f1\",\n                color: \"#f9fafb\",\n                border: \"none\",\n                borderRadius: \"6px\",\n                cursor: \"pointer\",\n                fontSize: \"1rem\"\n              }}\n            >\n              🏠 Main Menu\n            </button>\n          )}\n          {onBack && (\n            <button\n              onClick={onBack}\n              style={{\n                padding: \"0.75rem 1.5rem\",\n                background: \"#374151\",\n                color: \"#f9fafb\",\n                border: \"none\",\n                borderRadius: \"6px\",\n                cursor: \"pointer\",\n                fontSize: \"1rem\"\n              }}\n            >\n              Back to Game\n            </button>\n          )}\n        </div>\n      </div>\n\n      {mode === 'menu' && (\n        <div style={{ padding: \"3rem 2rem\" }}>\n          <div style={{\n            display: \"grid\",\n            gridTemplateColumns: \"repeat(auto-fit, minmax(350px, 1fr))\",\n            gap: \"2rem\",\n            maxWidth: \"1200px\",\n            margin: \"0 auto\"\n          }}>\n            {/* Premade Spells */}\n            <div style={{\n              background: \"rgba(15, 23, 42, 0.6)\",\n              borderRadius: \"12px\",\n              padding: \"2rem\",\n              border: \"2px solid #10b981\",\n              cursor: \"pointer\",\n              transition: \"all 0.3s ease\"\n            }}\n            onMouseEnter={(e) => e.currentTarget.style.transform = \"translateY(-4px)\"}\n            onMouseLeave={(e) => e.currentTarget.style.transform = \"translateY(0px)\"}\n            onClick={() => setMode('premade')}>\n              <div style={{\n                fontSize: \"3rem\",\n                textAlign: \"center\",\n                marginBottom: \"1rem\"\n              }}>📚</div>\n              <h2 style={{\n                margin: \"0 0 1rem\",\n                color: \"#10b981\",\n                textAlign: \"center\",\n                fontSize: \"1.5rem\"\n              }}>Premade Spell Collections</h2>\n              <p style={{\n                margin: \"0 0 1.5rem\",\n                color: \"#cbd5e1\",\n                textAlign: \"center\",\n                lineHeight: \"1.6\"\n              }}>\n                Browse carefully crafted spells for each school of magic. \n                Perfect for quick gameplay and learning spell mechanics.\n              </p>\n              <div style={{\n                background: \"rgba(16, 185, 129, 0.1)\",\n                borderRadius: \"6px\",\n                padding: \"1rem\",\n                border: \"1px solid #10b981\"\n              }}>\n                <h4 style={{ margin: \"0 0 0.5rem\", color: \"#6ee7b7\" }}>✨ Features:</h4>\n                <ul style={{ margin: 0, paddingLeft: \"1.5rem\", color: \"#d1fae5\" }}>\n                  <li>Balanced and tested spells</li>\n                  <li>Organized by school and level</li>\n                  <li>Rich flavor text and descriptions</li>\n                  <li>Ready to use immediately</li>\n                </ul>\n              </div>\n            </div>\n\n            {/* Custom Creator */}\n            <div style={{\n              background: \"rgba(15, 23, 42, 0.6)\",\n              borderRadius: \"12px\",\n              padding: \"2rem\",\n              border: \"2px solid #ef4444\",\n              cursor: \"pointer\",\n              transition: \"all 0.3s ease\"\n            }}\n            onMouseEnter={(e) => e.currentTarget.style.transform = \"translateY(-4px)\"}\n            onMouseLeave={(e) => e.currentTarget.style.transform = \"translateY(0px)\"}\n            onClick={() => setMode('custom')}>\n              <div style={{\n                fontSize: \"3rem\",\n                textAlign: \"center\",\n                marginBottom: \"1rem\"\n              }}>⚒️</div>\n              <h2 style={{\n                margin: \"0 0 1rem\",\n                color: \"#ef4444\",\n                textAlign: \"center\",\n                fontSize: \"1.5rem\"\n              }}>Custom Spell Creator</h2>\n              <p style={{\n                margin: \"0 0 1.5rem\",\n                color: \"#cbd5e1\",\n                textAlign: \"center\",\n                lineHeight: \"1.6\"\n              }}>\n                Design your own spells from scratch with built-in balance guidelines. \n                Perfect for experienced players who want full creative control.\n              </p>\n              <div style={{\n                background: \"rgba(239, 68, 68, 0.1)\",\n                borderRadius: \"6px\",\n                padding: \"1rem\",\n                border: \"1px solid #ef4444\"\n              }}>\n                <h4 style={{ margin: \"0 0 0.5rem\", color: \"#fca5a5\" }}>🛠️ Features:</h4>\n                <ul style={{ margin: 0, paddingLeft: \"1.5rem\", color: \"#fee2e2\" }}>\n                  <li>Complete creative freedom</li>\n                  <li>Balance guidelines and validation</li>\n                  <li>Component customization</li>\n                  <li>Real-time spell preview</li>\n                </ul>\n              </div>\n              \n              <div style={{\n                background: \"rgba(245, 158, 11, 0.1)\",\n                borderRadius: \"6px\",\n                padding: \"0.75rem\",\n                border: \"1px solid #f59e0b\",\n                marginTop: \"1rem\"\n              }}>\n                <div style={{ color: \"#fbbf24\", fontSize: \"0.9rem\", textAlign: \"center\" }}>\n                  ⚠️ For Experienced Players\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Quick Stats */}\n          <div style={{\n            marginTop: \"3rem\",\n            textAlign: \"center\",\n            padding: \"2rem\",\n            background: \"rgba(15, 23, 42, 0.4)\",\n            borderRadius: \"8px\",\n            border: \"1px solid #334155\"\n          }}>\n            <h3 style={{ margin: \"0 0 1rem\", color: \"#f1f5f9\" }}>📊 Spell Library Stats</h3>\n            <div style={{\n              display: \"grid\",\n              gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\",\n              gap: \"1rem\",\n              maxWidth: \"800px\",\n              margin: \"0 auto\"\n            }}>\n              {SPELL_DATA.schools.map(school => {\n                const count = getPremadeSpellsBySchool(school.name).length;\n                return (\n                  <div key={school.name} style={{\n                    padding: \"1rem\",\n                    background: \"rgba(15, 23, 42, 0.6)\",\n                    borderRadius: \"6px\",\n                    border: `1px solid ${school.color}`\n                  }}>\n                    <div style={{ color: school.color, fontWeight: \"bold\" }}>{school.name}</div>\n                    <div style={{ color: \"#94a3b8\", fontSize: \"0.9rem\" }}>{count} spells</div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {mode === 'premade' && (\n        <div style={{ display: \"flex\", height: \"calc(100vh - 120px)\" }}>\n          {/* School Selection */}\n          <div style={{\n            width: \"300px\",\n            padding: \"2rem\",\n            borderRight: \"1px solid #334155\",\n            overflowY: \"auto\",\n            background: \"rgba(15, 23, 42, 0.4)\"\n          }}>\n            <h3 style={{ marginBottom: \"1rem\", color: \"#f1f5f9\" }}>📚 Browse by School</h3>\n            \n            <button\n              onClick={() => loadPremadeSpells('any')}\n              style={{\n                width: \"100%\",\n                padding: \"1rem\",\n                marginBottom: \"0.5rem\",\n                background: selectedSchool === 'any' ? \"#374151\" : \"rgba(15, 23, 42, 0.6)\",\n                border: \"1px solid #4b5563\",\n                borderRadius: \"6px\",\n                color: \"#f9fafb\",\n                cursor: \"pointer\",\n                textAlign: \"left\",\n                fontSize: \"1rem\"\n              }}\n            >\n              🌟 All Schools ({getAllPremadeSpells().length} spells)\n            </button>\n\n            {SPELL_DATA.schools.map(school => {\n              const count = getPremadeSpellsBySchool(school.name).length;\n              return (\n                <button\n                  key={school.name}\n                  onClick={() => {\n                    setSelectedSchool(school.name.toLowerCase());\n                    loadPremadeSpells(school.name);\n                  }}\n                  style={{\n                    width: \"100%\",\n                    padding: \"1rem\",\n                    marginBottom: \"0.5rem\",\n                    background: selectedSchool === school.name.toLowerCase() ? school.color : \"rgba(15, 23, 42, 0.6)\",\n                    border: `1px solid ${school.color}`,\n                    borderRadius: \"6px\",\n                    color: selectedSchool === school.name.toLowerCase() ? \"#ffffff\" : school.color,\n                    cursor: \"pointer\",\n                    textAlign: \"left\",\n                    fontSize: \"0.9rem\",\n                    transition: \"all 0.2s ease\"\n                  }}\n                >\n                  <div style={{ fontWeight: \"bold\" }}>{school.name}</div>\n                  <div style={{ fontSize: \"0.8rem\", opacity: 0.8 }}>\n                    {school.description} ({count} spells)\n                  </div>\n                </button>\n              );\n            })}\n          </div>\n\n          {/* Spell Display */}\n          <div style={{\n            flex: 1,\n            padding: \"2rem\",\n            overflowY: \"auto\"\n          }}>\n            {generatedSpells.length === 0 ? (\n              <div style={{\n                textAlign: \"center\",\n                padding: \"3rem\",\n                color: \"#94a3b8\"\n              }}>\n                <div style={{ fontSize: \"4rem\", marginBottom: \"1rem\" }}>📚</div>\n                <h3 style={{ margin: \"0 0 1rem\", color: \"#cbd5e1\" }}>Select a School</h3>\n                <p>Choose a school of magic from the left panel to browse curated spells.</p>\n              </div>\n            ) : (\n              <div>\n                <h2 style={{ margin: \"0 0 1.5rem\", color: \"#f1f5f9\" }}>\n                  {selectedSchool === 'any' ? 'All Schools' : \n                   SPELL_DATA.schools.find(s => s.name.toLowerCase() === selectedSchool)?.name || 'Spells'}\n                  <span style={{ color: \"#94a3b8\", fontSize: \"1rem\", fontWeight: \"normal\", marginLeft: \"1rem\" }}>\n                    ({generatedSpells.length} spells)\n                  </span>\n                </h2>\n                \n                <div style={{\n                  display: \"grid\",\n                  gridTemplateColumns: \"repeat(auto-fit, minmax(400px, 1fr))\",\n                  gap: \"1.5rem\"\n                }}>\n                  {generatedSpells.map((spell, index) => (\n                    <div key={index} style={{\n                      background: \"rgba(15, 23, 42, 0.8)\",\n                      borderRadius: \"8px\",\n                      padding: \"1.5rem\",\n                      border: `2px solid ${spell.color}`,\n                      transition: \"transform 0.2s ease\"\n                    }}>\n                      <div style={{ marginBottom: \"1rem\" }}>\n                        <h3 style={{ margin: \"0 0 0.25rem\", color: spell.color, fontSize: \"1.3rem\" }}>\n                          {spell.name}\n                        </h3>\n                        <p style={{ margin: 0, color: \"#94a3b8\", fontSize: \"0.9rem\" }}>\n                          {spell.level === 0 ? \"Cantrip\" : `Level ${spell.level}`} {spell.school}\n                        </p>\n                      </div>\n\n                      <div style={{ marginBottom: \"1rem\", fontSize: \"0.9rem\", color: \"#cbd5e1\" }}>\n                        <p style={{ margin: \"0.25rem 0\" }}>\n                          <strong>Casting Time:</strong> {spell.castingTime}\n                        </p>\n                        <p style={{ margin: \"0.25rem 0\" }}>\n                          <strong>Range:</strong> {spell.range}\n                        </p>\n                        <p style={{ margin: \"0.25rem 0\" }}>\n                          <strong>Components:</strong> {spell.components.join(\", \")}\n                        </p>\n                        <p style={{ margin: \"0.25rem 0\" }}>\n                          <strong>Duration:</strong> {spell.duration}\n                        </p>\n                      </div>\n\n                      <div style={{ marginBottom: \"1.5rem\" }}>\n                        <p style={{ margin: 0, color: \"#e2e8f0\", lineHeight: \"1.5\" }}>\n                          {spell.description}\n                        </p>\n                      </div>\n\n                      <button\n                        onClick={() => saveSpell(spell)}\n                        style={{\n                          width: \"100%\",\n                          padding: \"0.75rem\",\n                          background: \"#059669\",\n                          color: \"white\",\n                          border: \"none\",\n                          borderRadius: \"6px\",\n                          cursor: \"pointer\",\n                          fontSize: \"1rem\",\n                          fontWeight: \"bold\"\n                        }}\n                      >\n                        💾 Save to Spellbook\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Saved Spells Count */}\n      {savedSpells.length > 0 && (\n        <div style={{\n          position: \"fixed\",\n          bottom: \"2rem\",\n          right: \"2rem\",\n          background: \"rgba(15, 23, 42, 0.9)\",\n          border: \"1px solid #334155\",\n          borderRadius: \"8px\",\n          padding: \"1rem\",\n          color: \"#f1f5f9\"\n        }}>\n          💾 {savedSpells.length} spells saved\n        </div>\n      )}\n    </div>\n  );\n}","import React, { useState, useEffect } from 'react';\n\ninterface Character {\n  id?: string;\n  name: string;\n  class?: string;\n  characterClass?: string; // Support both formats\n  race?: string;\n  level?: number;\n  baseStats?: {\n    strength: number;\n    constitution: number;\n    wisdom: number;\n    intelligence: number;\n    dexterity: number;\n    charisma: number;\n  };\n  finalStats?: {\n    strength: number;\n    constitution: number;\n    wisdom: number;\n    intelligence: number;\n    dexterity: number;\n    charisma: number;\n  };\n  hitPoints?: number;\n  knownSpells?: string[];\n  knownCantrips?: string[];\n  data?: any; // For characters from CharacterCreate\n}\n\ninterface GeneratedSpell {\n  name: string;\n  level: number;\n  school: string;\n  castingTime: string;\n  range: string;\n  components: string[];\n  duration: string;\n  description: string;\n  color: string;\n}\n\ninterface SpellAssignmentProps {\n  onBack?: () => void;\n}\n\nexport default function SpellAssignment({ onBack }: SpellAssignmentProps) {\n  const [characters, setCharacters] = useState<Character[]>([]);\n  const [availableSpells, setAvailableSpells] = useState<GeneratedSpell[]>([]);\n  const [selectedCharacter, setSelectedCharacter] = useState<number>(-1);\n  const [selectedSpell, setSelectedSpell] = useState<number>(-1);\n\n  // Helper functions to normalize character data\n  const getCharacterClass = (character: Character): string => {\n    return character.class || character.characterClass || 'Unknown';\n  };\n\n  const getCharacterLevel = (character: Character): number => {\n    return character.level || character.data?.level || 1;\n  };\n\n  const getCharacterStats = (character: Character) => {\n    if (character.finalStats) return character.finalStats;\n    if (character.data?.stats) return character.data.stats;\n    // Default stats for characters without stat data\n    return {\n      strength: 10,\n      constitution: 10,\n      wisdom: 10,\n      intelligence: 10,\n      dexterity: 10,\n      charisma: 10\n    };\n  };\n\n  // Create test characters if no real characters exist\n  const createTestCharacters = (): Character[] => [\n    {\n      id: 'test-cleric',\n      name: \"Elara the Cleric\",\n      class: \"Cleric\",\n      race: \"Human\",\n      level: 3,\n      baseStats: { strength: 12, constitution: 14, wisdom: 16, intelligence: 10, dexterity: 13, charisma: 15 },\n      finalStats: { strength: 12, constitution: 14, wisdom: 16, intelligence: 10, dexterity: 13, charisma: 15 },\n      hitPoints: 28,\n      knownSpells: [],\n      knownCantrips: []\n    },\n    {\n      id: 'test-wizard',\n      name: \"Merlin the Wise\",\n      class: \"Wizard\",\n      race: \"Elf\",\n      level: 4,\n      baseStats: { strength: 8, constitution: 12, wisdom: 13, intelligence: 17, dexterity: 14, charisma: 10 },\n      finalStats: { strength: 8, constitution: 12, wisdom: 13, intelligence: 17, dexterity: 14, charisma: 10 },\n      hitPoints: 24,\n      knownSpells: [],\n      knownCantrips: []\n    },\n    {\n      id: 'test-paladin',\n      name: \"Sir Roland\",\n      class: \"Paladin\",\n      race: \"Human\",\n      level: 3,\n      baseStats: { strength: 16, constitution: 14, wisdom: 11, intelligence: 10, dexterity: 10, charisma: 15 },\n      finalStats: { strength: 16, constitution: 14, wisdom: 11, intelligence: 10, dexterity: 10, charisma: 15 },\n      hitPoints: 32,\n      knownSpells: [],\n      knownCantrips: []\n    },\n    {\n      id: 'test-sorcerer',\n      name: \"Luna Stormcaller\",\n      class: \"Sorcerer\",\n      race: \"Dragonborn\",\n      level: 2,\n      baseStats: { strength: 10, constitution: 13, wisdom: 12, intelligence: 11, dexterity: 14, charisma: 16 },\n      finalStats: { strength: 10, constitution: 13, wisdom: 12, intelligence: 11, dexterity: 14, charisma: 16 },\n      hitPoints: 18,\n      knownSpells: [],\n      knownCantrips: []\n    },\n    {\n      id: 'test-druid',\n      name: \"Thorn Earthwalker\",\n      class: \"Druid\",\n      race: \"Half-Elf\",\n      level: 3,\n      baseStats: { strength: 11, constitution: 14, wisdom: 16, intelligence: 12, dexterity: 13, charisma: 14 },\n      finalStats: { strength: 11, constitution: 14, wisdom: 16, intelligence: 12, dexterity: 13, charisma: 14 },\n      hitPoints: 26,\n      knownSpells: [],\n      knownCantrips: []\n    }\n  ];\n\n  // Load characters and spells on component mount\n  useEffect(() => {\n    try {\n      const savedCharacters = JSON.parse(localStorage.getItem('world-engine-characters') || '[]');\n      const savedSpells = JSON.parse(localStorage.getItem('world-engine-saved-spells') || '[]');\n      \n      // Always include test characters for easy testing\n      const testCharacters = createTestCharacters();\n      \n      // Merge saved characters with test characters, avoiding duplicates\n      const allCharacters = [...testCharacters];\n      \n      savedCharacters.forEach((savedChar: any) => {\n        // Don't add if it's a test character (check by ID)\n        if (!testCharacters.find(test => test.id === savedChar.id)) {\n          allCharacters.push(savedChar);\n        }\n      });\n      \n      setCharacters(allCharacters);\n      setAvailableSpells(savedSpells);\n      \n      console.log('Loaded characters:', allCharacters.length, 'characters (', testCharacters.length, 'test +', savedCharacters.length, 'saved)');\n    } catch (error) {\n      console.error('Error loading data:', error);\n      // Fallback to just test characters\n      setCharacters(createTestCharacters());\n    }\n  }, []);\n\n  const canCharacterLearnSpell = (character: Character, spell: GeneratedSpell): boolean => {\n    const characterClass = getCharacterClass(character);\n    const level = getCharacterLevel(character);\n    \n    // Check if character can learn this type of spell based on class\n    const spellcastingClasses = {\n      'Wizard': { schools: ['all'], maxLevel: Math.ceil(level / 2) + 1, stat: 'intelligence' },\n      'Sorcerer': { schools: ['all'], maxLevel: Math.ceil(level / 2) + 1, stat: 'charisma' },\n      'Cleric': { schools: ['Abjuration', 'Divination', 'Evocation', 'Healing'], maxLevel: Math.ceil(level / 2) + 1, stat: 'wisdom' },\n      'Druid': { schools: ['Conjuration', 'Divination', 'Evocation', 'Transmutation', 'Healing'], maxLevel: Math.ceil(level / 2) + 1, stat: 'wisdom' },\n      'Paladin': { schools: ['Abjuration', 'Evocation', 'Healing'], maxLevel: Math.max(1, Math.ceil((level - 1) / 4)), stat: 'charisma' },\n      'Ranger': { schools: ['Conjuration', 'Divination', 'Transmutation'], maxLevel: Math.max(1, Math.ceil((level - 1) / 4)), stat: 'wisdom' },\n      'Bard': { schools: ['all'], maxLevel: Math.ceil(level / 2) + 1, stat: 'charisma' },\n      'Warlock': { schools: ['all'], maxLevel: Math.min(5, Math.ceil(level / 2) + 1), stat: 'charisma' }\n    };\n\n    const classInfo = spellcastingClasses[characterClass as keyof typeof spellcastingClasses];\n    if (!classInfo) return false; // Non-spellcasting class\n\n    // Check spell level\n    if (spell.level > classInfo.maxLevel) return false;\n\n    // Check school restrictions\n    if (classInfo.schools[0] !== 'all' && !classInfo.schools.includes(spell.school)) return false;\n\n    // Check if already known\n    if (spell.level === 0) {\n      return !character.knownCantrips?.includes(spell.name);\n    } else {\n      return !character.knownSpells?.includes(spell.name);\n    }\n  };\n\n  const assignSpell = () => {\n    if (selectedCharacter === -1 || selectedSpell === -1) return;\n\n    const character = characters[selectedCharacter];\n    const spell = availableSpells[selectedSpell];\n\n    if (!canCharacterLearnSpell(character, spell)) {\n      alert(`${character.name} cannot learn ${spell.name}!`);\n      return;\n    }\n\n    const updatedCharacters = characters.map((char, index) => {\n      if (index === selectedCharacter) {\n        if (spell.level === 0) {\n          // Cantrip\n          return {\n            ...char,\n            knownCantrips: [...(char.knownCantrips || []), spell.name]\n          };\n        } else {\n          // Regular spell\n          return {\n            ...char,\n            knownSpells: [...(char.knownSpells || []), spell.name]\n          };\n        }\n      }\n      return char;\n    });\n\n    setCharacters(updatedCharacters);\n    localStorage.setItem('world-engine-characters', JSON.stringify(updatedCharacters));\n\n    // Reset selections\n    setSelectedCharacter(-1);\n    setSelectedSpell(-1);\n  };\n\n  const removeSpell = (characterIndex: number, spellName: string, isCantrip: boolean) => {\n    const updatedCharacters = characters.map((char, index) => {\n      if (index === characterIndex) {\n        if (isCantrip) {\n          return {\n            ...char,\n            knownCantrips: char.knownCantrips?.filter(s => s !== spellName) || []\n          };\n        } else {\n          return {\n            ...char,\n            knownSpells: char.knownSpells?.filter(s => s !== spellName) || []\n          };\n        }\n      }\n      return char;\n    });\n\n    setCharacters(updatedCharacters);\n    localStorage.setItem('world-engine-characters', JSON.stringify(updatedCharacters));\n  };\n\n  const getSpellcastingInfo = (character: Character) => {\n    const characterClass = getCharacterClass(character);\n    const level = getCharacterLevel(character);\n    \n    const spellcastingClasses = {\n      'Wizard': { maxLevel: Math.ceil(level / 2) + 1, stat: 'Intelligence' },\n      'Sorcerer': { maxLevel: Math.ceil(level / 2) + 1, stat: 'Charisma' },\n      'Cleric': { maxLevel: Math.ceil(level / 2) + 1, stat: 'Wisdom' },\n      'Druid': { maxLevel: Math.ceil(level / 2) + 1, stat: 'Wisdom' },\n      'Paladin': { maxLevel: Math.max(1, Math.ceil((level - 1) / 4)), stat: 'Charisma' },\n      'Ranger': { maxLevel: Math.max(1, Math.ceil((level - 1) / 4)), stat: 'Wisdom' },\n      'Bard': { maxLevel: Math.ceil(level / 2) + 1, stat: 'Charisma' },\n      'Warlock': { maxLevel: Math.min(5, Math.ceil(level / 2) + 1), stat: 'Charisma' }\n    };\n\n    return spellcastingClasses[characterClass as keyof typeof spellcastingClasses];\n  };\n\n  return (\n    <div style={{\n      minHeight: \"100vh\",\n      background: \"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)\",\n      color: \"#e2e8f0\",\n      padding: \"2rem\"\n    }}>\n      {/* Header */}\n      <div style={{\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        marginBottom: \"2rem\",\n        padding: \"1rem\",\n        background: \"rgba(15, 23, 42, 0.8)\",\n        borderRadius: \"8px\",\n        border: \"1px solid #334155\"\n      }}>\n        <div>\n          <h1 style={{ margin: 0, fontSize: \"2rem\", fontWeight: \"bold\" }}>Spell Assignment</h1>\n          <p style={{ margin: \"0.5rem 0 0\", opacity: 0.8 }}>\n            Assign spells to characters based on their class and abilities\n          </p>\n        </div>\n        {onBack && (\n          <button\n            onClick={onBack}\n            style={{\n              padding: \"0.5rem 1rem\",\n              background: \"#475569\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"6px\",\n              cursor: \"pointer\"\n            }}\n          >\n            Back to Menu\n          </button>\n        )}\n      </div>\n\n      <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"2rem\" }}>\n        {/* Left Panel - Spell Assignment */}\n        <div style={{\n          background: \"rgba(30, 41, 59, 0.8)\",\n          border: \"1px solid #334155\",\n          borderRadius: \"8px\",\n          padding: \"1.5rem\"\n        }}>\n          <h2 style={{ margin: \"0 0 1rem\", color: \"#3b82f6\" }}>Assign Spells</h2>\n\n          {characters.length === 0 && (\n            <p style={{ color: \"#94a3b8\", fontStyle: \"italic\" }}>\n              No characters found. Create some characters first!\n            </p>\n          )}\n\n          {availableSpells.length === 0 && (\n            <p style={{ color: \"#94a3b8\", fontStyle: \"italic\" }}>\n              No spells available. Generate some spells first!\n            </p>\n          )}\n\n          {characters.length > 0 && availableSpells.length > 0 && (\n            <>\n              {/* Character Selection */}\n              <div style={{ marginBottom: \"1rem\" }}>\n                <label style={{ display: \"block\", marginBottom: \"0.5rem\", fontWeight: \"bold\" }}>\n                  Select Character:\n                </label>\n                <select\n                  value={selectedCharacter}\n                  onChange={(e) => setSelectedCharacter(parseInt(e.target.value))}\n                  style={{\n                    width: \"100%\",\n                    padding: \"0.5rem\",\n                    background: \"#1e293b\",\n                    border: \"1px solid #475569\",\n                    borderRadius: \"4px\",\n                    color: \"#e2e8f0\"\n                  }}\n                >\n                  <option value={-1}>Choose a character...</option>\n                  {characters.map((char, index) => {\n                    const spellInfo = getSpellcastingInfo(char);\n                    const characterClass = getCharacterClass(char);\n                    const level = getCharacterLevel(char);\n                    return (\n                      <option key={index} value={index}>\n                        {char.name} ({characterClass}, Level {level}\n                        {spellInfo ? ` - Max Spell Level ${spellInfo.maxLevel}` : ' - No Spellcasting'})\n                      </option>\n                    );\n                  })}\n                </select>\n              </div>\n\n              {/* Spell Selection */}\n              <div style={{ marginBottom: \"1rem\" }}>\n                <label style={{ display: \"block\", marginBottom: \"0.5rem\", fontWeight: \"bold\" }}>\n                  Select Spell:\n                </label>\n                <select\n                  value={selectedSpell}\n                  onChange={(e) => setSelectedSpell(parseInt(e.target.value))}\n                  style={{\n                    width: \"100%\",\n                    padding: \"0.5rem\",\n                    background: \"#1e293b\",\n                    border: \"1px solid #475569\",\n                    borderRadius: \"4px\",\n                    color: \"#e2e8f0\"\n                  }}\n                >\n                  <option value={-1}>Choose a spell...</option>\n                  {availableSpells.map((spell, index) => {\n                    const canLearn = selectedCharacter >= 0 ? \n                      canCharacterLearnSpell(characters[selectedCharacter], spell) : true;\n                    return (\n                      <option \n                        key={index} \n                        value={index} \n                        disabled={!canLearn}\n                        style={{ color: canLearn ? \"#e2e8f0\" : \"#6b7280\" }}\n                      >\n                        {spell.name} (Level {spell.level}, {spell.school})\n                        {!canLearn ? \" - Cannot Learn\" : \"\"}\n                      </option>\n                    );\n                  })}\n                </select>\n              </div>\n\n              {/* Assign Button */}\n              <button\n                onClick={assignSpell}\n                disabled={selectedCharacter === -1 || selectedSpell === -1}\n                style={{\n                  width: \"100%\",\n                  padding: \"0.75rem\",\n                  background: selectedCharacter >= 0 && selectedSpell >= 0 ? \"#3b82f6\" : \"#475569\",\n                  color: \"white\",\n                  border: \"none\",\n                  borderRadius: \"6px\",\n                  fontSize: \"1rem\",\n                  cursor: selectedCharacter >= 0 && selectedSpell >= 0 ? \"pointer\" : \"not-allowed\",\n                  fontWeight: \"bold\"\n                }}\n              >\n                Assign Spell\n              </button>\n\n              {/* Spell Compatibility Info */}\n              {selectedCharacter >= 0 && selectedSpell >= 0 && (\n                <div style={{\n                  marginTop: \"1rem\",\n                  padding: \"1rem\",\n                  background: canCharacterLearnSpell(characters[selectedCharacter], availableSpells[selectedSpell])\n                    ? \"rgba(34, 197, 94, 0.1)\" : \"rgba(239, 68, 68, 0.1)\",\n                  border: `1px solid ${canCharacterLearnSpell(characters[selectedCharacter], availableSpells[selectedSpell])\n                    ? \"#22c55e\" : \"#ef4444\"}`,\n                  borderRadius: \"6px\"\n                }}>\n                  <p style={{ margin: 0, fontSize: \"0.9rem\" }}>\n                    {canCharacterLearnSpell(characters[selectedCharacter], availableSpells[selectedSpell])\n                      ? `✓ ${characters[selectedCharacter].name} can learn ${availableSpells[selectedSpell].name}!`\n                      : `✗ ${characters[selectedCharacter].name} cannot learn ${availableSpells[selectedSpell].name}.`\n                    }\n                  </p>\n                </div>\n              )}\n            </>\n          )}\n        </div>\n\n        {/* Right Panel - Character Spell Lists */}\n        <div style={{\n          background: \"rgba(30, 41, 59, 0.8)\",\n          border: \"1px solid #334155\",\n          borderRadius: \"8px\",\n          padding: \"1.5rem\"\n        }}>\n          <h2 style={{ margin: \"0 0 1rem\", color: \"#22c55e\" }}>Character Spells</h2>\n\n          {characters.length === 0 ? (\n            <p style={{ color: \"#94a3b8\", fontStyle: \"italic\" }}>\n              No characters to display.\n            </p>\n          ) : (\n            <div style={{ maxHeight: \"70vh\", overflowY: \"auto\" }}>\n              {characters.map((char, charIndex) => {\n                const spellInfo = getSpellcastingInfo(char);\n                return (\n                  <div\n                    key={charIndex}\n                    style={{\n                      marginBottom: \"1.5rem\",\n                      padding: \"1rem\",\n                      background: \"rgba(15, 23, 42, 0.6)\",\n                      border: \"1px solid #475569\",\n                      borderRadius: \"6px\"\n                    }}\n                  >\n                    <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n                      <h3 style={{ margin: 0, color: \"#f8fafc\" }}>{char.name}</h3>\n                      <span style={{ fontSize: \"0.8rem\", color: \"#94a3b8\" }}>\n                        {getCharacterClass(char)} Level {getCharacterLevel(char)}\n                      </span>\n                    </div>\n\n                    {spellInfo ? (\n                      <>\n                        <p style={{ margin: \"0.5rem 0\", fontSize: \"0.8rem\", color: \"#94a3b8\" }}>\n                          Spellcasting Stat: {spellInfo.stat} | Max Spell Level: {spellInfo.maxLevel}\n                        </p>\n\n                        {/* Cantrips */}\n                        {char.knownCantrips && char.knownCantrips.length > 0 && (\n                          <div style={{ marginBottom: \"0.5rem\" }}>\n                            <h4 style={{ margin: \"0 0 0.25rem\", fontSize: \"0.9rem\", color: \"#60a5fa\" }}>\n                              Cantrips:\n                            </h4>\n                            {char.knownCantrips.map((cantrip, spellIndex) => (\n                              <div key={spellIndex} style={{ \n                                display: \"flex\", \n                                justifyContent: \"space-between\", \n                                alignItems: \"center\",\n                                padding: \"0.25rem 0.5rem\",\n                                background: \"rgba(59, 130, 246, 0.1)\",\n                                border: \"1px solid #3b82f6\",\n                                borderRadius: \"4px\",\n                                margin: \"0.25rem 0\",\n                                fontSize: \"0.8rem\"\n                              }}>\n                                <span>{cantrip}</span>\n                                <button\n                                  onClick={() => removeSpell(charIndex, cantrip, true)}\n                                  style={{\n                                    background: \"#ef4444\",\n                                    color: \"white\",\n                                    border: \"none\",\n                                    borderRadius: \"3px\",\n                                    padding: \"0.125rem 0.25rem\",\n                                    fontSize: \"0.7rem\",\n                                    cursor: \"pointer\"\n                                  }}\n                                >\n                                  Remove\n                                </button>\n                              </div>\n                            ))}\n                          </div>\n                        )}\n\n                        {/* Spells */}\n                        {char.knownSpells && char.knownSpells.length > 0 && (\n                          <div>\n                            <h4 style={{ margin: \"0 0 0.25rem\", fontSize: \"0.9rem\", color: \"#34d399\" }}>\n                              Spells:\n                            </h4>\n                            {char.knownSpells.map((spell, spellIndex) => (\n                              <div key={spellIndex} style={{ \n                                display: \"flex\", \n                                justifyContent: \"space-between\", \n                                alignItems: \"center\",\n                                padding: \"0.25rem 0.5rem\",\n                                background: \"rgba(34, 197, 94, 0.1)\",\n                                border: \"1px solid #22c55e\",\n                                borderRadius: \"4px\",\n                                margin: \"0.25rem 0\",\n                                fontSize: \"0.8rem\"\n                              }}>\n                                <span>{spell}</span>\n                                <button\n                                  onClick={() => removeSpell(charIndex, spell, false)}\n                                  style={{\n                                    background: \"#ef4444\",\n                                    color: \"white\",\n                                    border: \"none\",\n                                    borderRadius: \"3px\",\n                                    padding: \"0.125rem 0.25rem\",\n                                    fontSize: \"0.7rem\",\n                                    cursor: \"pointer\"\n                                  }}\n                                >\n                                  Remove\n                                </button>\n                              </div>\n                            ))}\n                          </div>\n                        )}\n\n                        {(!char.knownSpells || char.knownSpells.length === 0) && \n                         (!char.knownCantrips || char.knownCantrips.length === 0) && (\n                          <p style={{ fontSize: \"0.8rem\", color: \"#6b7280\", fontStyle: \"italic\" }}>\n                            No spells learned yet.\n                          </p>\n                        )}\n                      </>\n                    ) : (\n                      <p style={{ fontSize: \"0.8rem\", color: \"#6b7280\", fontStyle: \"italic\" }}>\n                        This class cannot cast spells.\n                      </p>\n                    )}\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}","import React, { useState } from 'react';\n\ninterface Character {\n  name: string;\n  class: string;\n  baseStats: {\n    strength: number;\n    constitution: number;\n    wisdom: number;\n    intelligence: number;\n    dexterity: number;\n    charisma: number;\n  };\n  finalStats: {\n    strength: number;\n    constitution: number;\n    wisdom: number;\n    intelligence: number;\n    dexterity: number;\n    charisma: number;\n  };\n  hitPoints: number;\n  level: number;\n  knownSpells?: string[];\n  knownCantrips?: string[];\n}\n\ninterface GeneratedSpell {\n  name: string;\n  level: number;\n  school: string;\n  castingTime: string;\n  range: string;\n  components: string[];\n  duration: string;\n  description: string;\n  color: string;\n}\n\ninterface HealingSystemProps {\n  onBack?: () => void;\n}\n\nexport default function HealingSystem({ onBack }: HealingSystemProps) {\n  const [characters, setCharacters] = useState<Character[]>([]);\n  const [availableSpells, setAvailableSpells] = useState<GeneratedSpell[]>([]);\n  const [healingLog, setHealingLog] = useState<string[]>([]);\n\n  // Load characters and spells on component mount\n  React.useEffect(() => {\n    try {\n      const savedCharacters = JSON.parse(localStorage.getItem('world-engine-characters') || '[]');\n      const savedSpells = JSON.parse(localStorage.getItem('world-engine-saved-spells') || '[]');\n      \n      // Debug: Log the raw saved characters\n      console.log('Raw saved characters:', savedCharacters);\n      \n      // Always include test characters for easy testing\n      const testCharacters: Character[] = [\n        {\n          name: \"Elara the Cleric\",\n          class: \"Cleric\",\n          baseStats: { strength: 12, constitution: 14, wisdom: 16, intelligence: 10, dexterity: 13, charisma: 15 },\n          finalStats: { strength: 12, constitution: 14, wisdom: 16, intelligence: 10, dexterity: 13, charisma: 15 },\n          hitPoints: 32, // Slightly injured\n          level: 3,\n          knownSpells: [\"Cure Light Wounds\", \"Healing Word\", \"Prayer of Healing\"]\n        },\n        {\n          name: \"Thorin Ironbeard\",\n          class: \"Fighter\",\n          baseStats: { strength: 16, constitution: 15, wisdom: 11, intelligence: 9, dexterity: 12, charisma: 10 },\n          finalStats: { strength: 16, constitution: 15, wisdom: 11, intelligence: 9, dexterity: 12, charisma: 10 },\n          hitPoints: 18, // Badly injured\n          level: 2\n        },\n        {\n          name: \"Luna Shadowstep\",\n          class: \"Rogue\",\n          baseStats: { strength: 10, constitution: 12, wisdom: 14, intelligence: 13, dexterity: 17, charisma: 11 },\n          finalStats: { strength: 10, constitution: 12, wisdom: 14, intelligence: 13, dexterity: 17, charisma: 11 },\n          hitPoints: 22, // Moderately injured\n          level: 2\n        }\n      ];\n      \n      // Merge test characters with saved characters, avoiding duplicates by name\n      const allCharacters = [...testCharacters];\n      \n      // Add saved characters that aren't already in test characters\n      savedCharacters.forEach((savedChar: any) => {\n        // Check if this is a character from CharacterCreate (has characterClass and data field)\n        if (savedChar.characterClass && savedChar.name && !allCharacters.find(test => test.name === savedChar.name)) {\n          // Get character data from nested structure\n          const charData = savedChar.data || savedChar;\n          \n          // Calculate HP based on constitution and level (more realistic)\n          const constitution = charData.constitution || charData.baseStats?.constitution || 14;\n          const level = savedChar.level || charData.level || 1;\n          const baseHP = 10 + Math.floor((constitution - 10) / 2) * level;\n          const maxHP = Math.max(baseHP + (level * 6), 20); // Minimum 20 HP\n          \n          // Convert saved character format to expected format\n          const normalizedChar: Character = {\n            name: savedChar.name,\n            class: savedChar.characterClass,\n            baseStats: { \n              strength: charData.strength || 10, \n              constitution: constitution, \n              wisdom: charData.wisdom || 12, \n              intelligence: charData.intelligence || 11, \n              dexterity: charData.dexterity || 13, \n              charisma: charData.charisma || 10 \n            },\n            finalStats: { \n              strength: charData.strength || 10, \n              constitution: constitution, \n              wisdom: charData.wisdom || 12, \n              intelligence: charData.intelligence || 11, \n              dexterity: charData.dexterity || 13, \n              charisma: charData.charisma || 10 \n            },\n            hitPoints: maxHP, // Start at full HP\n            level: level,\n            knownSpells: charData.knownSpells || [],\n            knownCantrips: charData.knownCantrips || []\n          };\n          allCharacters.push(normalizedChar);\n        }\n      });\n      \n      setCharacters(allCharacters);\n      addToLog(`Loaded ${allCharacters.length} characters for healing system (${testCharacters.length} test + ${allCharacters.length - testCharacters.length} saved)`);\n      \n      // Debug log for custom characters\n      const customChars = allCharacters.filter(char => !testCharacters.find(test => test.name === char.name));\n      if (customChars.length > 0) {\n        addToLog(`Custom characters loaded: ${customChars.map(c => `${c.name} (${c.hitPoints} HP)`).join(', ')}`);\n      }\n      \n      setAvailableSpells(savedSpells);\n    } catch (error) {\n      console.error('Error loading data:', error);\n      // Fallback to just test characters\n      const testCharacters: Character[] = [\n        {\n          name: \"Elara the Cleric\",\n          class: \"Cleric\",\n          baseStats: { strength: 12, constitution: 14, wisdom: 16, intelligence: 10, dexterity: 13, charisma: 15 },\n          finalStats: { strength: 12, constitution: 14, wisdom: 16, intelligence: 10, dexterity: 13, charisma: 15 },\n          hitPoints: 32,\n          level: 3,\n          knownSpells: [\"Cure Light Wounds\", \"Healing Word\", \"Prayer of Healing\"]\n        }\n      ];\n      setCharacters(testCharacters);\n      addToLog(\"Loaded fallback test characters\");\n    }\n  }, []);\n\n  const addToLog = (message: string) => {\n    setHealingLog(prev => [...prev, message]);\n  };\n\n  const rollDice = (sides: number): number => {\n    return Math.floor(Math.random() * sides) + 1;\n  };\n\n  const getModifier = (stat: number): number => {\n    return Math.floor((stat - 10) / 2);\n  };\n\n  const castHealingSpell = (caster: Character, spell: GeneratedSpell, target: Character) => {\n    const spellDesc = spell.description.toLowerCase();\n    const isHealing = spellDesc.includes('heal') || spellDesc.includes('restore');\n    \n    if (!isHealing) {\n      addToLog(`❌ ${spell.name} is not a healing spell!`);\n      return;\n    }\n\n    // Calculate healing amount based on spell level and caster's wisdom\n    let healingAmount = 0;\n    const wisModifier = getModifier(caster.finalStats.wisdom);\n    \n    if (spell.level === 0) {\n      // Cantrip healing\n      healingAmount = rollDice(4) + wisModifier;\n    } else {\n      // Leveled spell healing\n      healingAmount = rollDice(8) * spell.level + wisModifier;\n    }\n\n    healingAmount = Math.max(1, healingAmount); // Minimum 1 healing\n\n    const oldHP = target.hitPoints;\n    const newHP = Math.min(target.hitPoints + healingAmount, 100); // Assuming max 100 HP\n\n    setCharacters(prev => \n      prev.map(char => \n        char.name === target.name \n          ? { ...char, hitPoints: newHP }\n          : char\n      )\n    );\n\n    const actualHealing = newHP - oldHP;\n    addToLog(`✨ ${caster.name} casts ${spell.name} on ${target.name}`);\n    addToLog(`💚 ${target.name} heals ${actualHealing} HP (${oldHP} → ${newHP})`);\n    \n    if (actualHealing === 0) {\n      addToLog(`${target.name} is already at full health!`);\n    }\n  };\n\n  const naturalHealing = (character: Character) => {\n    const conModifier = getModifier(character.finalStats.constitution);\n    const healingAmount = Math.max(1, rollDice(4) + conModifier);\n    \n    const oldHP = character.hitPoints;\n    const newHP = Math.min(character.hitPoints + healingAmount, 100);\n\n    setCharacters(prev => \n      prev.map(char => \n        char.name === character.name \n          ? { ...char, hitPoints: newHP }\n          : char\n      )\n    );\n\n    const actualHealing = newHP - oldHP;\n    addToLog(`🛡️ ${character.name} takes a rest and recovers naturally`);\n    addToLog(`💚 Natural healing: ${actualHealing} HP (${oldHP} → ${newHP})`);\n  };\n\n  const simulateInjury = (character: Character) => {\n    // Make sure character has valid hitPoints\n    if (isNaN(character.hitPoints) || character.hitPoints === undefined) {\n      addToLog(`❌ Error: ${character.name} has invalid HP data. Cannot simulate injury.`);\n      return;\n    }\n\n    const damage = rollDice(20) + rollDice(6); // Random damage for testing\n    const oldHP = character.hitPoints;\n    const newHP = Math.max(0, character.hitPoints - damage);\n\n    setCharacters(prev => \n      prev.map(char => \n        char.name === character.name \n          ? { ...char, hitPoints: newHP }\n          : char\n      )\n    );\n\n    addToLog(`💥 ${character.name} suffers an injury: ${damage} damage (${oldHP} → ${newHP})`);\n    \n    if (newHP === 0) {\n      addToLog(`💀 ${character.name} is unconscious and needs immediate healing!`);\n    }\n  };\n\n  const getHealingSpells = (): GeneratedSpell[] => {\n    return availableSpells.filter(spell => \n      spell.description.toLowerCase().includes('heal') || \n      spell.description.toLowerCase().includes('restore')\n    );\n  };\n\n  const getHealthColor = (hp: number): string => {\n    if (hp <= 0) return '#991b1b';\n    if (hp <= 25) return '#dc2626';\n    if (hp <= 50) return '#f59e0b';\n    if (hp <= 75) return '#eab308';\n    return '#10b981';\n  };\n\n  const getHealthStatus = (hp: number): string => {\n    if (hp <= 0) return 'Unconscious';\n    if (hp <= 25) return 'Critical';\n    if (hp <= 50) return 'Injured';\n    if (hp <= 75) return 'Wounded';\n    return 'Healthy';\n  };\n\n  const healingSpells = getHealingSpells();\n\n  return (\n    <div style={{\n      minHeight: \"100vh\",\n      background: \"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)\",\n      color: \"#e2e8f0\",\n      padding: \"2rem\"\n    }}>\n      {/* Header */}\n      <div style={{\n        padding: \"1.5rem 2rem\",\n        borderBottom: \"1px solid #334155\",\n        background: \"rgba(15, 23, 42, 0.8)\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        borderRadius: \"8px\",\n        marginBottom: \"2rem\"\n      }}>\n        <div>\n          <h1 style={{ margin: 0, fontSize: \"2.5rem\", fontWeight: \"bold\" }}>⚕️ Healing & Recovery System</h1>\n          <p style={{ margin: \"0.5rem 0 0\", opacity: 0.8 }}>\n            Manage your party's health and use healing magic\n          </p>\n        </div>\n        {onBack && (\n          <button\n            onClick={onBack}\n            style={{\n              padding: \"0.75rem 1.5rem\",\n              background: \"#374151\",\n              color: \"#f9fafb\",\n              border: \"none\",\n              borderRadius: \"6px\",\n              cursor: \"pointer\",\n              fontSize: \"1rem\"\n            }}\n          >\n            Back to Menu\n          </button>\n        )}\n      </div>\n\n      <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"2rem\" }}>\n        {/* Character Health Status */}\n        <div style={{\n          background: \"rgba(15, 23, 42, 0.6)\",\n          borderRadius: \"8px\",\n          padding: \"1.5rem\",\n          border: \"1px solid #334155\"\n        }}>\n          <h2 style={{ margin: \"0 0 1.5rem\", color: \"#f1f5f9\" }}>👥 Party Health Status</h2>\n          \n          {characters.length === 0 ? (\n            <div style={{\n              textAlign: \"center\",\n              padding: \"2rem\",\n              color: \"#64748b\",\n              fontStyle: \"italic\"\n            }}>\n              No characters found. Create some characters first!\n            </div>\n          ) : (\n            <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"1rem\" }}>\n              {characters.map((character, index) => (\n                <div key={index} style={{\n                  padding: \"1rem\",\n                  background: \"rgba(15, 23, 42, 0.8)\",\n                  border: `2px solid ${getHealthColor(character.hitPoints)}`,\n                  borderRadius: \"6px\"\n                }}>\n                  <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n                    <div>\n                      <h3 style={{ margin: \"0 0 0.25rem\", color: \"#f1f5f9\" }}>{character.name}</h3>\n                      <p style={{ margin: 0, color: \"#94a3b8\", fontSize: \"0.9rem\" }}>\n                        {character.class} • Level {character.level}\n                      </p>\n                    </div>\n                    <div style={{ textAlign: \"right\" }}>\n                      <div style={{\n                        fontSize: \"1.2rem\",\n                        fontWeight: \"bold\",\n                        color: getHealthColor(character.hitPoints)\n                      }}>\n                        {character.hitPoints}/100 HP\n                      </div>\n                      <div style={{\n                        fontSize: \"0.8rem\",\n                        color: getHealthColor(character.hitPoints)\n                      }}>\n                        {getHealthStatus(character.hitPoints)}\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Health Bar */}\n                  <div style={{\n                    marginTop: \"0.75rem\",\n                    width: \"100%\",\n                    height: \"8px\",\n                    background: \"#374151\",\n                    borderRadius: \"4px\",\n                    overflow: \"hidden\"\n                  }}>\n                    <div style={{\n                      width: `${character.hitPoints}%`,\n                      height: \"100%\",\n                      background: getHealthColor(character.hitPoints),\n                      transition: \"width 0.3s ease\"\n                    }} />\n                  </div>\n\n                  {/* Action Buttons */}\n                  <div style={{\n                    marginTop: \"1rem\",\n                    display: \"flex\",\n                    gap: \"0.5rem\",\n                    flexWrap: \"wrap\"\n                  }}>\n                    <button\n                      onClick={() => naturalHealing(character)}\n                      style={{\n                        padding: \"0.5rem 1rem\",\n                        background: \"#059669\",\n                        color: \"white\",\n                        border: \"none\",\n                        borderRadius: \"4px\",\n                        cursor: \"pointer\",\n                        fontSize: \"0.9rem\"\n                      }}\n                    >\n                      🛏️ Natural Rest\n                    </button>\n                    <button\n                      onClick={() => simulateInjury(character)}\n                      style={{\n                        padding: \"0.5rem 1rem\",\n                        background: \"#dc2626\",\n                        color: \"white\",\n                        border: \"none\",\n                        borderRadius: \"4px\",\n                        cursor: \"pointer\",\n                        fontSize: \"0.9rem\"\n                      }}\n                    >\n                      💥 Simulate Injury\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Healing Magic */}\n        <div style={{\n          background: \"rgba(15, 23, 42, 0.6)\",\n          borderRadius: \"8px\",\n          padding: \"1.5rem\",\n          border: \"1px solid #334155\"\n        }}>\n          <h2 style={{ margin: \"0 0 1.5rem\", color: \"#f1f5f9\" }}>✨ Healing Magic</h2>\n          \n          {healingSpells.length === 0 ? (\n            <div style={{\n              textAlign: \"center\",\n              padding: \"2rem\",\n              color: \"#64748b\",\n              fontStyle: \"italic\"\n            }}>\n              No healing spells found. Generate some healing spells in the Spell Generator!\n            </div>\n          ) : (\n            <div>\n              <p style={{ color: \"#94a3b8\", marginBottom: \"1rem\" }}>\n                Available healing spells: {healingSpells.length}\n              </p>\n              \n              <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"1rem\" }}>\n                {healingSpells.map((spell, spellIndex) => (\n                  <div key={spellIndex} style={{\n                    padding: \"1rem\",\n                    background: \"rgba(15, 23, 42, 0.8)\",\n                    border: `2px solid ${spell.color}`,\n                    borderRadius: \"6px\"\n                  }}>\n                    <div style={{ marginBottom: \"0.75rem\" }}>\n                      <h4 style={{ margin: \"0 0 0.25rem\", color: spell.color }}>\n                        {spell.name}\n                      </h4>\n                      <p style={{ margin: 0, fontSize: \"0.8rem\", color: \"#94a3b8\" }}>\n                        {spell.level === 0 ? \"Cantrip\" : `Level ${spell.level}`} • {spell.school}\n                      </p>\n                      <p style={{ margin: \"0.5rem 0\", fontSize: \"0.9rem\", color: \"#cbd5e1\" }}>\n                        {spell.description}\n                      </p>\n                    </div>\n\n                    {/* Caster Selection */}\n                    <div style={{ marginBottom: \"0.75rem\" }}>\n                      <label style={{ fontSize: \"0.9rem\", color: \"#94a3b8\", marginBottom: \"0.5rem\", display: \"block\" }}>\n                        Choose caster:\n                      </label>\n                      <select style={{\n                        width: \"100%\",\n                        padding: \"0.5rem\",\n                        background: \"#374151\",\n                        border: \"1px solid #6b7280\",\n                        borderRadius: \"4px\",\n                        color: \"#f9fafb\"\n                      }}>\n                        <option value=\"\">Select a character...</option>\n                        {characters.map((char, charIndex) => (\n                          <option key={charIndex} value={charIndex}>\n                            {char.name} (Level {char.level} {char.class})\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n\n                    {/* Target Selection */}\n                    <div style={{ marginBottom: \"0.75rem\" }}>\n                      <label style={{ fontSize: \"0.9rem\", color: \"#94a3b8\", marginBottom: \"0.5rem\", display: \"block\" }}>\n                        Choose target:\n                      </label>\n                      <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: \"0.5rem\" }}>\n                        {characters.map((char, charIndex) => (\n                          <button\n                            key={charIndex}\n                            onClick={() => {\n                              const casterSelect = document.querySelector(`select`) as HTMLSelectElement;\n                              const casterIndex = parseInt(casterSelect?.value || '0');\n                              if (casterSelect?.value && characters[casterIndex]) {\n                                castHealingSpell(characters[casterIndex], spell, char);\n                              } else {\n                                addToLog('❌ Please select a caster first!');\n                              }\n                            }}\n                            style={{\n                              padding: \"0.5rem 0.75rem\",\n                              background: char.hitPoints < 100 ? \"#3b82f6\" : \"#6b7280\",\n                              color: \"white\",\n                              border: \"none\",\n                              borderRadius: \"4px\",\n                              cursor: char.hitPoints < 100 ? \"pointer\" : \"not-allowed\",\n                              fontSize: \"0.8rem\"\n                            }}\n                            disabled={char.hitPoints >= 100}\n                          >\n                            {char.name} ({char.hitPoints}/100)\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Healing Log */}\n      <div style={{\n        marginTop: \"2rem\",\n        padding: \"1.5rem\",\n        background: \"rgba(15, 23, 42, 0.6)\",\n        borderRadius: \"8px\",\n        border: \"1px solid #334155\"\n      }}>\n        <h3 style={{ margin: \"0 0 1rem\", color: \"#f1f5f9\" }}>📜 Healing Log</h3>\n        <div style={{\n          background: \"rgba(0, 0, 0, 0.3)\",\n          borderRadius: \"4px\",\n          padding: \"1rem\",\n          maxHeight: \"200px\",\n          overflowY: \"auto\",\n          fontSize: \"0.9rem\"\n        }}>\n          {healingLog.length === 0 ? (\n            <p style={{ color: \"#64748b\", fontStyle: \"italic\" }}>No healing actions yet...</p>\n          ) : (\n            healingLog.slice(-10).map((entry, index) => (\n              <div key={index} style={{ marginBottom: \"0.5rem\", color: \"#d1d5db\" }}>\n                {entry}\n              </div>\n            ))\n          )}\n        </div>\n        \n        <button\n          onClick={() => setHealingLog([])}\n          style={{\n            marginTop: \"1rem\",\n            padding: \"0.5rem 1rem\",\n            background: \"#6b7280\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\",\n            fontSize: \"0.9rem\"\n          }}\n        >\n          Clear Log\n        </button>\n      </div>\n    </div>\n  );\n}","/**\n * Deterministic Noise System for World Generation\n * \n * Features:\n * - Seeded value noise with deterministic results\n * - Fractal Brownian Motion (fBm) for complex terrain\n * - Domain warping for continental shapes\n * - No external dependencies\n */\n\nexport class SeededRandom {\n  private seed: number;\n  \n  constructor(seed: string | number) {\n    this.seed = typeof seed === 'string' ? this.hash(seed) : seed;\n  }\n  \n  private hash(str: string): number {\n    let h = 2166136261 >>> 0;\n    for (let i = 0; i < str.length; i++) {\n      h ^= str.charCodeAt(i);\n      h = Math.imul(h, 16777619);\n    }\n    return h >>> 0;\n  }\n  \n  next(): number {\n    let x = this.seed + 0x9e3779b9;\n    x ^= x << 13;\n    x ^= x >>> 17;\n    x ^= x << 5;\n    this.seed = x >>> 0;\n    return (this.seed >>> 0) / 0x100000000;\n  }\n  \n  nextFloat(min: number = 0, max: number = 1): number {\n    return min + this.next() * (max - min);\n  }\n  \n  nextInt(min: number, max: number): number {\n    return Math.floor(this.nextFloat(min, max + 1));\n  }\n  \n  pick<T>(array: readonly T[]): T {\n    return array[this.nextInt(0, array.length - 1)];\n  }\n}\n\n/**\n * 2D Value Noise Generator\n * Deterministic noise based on grid coordinates\n */\nexport class ValueNoise2D {\n  private permTable: number[];\n  private gradients: { x: number; y: number }[];\n  \n  constructor(seed: string | number) {\n    const rng = new SeededRandom(seed);\n    \n    // Generate permutation table\n    this.permTable = Array.from({ length: 512 }, (_, i) => i % 256);\n    \n    // Shuffle using seeded random\n    for (let i = this.permTable.length - 1; i > 0; i--) {\n      const j = rng.nextInt(0, i);\n      [this.permTable[i], this.permTable[j]] = [this.permTable[j], this.permTable[i]];\n    }\n    \n    // Duplicate for wrapping\n    for (let i = 0; i < 256; i++) {\n      this.permTable[256 + i] = this.permTable[i];\n    }\n    \n    // Generate gradient vectors\n    this.gradients = [];\n    for (let i = 0; i < 256; i++) {\n      const angle = rng.nextFloat(0, Math.PI * 2);\n      this.gradients.push({\n        x: Math.cos(angle),\n        y: Math.sin(angle)\n      });\n    }\n  }\n  \n  private fade(t: number): number {\n    // Smootherstep: 6t^5 - 15t^4 + 10t^3\n    return t * t * t * (t * (t * 6 - 15) + 10);\n  }\n  \n  private lerp(a: number, b: number, t: number): number {\n    return a + t * (b - a);\n  }\n  \n  private grad(hash: number, x: number, y: number): number {\n    const g = this.gradients[hash & 255];\n    return g.x * x + g.y * y;\n  }\n  \n  /**\n   * Get noise value at (x, y)\n   * Returns value in range [-1, 1]\n   */\n  noise(x: number, y: number): number {\n    const X = Math.floor(x) & 255;\n    const Y = Math.floor(y) & 255;\n    \n    x -= Math.floor(x);\n    y -= Math.floor(y);\n    \n    const u = this.fade(x);\n    const v = this.fade(y);\n    \n    const A = this.permTable[X] + Y;\n    const B = this.permTable[X + 1] + Y;\n    \n    return this.lerp(\n      this.lerp(\n        this.grad(this.permTable[A], x, y),\n        this.grad(this.permTable[B], x - 1, y),\n        u\n      ),\n      this.lerp(\n        this.grad(this.permTable[A + 1], x, y - 1),\n        this.grad(this.permTable[B + 1], x - 1, y - 1),\n        u\n      ),\n      v\n    );\n  }\n  \n  /**\n   * Fractal Brownian Motion - layered noise for complex terrain\n   */\n  fbm(x: number, y: number, octaves: number = 6, persistence: number = 0.5, lacunarity: number = 2.0): number {\n    let value = 0;\n    let amplitude = 1;\n    let frequency = 1;\n    let maxValue = 0;\n    \n    for (let i = 0; i < octaves; i++) {\n      value += this.noise(x * frequency, y * frequency) * amplitude;\n      maxValue += amplitude;\n      amplitude *= persistence;\n      frequency *= lacunarity;\n    }\n    \n    return value / maxValue;\n  }\n  \n  /**\n   * Ridge noise - good for mountain ridges\n   */\n  ridge(x: number, y: number, octaves: number = 6, persistence: number = 0.5, lacunarity: number = 2.0): number {\n    let value = 0;\n    let amplitude = 1;\n    let frequency = 1;\n    let maxValue = 0;\n    \n    for (let i = 0; i < octaves; i++) {\n      const n = Math.abs(this.noise(x * frequency, y * frequency));\n      value += (1 - n) * amplitude;\n      maxValue += amplitude;\n      amplitude *= persistence;\n      frequency *= lacunarity;\n    }\n    \n    return value / maxValue;\n  }\n}\n\n/**\n * Domain Warping for Continental Shapes\n * Distorts coordinate space to create more organic landmasses\n */\nexport class DomainWarp {\n  private noiseX: ValueNoise2D;\n  private noiseY: ValueNoise2D;\n  \n  constructor(seed: string | number) {\n    this.noiseX = new ValueNoise2D(`${seed}_warpX`);\n    this.noiseY = new ValueNoise2D(`${seed}_warpY`);\n  }\n  \n  /**\n   * Apply domain warp to coordinates\n   * Returns warped {x, y} coordinates\n   */\n  warp(x: number, y: number, strength: number = 100): { x: number; y: number } {\n    const warpX = this.noiseX.fbm(x * 0.01, y * 0.01, 4) * strength;\n    const warpY = this.noiseY.fbm(x * 0.01, y * 0.01, 4) * strength;\n    \n    return {\n      x: x + warpX,\n      y: y + warpY\n    };\n  }\n}\n\n/**\n * World Generation Noise Coordinator\n * Combines multiple noise layers for believable terrain\n */\nexport class WorldNoise {\n  public elevation: ValueNoise2D;\n  public temperature: ValueNoise2D;\n  public moisture: ValueNoise2D;\n  public warp: DomainWarp;\n  \n  constructor(public seed: string) {\n    this.elevation = new ValueNoise2D(`${seed}_elev`);\n    this.temperature = new ValueNoise2D(`${seed}_temp`);\n    this.moisture = new ValueNoise2D(`${seed}_moist`);\n    this.warp = new DomainWarp(`${seed}_warp`);\n  }\n  \n  /**\n   * Generate elevation with continental warping\n   */\n  getElevation(x: number, y: number, continentFreq: number = 1/1024, warpStrength: number = 700): number {\n    const warped = this.warp.warp(x, y, warpStrength);\n    return this.elevation.fbm(warped.x * continentFreq, warped.y * continentFreq, 6, 0.6, 2.0);\n  }\n  \n  /**\n   * Generate temperature based on latitude and elevation\n   */\n  getTemperature(x: number, y: number, elevation: number, mapHeight: number): number {\n    const latitude = Math.abs(y - mapHeight / 2) / (mapHeight / 2); // 0 at equator, 1 at poles\n    const baseTemp = 1 - latitude; // Hot at equator, cold at poles\n    const altitudeCooling = Math.max(0, elevation - 0.3) * 0.8; // High elevation is cooler\n    const noise = this.temperature.fbm(x * 0.005, y * 0.005, 3, 0.3, 2.0) * 0.2;\n    \n    return Math.max(0, Math.min(1, baseTemp - altitudeCooling + noise));\n  }\n  \n  /**\n   * Generate moisture with windward/leeward effects\n   */\n  getMoisture(x: number, y: number, elevation: number): number {\n    const baseMoisture = this.moisture.fbm(x * 0.003, y * 0.003, 4, 0.5, 2.0);\n    \n    // Simplified windward effect (higher moisture on west-facing slopes)\n    const windwardBonus = elevation > 0.4 ? \n      Math.max(0, this.elevation.noise(x * 0.01, y * 0.01)) * 0.3 : 0;\n    \n    return Math.max(0, Math.min(1, (baseMoisture + 1) / 2 + windwardBonus));\n  }\n}\n\n/**\n * Utility functions for noise-based generation\n */\nexport class NoiseUtils {\n  /**\n   * Clamp value to range\n   */\n  static clamp(value: number, min: number, max: number): number {\n    return Math.max(min, Math.min(max, value));\n  }\n  \n  /**\n   * Smooth step interpolation\n   */\n  static smoothstep(edge0: number, edge1: number, x: number): number {\n    const t = NoiseUtils.clamp((x - edge0) / (edge1 - edge0), 0, 1);\n    return t * t * (3 - 2 * t);\n  }\n  \n  /**\n   * Linear interpolation\n   */\n  static lerp(a: number, b: number, t: number): number {\n    return a + t * (b - a);\n  }\n  \n  /**\n   * Remap value from one range to another\n   */\n  static remap(value: number, inMin: number, inMax: number, outMin: number, outMax: number): number {\n    return outMin + (value - inMin) * (outMax - outMin) / (inMax - inMin);\n  }\n}","/**\n * Chunk Manager for Lazy World Generation\n * \n * Manages world generation in chunks to support:\n * - Memory-efficient streaming\n * - Proximity-based generation\n * - Smooth performance during exploration\n */\n\nimport { WorldNoise } from './noise';\n\nexport const CHUNK_SIZE = 32;\n\nexport interface Tile {\n  x: number;\n  y: number;\n  biome: BiomeType;\n  elevation: number;\n  temperature: number;\n  moisture: number;\n  river: boolean;\n  road: boolean;\n  settlement?: Settlement;\n  discovered: boolean;\n}\n\nexport type BiomeType = \n  | 'Ocean' | 'Coast' | 'Grass' | 'Forest' | 'Jungle' \n  | 'Savanna' | 'Desert' | 'Taiga' | 'Tundra' \n  | 'Swamp' | 'Mountain' | 'Snow';\n\nexport interface Settlement {\n  name: string;\n  size: 'village' | 'town' | 'city';\n  faction: string;\n  population: number;\n}\n\nexport interface ChunkCoord {\n  chunkX: number;\n  chunkY: number;\n}\n\nexport interface WorldChunk {\n  coord: ChunkCoord;\n  tiles: Map<string, Tile>; // Key: \"x,y\"\n  generated: boolean;\n  lastAccessed: number;\n}\n\nexport interface WorldGenConfig {\n  seaLevel: number;\n  continentFreq: number;\n  featureFreq: number;\n  warpStrength: number;\n  mapWidth: number;\n  mapHeight: number;\n}\n\nexport class ChunkManager {\n  private chunks: Map<string, WorldChunk> = new Map();\n  private noise: WorldNoise;\n  private config: WorldGenConfig;\n  \n  constructor(\n    public seed: string,\n    config: Partial<WorldGenConfig> = {}\n  ) {\n    this.noise = new WorldNoise(seed);\n    this.config = {\n      seaLevel: 0.0, // Almost no ocean, everything should be land\n      continentFreq: 1/1024,\n      featureFreq: 1/128,\n      warpStrength: 700,\n      mapWidth: 2048,\n      mapHeight: 2048,\n      ...config\n    };\n  }\n  \n  /**\n   * Convert world coordinates to chunk coordinates\n   */\n  worldToChunk(worldX: number, worldY: number): ChunkCoord {\n    return {\n      chunkX: Math.floor(worldX / CHUNK_SIZE),\n      chunkY: Math.floor(worldY / CHUNK_SIZE)\n    };\n  }\n  \n  /**\n   * Convert chunk coordinates to key string\n   */\n  chunkKey(chunkX: number, chunkY: number): string {\n    return `${chunkX},${chunkY}`;\n  }\n  \n  /**\n   * Convert world coordinates to tile key\n   */\n  tileKey(x: number, y: number): string {\n    return `${x},${y}`;\n  }\n  \n  /**\n   * Ensure chunks are loaded within radius of center point\n   */\n  ensureRadius(centerX: number, centerY: number, radius: number): void {\n    const centerChunk = this.worldToChunk(centerX, centerY);\n    const chunkRadius = Math.ceil(radius / CHUNK_SIZE) + 1;\n    \n    for (let dx = -chunkRadius; dx <= chunkRadius; dx++) {\n      for (let dy = -chunkRadius; dy <= chunkRadius; dy++) {\n        const chunkX = centerChunk.chunkX + dx;\n        const chunkY = centerChunk.chunkY + dy;\n        \n        // Check if this chunk is within the actual radius\n        const chunkCenterX = chunkX * CHUNK_SIZE + CHUNK_SIZE / 2;\n        const chunkCenterY = chunkY * CHUNK_SIZE + CHUNK_SIZE / 2;\n        const distance = Math.sqrt(\n          Math.pow(chunkCenterX - centerX, 2) + \n          Math.pow(chunkCenterY - centerY, 2)\n        );\n        \n        if (distance <= radius + CHUNK_SIZE) {\n          this.ensureChunk(chunkX, chunkY);\n        }\n      }\n    }\n  }\n  \n  /**\n   * Ensure a specific chunk is generated and loaded\n   */\n  ensureChunk(chunkX: number, chunkY: number): WorldChunk {\n    const key = this.chunkKey(chunkX, chunkY);\n    let chunk = this.chunks.get(key);\n    \n    if (!chunk) {\n      chunk = this.createChunk(chunkX, chunkY);\n      this.chunks.set(key, chunk);\n    }\n    \n    if (!chunk.generated) {\n      this.generateChunk(chunk);\n    }\n    \n    chunk.lastAccessed = Date.now();\n    return chunk;\n  }\n  \n  /**\n   * Create empty chunk structure\n   */\n  private createChunk(chunkX: number, chunkY: number): WorldChunk {\n    return {\n      coord: { chunkX, chunkY },\n      tiles: new Map(),\n      generated: false,\n      lastAccessed: Date.now()\n    };\n  }\n  \n  /**\n   * Generate all tiles in a chunk\n   */\n  private generateChunk(chunk: WorldChunk): void {\n    const startX = chunk.coord.chunkX * CHUNK_SIZE;\n    const startY = chunk.coord.chunkY * CHUNK_SIZE;\n    \n    for (let localX = 0; localX < CHUNK_SIZE; localX++) {\n      for (let localY = 0; localY < CHUNK_SIZE; localY++) {\n        const worldX = startX + localX;\n        const worldY = startY + localY;\n        \n        const tile = this.generateTile(worldX, worldY);\n        chunk.tiles.set(this.tileKey(worldX, worldY), tile);\n      }\n    }\n    \n    chunk.generated = true;\n  }\n  \n  /**\n   * Generate a single tile's properties\n   */\n  private generateTile(x: number, y: number): Tile {\n    // Generate base terrain properties\n    const elevation = this.noise.getElevation(\n      x, y, \n      this.config.continentFreq, \n      this.config.warpStrength\n    );\n    \n    const temperature = this.noise.getTemperature(\n      x, y, \n      elevation, \n      this.config.mapHeight\n    );\n    \n    const moisture = this.noise.getMoisture(x, y, elevation);\n    \n    // Determine biome based on elevation, temperature, and moisture\n    const biome = this.determineBiome(elevation, temperature, moisture);\n    \n    return {\n      x,\n      y,\n      biome,\n      elevation,\n      temperature,\n      moisture,\n      river: false, // Rivers will be generated in a separate pass\n      road: false,  // Roads will be generated with settlements\n      discovered: false\n    };\n  }\n  \n  /**\n   * Determine biome based on terrain properties\n   */\n  private determineBiome(elevation: number, temperature: number, moisture: number): BiomeType {\n    const { seaLevel } = this.config;\n    \n    // Water bodies\n    if (elevation < seaLevel - 0.02) return 'Ocean';\n    if (elevation < seaLevel + 0.02) return 'Coast';\n    \n    // High elevation biomes\n    if (elevation > 0.7) {\n      if (temperature < 0.2) return 'Snow';\n      if (temperature < 0.5) return 'Mountain';\n      return 'Mountain';\n    }\n    \n    // Temperature-based biomes\n    if (temperature < 0.15) {\n      return moisture > 0.3 ? 'Tundra' : 'Snow';\n    }\n    \n    if (temperature < 0.35) {\n      if (moisture > 0.6) return 'Taiga';\n      if (moisture > 0.3) return 'Tundra';\n      return 'Tundra';\n    }\n    \n    if (temperature < 0.65) {\n      if (moisture > 0.7) return 'Forest';\n      if (moisture > 0.4) return 'Grass';\n      if (moisture > 0.2) return 'Savanna';\n      return 'Desert';\n    }\n    \n    // Hot biomes\n    if (moisture > 0.8) return 'Jungle';\n    if (moisture > 0.6) return 'Forest';\n    if (moisture > 0.4) return 'Savanna';\n    if (moisture > 0.2) return 'Grass';\n    \n    // Very dry areas become swamp if low elevation, desert otherwise\n    if (elevation < 0.5 && moisture > 0.6) return 'Swamp';\n    return 'Desert';\n  }\n  \n  /**\n   * Get a tile at world coordinates (generates chunk if needed)\n   */\n  getTile(x: number, y: number): Tile | undefined {\n    const chunk = this.worldToChunk(x, y);\n    const chunkObj = this.ensureChunk(chunk.chunkX, chunk.chunkY);\n    return chunkObj.tiles.get(this.tileKey(x, y));\n  }\n  \n  /**\n   * Check if a tile exists without generating it\n   */\n  hasTile(x: number, y: number): boolean {\n    const chunk = this.worldToChunk(x, y);\n    const key = this.chunkKey(chunk.chunkX, chunk.chunkY);\n    const chunkObj = this.chunks.get(key);\n    \n    return chunkObj?.generated && chunkObj.tiles.has(this.tileKey(x, y)) || false;\n  }\n  \n  /**\n   * Unload chunks beyond a certain distance from center\n   */\n  unloadBeyond(centerX: number, centerY: number, keepRadius: number): number {\n    let unloaded = 0;\n    const centerChunk = this.worldToChunk(centerX, centerY);\n    const keepChunkRadius = Math.ceil(keepRadius / CHUNK_SIZE) + 2;\n    const chunksToDelete: string[] = [];\n    \n    this.chunks.forEach((chunk, key) => {\n      const dx = chunk.coord.chunkX - centerChunk.chunkX;\n      const dy = chunk.coord.chunkY - centerChunk.chunkY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      \n      if (distance > keepChunkRadius) {\n        chunksToDelete.push(key);\n      }\n    });\n    \n    chunksToDelete.forEach(key => {\n      this.chunks.delete(key);\n      unloaded++;\n    });\n    \n    return unloaded;\n  }\n  \n  /**\n   * Get memory statistics\n   */\n  getStats(): {\n    totalChunks: number;\n    generatedChunks: number;\n    totalTiles: number;\n    memoryEstimateMB: number;\n  } {\n    let generatedChunks = 0;\n    let totalTiles = 0;\n    \n    this.chunks.forEach(chunk => {\n      if (chunk.generated) {\n        generatedChunks++;\n        totalTiles += chunk.tiles.size;\n      }\n    });\n    \n    // Rough memory estimate (each tile ~200 bytes)\n    const memoryEstimateMB = (totalTiles * 200) / (1024 * 1024);\n    \n    return {\n      totalChunks: this.chunks.size,\n      generatedChunks,\n      totalTiles,\n      memoryEstimateMB\n    };\n  }\n  \n  /**\n   * Update world generation config\n   */\n  updateConfig(newConfig: Partial<WorldGenConfig>): void {\n    this.config = { ...this.config, ...newConfig };\n    // Note: Existing chunks will need to be regenerated to use new config\n    // This could be done by marking them as generated: false\n  }\n  \n  /**\n   * Mark chunks as needing regeneration (for config changes)\n   */\n  invalidateAll(): void {\n    this.chunks.forEach(chunk => {\n      chunk.generated = false;\n      chunk.tiles.clear();\n    });\n  }\n}","/**\n * Physical Abilities System\n * \n * A comprehensive system for martial techniques, combat maneuvers, and athletic feats\n * that mirrors the magical spell system but focuses on physical prowess.\n */\n\nimport { SeededRandom } from './noise';\n\nexport type PhysicalAbilitySchool = \n  | 'Weaponmastery'    // Sword techniques, bow mastery, weapon expertise\n  | 'Combat'           // Hand-to-hand combat, grappling, unarmed strikes  \n  | 'Athletics'        // Parkour, climbing, acrobatics, endurance\n  | 'Tactics'          // Military formations, leadership, strategy\n  | 'Survival'         // Tracking, foraging, wilderness skills\n  | 'Stealth'          // Infiltration, lockpicking, assassination\n  | 'Defense'          // Shield techniques, armor mastery, protection\n  | 'Berserker';       // Rage, fury, primal combat techniques\n\nexport type PhysicalAbilityTier = 'Novice' | 'Adept' | 'Expert' | 'Master' | 'Legendary';\n\nexport interface PhysicalAbility {\n  name: string;\n  school: PhysicalAbilitySchool;\n  tier: PhysicalAbilityTier;\n  description: string;\n  requirements: {\n    minLevel: number;\n    requiredStats: Partial<{\n      strength: number;\n      dexterity: number;\n      constitution: number;\n      intelligence: number;\n      wisdom: number;\n      charisma: number;\n    }>;\n    prerequisiteAbilities?: string[];\n    requiredEquipment?: string[];\n  };\n  effects: {\n    damage?: { min: number; max: number; type?: string };\n    healing?: { min: number; max: number };\n    buff?: { stat: string; modifier: number; duration?: number };\n    special?: string[];\n  };\n  staminaCost: number;\n  cooldown?: number; // in rounds or minutes\n  range?: 'self' | 'touch' | 'near' | 'far';\n}\n\nexport class PhysicalAbilitiesGenerator {\n  private rng: SeededRandom;\n  \n  // Predefined ability templates organized by school\n  private static readonly ABILITY_TEMPLATES: Record<PhysicalAbilitySchool, {\n    [key in PhysicalAbilityTier]: Array<Omit<PhysicalAbility, 'name' | 'school' | 'tier'>>\n  }> = {\n    Weaponmastery: {\n      Novice: [\n        {\n          description: 'A basic sword technique that strikes with improved accuracy.',\n          requirements: { minLevel: 1, requiredStats: { strength: 12 }, requiredEquipment: ['sword'] },\n          effects: { damage: { min: 2, max: 6, type: 'slashing' } },\n          staminaCost: 2,\n          range: 'touch'\n        },\n        {\n          description: 'Precise bow shot that rarely misses its target.',\n          requirements: { minLevel: 1, requiredStats: { dexterity: 12 }, requiredEquipment: ['bow'] },\n          effects: { damage: { min: 3, max: 5, type: 'piercing' } },\n          staminaCost: 1,\n          range: 'far'\n        },\n        {\n          description: 'Quick flourish that intimidates opponents.',\n          requirements: { minLevel: 2, requiredStats: { dexterity: 10, charisma: 10 } },\n          effects: { special: ['intimidate', 'initiative_bonus'] },\n          staminaCost: 1,\n          range: 'near'\n        }\n      ],\n      Adept: [\n        {\n          description: 'A spinning attack that strikes multiple nearby enemies.',\n          requirements: { minLevel: 4, requiredStats: { strength: 14, dexterity: 12 } },\n          effects: { damage: { min: 4, max: 8, type: 'slashing' }, special: ['cleave'] },\n          staminaCost: 4,\n          range: 'near'\n        },\n        {\n          description: 'Twin-strike technique for dual-wielding weapons.',\n          requirements: { minLevel: 5, requiredStats: { dexterity: 15 }, prerequisiteAbilities: ['Basic Strike'] },\n          effects: { damage: { min: 3, max: 6 }, special: ['double_attack'] },\n          staminaCost: 5,\n          range: 'touch'\n        }\n      ],\n      Expert: [\n        {\n          description: 'Devastating overhead strike that can cleave through armor.',\n          requirements: { minLevel: 8, requiredStats: { strength: 16 } },\n          effects: { damage: { min: 8, max: 15, type: 'slashing' }, special: ['armor_pierce'] },\n          staminaCost: 8,\n          cooldown: 3,\n          range: 'touch'\n        }\n      ],\n      Master: [\n        {\n          description: 'Legendary sword technique that can cut through multiple foes in a single motion.',\n          requirements: { minLevel: 12, requiredStats: { strength: 18, dexterity: 16 } },\n          effects: { damage: { min: 12, max: 20, type: 'slashing' }, special: ['chain_attack', 'armor_pierce'] },\n          staminaCost: 12,\n          cooldown: 5,\n          range: 'near'\n        }\n      ],\n      Legendary: [\n        {\n          description: 'The ultimate expression of weapon mastery, a technique that transcends mortal limits.',\n          requirements: { minLevel: 18, requiredStats: { strength: 20, dexterity: 18 } },\n          effects: { damage: { min: 20, max: 35, type: 'slashing' }, special: ['perfect_strike', 'ignore_armor', 'cleave_all'] },\n          staminaCost: 20,\n          cooldown: 10,\n          range: 'far'\n        }\n      ]\n    },\n    \n    Combat: {\n      Novice: [\n        {\n          description: 'Basic unarmed strike enhanced by training.',\n          requirements: { minLevel: 1, requiredStats: { strength: 10 } },\n          effects: { damage: { min: 1, max: 4, type: 'bludgeoning' } },\n          staminaCost: 1,\n          range: 'touch'\n        },\n        {\n          description: 'Simple grappling technique to restrain opponents.',\n          requirements: { minLevel: 2, requiredStats: { strength: 12, dexterity: 10 } },\n          effects: { special: ['grapple', 'restrain'] },\n          staminaCost: 3,\n          range: 'touch'\n        }\n      ],\n      Adept: [\n        {\n          description: 'Stunning blow that can daze enemies.',\n          requirements: { minLevel: 4, requiredStats: { strength: 13, constitution: 12 } },\n          effects: { damage: { min: 3, max: 6, type: 'bludgeoning' }, special: ['stun'] },\n          staminaCost: 4,\n          range: 'touch'\n        },\n        {\n          description: 'Counter-attack that triggers when enemies miss.',\n          requirements: { minLevel: 5, requiredStats: { dexterity: 14, wisdom: 12 } },\n          effects: { damage: { min: 2, max: 5 }, special: ['counter', 'reactive'] },\n          staminaCost: 0,\n          range: 'touch'\n        }\n      ],\n      Expert: [\n        {\n          description: 'Devastating combination of strikes that builds momentum.',\n          requirements: { minLevel: 8, requiredStats: { strength: 15, dexterity: 15 } },\n          effects: { damage: { min: 6, max: 12, type: 'bludgeoning' }, special: ['combo', 'momentum'] },\n          staminaCost: 7,\n          range: 'touch'\n        }\n      ],\n      Master: [\n        {\n          description: 'Perfect martial arts technique that flows like water.',\n          requirements: { minLevel: 12, requiredStats: { strength: 16, dexterity: 18, wisdom: 15 } },\n          effects: { damage: { min: 10, max: 18, type: 'force' }, special: ['flowing_strike', 'unblockable'] },\n          staminaCost: 10,\n          cooldown: 4,\n          range: 'touch'\n        }\n      ],\n      Legendary: [\n        {\n          description: 'Transcendent fighting technique that channels inner power.',\n          requirements: { minLevel: 18, requiredStats: { strength: 18, dexterity: 20, wisdom: 18 } },\n          effects: { damage: { min: 18, max: 30, type: 'force' }, special: ['ki_strike', 'ignore_armor', 'heal_self'] },\n          staminaCost: 15,\n          cooldown: 8,\n          range: 'near'\n        }\n      ]\n    },\n\n    Athletics: {\n      Novice: [\n        {\n          description: 'Enhanced climbing ability for scaling walls and cliffs.',\n          requirements: { minLevel: 1, requiredStats: { strength: 10, dexterity: 10 } },\n          effects: { special: ['climb_speed', 'sure_grip'] },\n          staminaCost: 2,\n          range: 'self'\n        },\n        {\n          description: 'Improved jumping distance and height.',\n          requirements: { minLevel: 1, requiredStats: { strength: 11 } },\n          effects: { special: ['long_jump', 'high_jump'] },\n          staminaCost: 1,\n          range: 'self'\n        }\n      ],\n      Adept: [\n        {\n          description: 'Parkour techniques for rapid urban movement.',\n          requirements: { minLevel: 4, requiredStats: { dexterity: 14, constitution: 12 } },\n          effects: { special: ['wall_run', 'fast_movement', 'obstacle_ignore'] },\n          staminaCost: 3,\n          range: 'self'\n        },\n        {\n          description: 'Enhanced endurance for long-distance activities.',\n          requirements: { minLevel: 3, requiredStats: { constitution: 14 } },\n          effects: { buff: { stat: 'stamina_regen', modifier: 2 } },\n          staminaCost: 0,\n          range: 'self'\n        }\n      ],\n      Expert: [\n        {\n          description: 'Acrobatic maneuvers that help avoid attacks.',\n          requirements: { minLevel: 7, requiredStats: { dexterity: 16, constitution: 13 } },\n          effects: { special: ['evasion_boost', 'acrobatic_dodge', 'fall_immunity'] },\n          staminaCost: 5,\n          range: 'self'\n        }\n      ],\n      Master: [\n        {\n          description: 'Superhuman athletic ability that defies normal limits.',\n          requirements: { minLevel: 11, requiredStats: { strength: 16, dexterity: 17, constitution: 16 } },\n          effects: { special: ['perfect_balance', 'superhuman_speed', 'tireless'] },\n          staminaCost: 8,\n          range: 'self'\n        }\n      ],\n      Legendary: [\n        {\n          description: 'Legendary athletic prowess that approaches the mythical.',\n          requirements: { minLevel: 16, requiredStats: { strength: 18, dexterity: 20, constitution: 18 } },\n          effects: { special: ['legendary_speed', 'physics_defying', 'unstoppable_momentum'] },\n          staminaCost: 12,\n          cooldown: 6,\n          range: 'self'\n        }\n      ]\n    },\n\n    Tactics: {\n      Novice: [\n        {\n          description: 'Basic leadership that inspires nearby allies.',\n          requirements: { minLevel: 2, requiredStats: { intelligence: 12, charisma: 11 } },\n          effects: { buff: { stat: 'morale', modifier: 1 }, special: ['inspire'] },\n          staminaCost: 2,\n          range: 'near'\n        },\n        {\n          description: 'Tactical assessment of battlefield conditions.',\n          requirements: { minLevel: 1, requiredStats: { intelligence: 13, wisdom: 10 } },\n          effects: { special: ['battle_awareness', 'enemy_analysis'] },\n          staminaCost: 1,\n          range: 'far'\n        }\n      ],\n      Adept: [\n        {\n          description: 'Coordinated attack with allies for increased effectiveness.',\n          requirements: { minLevel: 5, requiredStats: { intelligence: 14, charisma: 12 } },\n          effects: { damage: { min: 0, max: 0 }, special: ['coordinated_attack', 'ally_bonus'] },\n          staminaCost: 4,\n          range: 'near'\n        },\n        {\n          description: 'Defensive formation that protects the group.',\n          requirements: { minLevel: 4, requiredStats: { intelligence: 13, constitution: 12 } },\n          effects: { special: ['formation_defense', 'damage_reduction'] },\n          staminaCost: 3,\n          range: 'near'\n        }\n      ],\n      Expert: [\n        {\n          description: 'Advanced battlefield strategy that confuses enemies.',\n          requirements: { minLevel: 8, requiredStats: { intelligence: 16, wisdom: 14 } },\n          effects: { special: ['strategic_advantage', 'enemy_confusion', 'initiative_control'] },\n          staminaCost: 6,\n          range: 'far'\n        }\n      ],\n      Master: [\n        {\n          description: 'Masterful tactical command that turns the tide of battle.',\n          requirements: { minLevel: 12, requiredStats: { intelligence: 18, charisma: 16, wisdom: 15 } },\n          effects: { special: ['battle_mastery', 'ally_coordination', 'enemy_disruption'] },\n          staminaCost: 10,\n          cooldown: 5,\n          range: 'far'\n        }\n      ],\n      Legendary: [\n        {\n          description: 'Legendary generalship that can win battles against impossible odds.',\n          requirements: { minLevel: 17, requiredStats: { intelligence: 20, charisma: 18, wisdom: 17 } },\n          effects: { special: ['legendary_tactics', 'army_inspiration', 'victory_inevitable'] },\n          staminaCost: 15,\n          cooldown: 10,\n          range: 'far'\n        }\n      ]\n    },\n\n    Survival: {\n      Novice: [\n        {\n          description: 'Basic tracking skills for following creatures and people.',\n          requirements: { minLevel: 1, requiredStats: { wisdom: 12, intelligence: 10 } },\n          effects: { special: ['track', 'identify_creatures'] },\n          staminaCost: 1,\n          range: 'far'\n        },\n        {\n          description: 'Foraging ability to find food and water in the wilderness.',\n          requirements: { minLevel: 1, requiredStats: { wisdom: 13, constitution: 10 } },\n          effects: { special: ['forage', 'identify_plants'] },\n          staminaCost: 2,\n          range: 'near'\n        }\n      ],\n      Adept: [\n        {\n          description: 'Advanced wilderness navigation that prevents getting lost.',\n          requirements: { minLevel: 4, requiredStats: { wisdom: 14, intelligence: 12 } },\n          effects: { special: ['never_lost', 'weather_prediction', 'shortcut_finding'] },\n          staminaCost: 2,\n          range: 'self'\n        },\n        {\n          description: 'Animal communication for basic interaction with beasts.',\n          requirements: { minLevel: 5, requiredStats: { wisdom: 15, charisma: 12 } },\n          effects: { special: ['animal_speech', 'beast_friendship', 'mount_training'] },\n          staminaCost: 3,\n          range: 'near'\n        }\n      ],\n      Expert: [\n        {\n          description: 'Master tracker who can follow days-old trails.',\n          requirements: { minLevel: 8, requiredStats: { wisdom: 16, constitution: 13 } },\n          effects: { special: ['master_tracking', 'scent_trail', 'predict_movement'] },\n          staminaCost: 4,\n          range: 'far'\n        }\n      ],\n      Master: [\n        {\n          description: 'Legendary survival skills that allow thriving in any environment.',\n          requirements: { minLevel: 12, requiredStats: { wisdom: 18, constitution: 16, intelligence: 14 } },\n          effects: { special: ['environmental_adaptation', 'weather_immunity', 'resource_mastery'] },\n          staminaCost: 6,\n          range: 'self'\n        }\n      ],\n      Legendary: [\n        {\n          description: 'Mythical connection to nature that grants supernatural survival abilities.',\n          requirements: { minLevel: 16, requiredStats: { wisdom: 20, constitution: 18, charisma: 16 } },\n          effects: { special: ['nature_bond', 'elemental_resistance', 'wilderness_mastery'] },\n          staminaCost: 10,\n          cooldown: 8,\n          range: 'far'\n        }\n      ]\n    },\n\n    Stealth: {\n      Novice: [\n        {\n          description: 'Basic stealth techniques for moving unseen.',\n          requirements: { minLevel: 1, requiredStats: { dexterity: 12 } },\n          effects: { special: ['hide', 'move_silently'] },\n          staminaCost: 2,\n          range: 'self'\n        },\n        {\n          description: 'Simple lockpicking for basic locks and traps.',\n          requirements: { minLevel: 2, requiredStats: { dexterity: 13, intelligence: 10 } },\n          effects: { special: ['lockpick', 'disable_trap'] },\n          staminaCost: 1,\n          range: 'touch'\n        }\n      ],\n      Adept: [\n        {\n          description: 'Advanced stealth that works even in broad daylight.',\n          requirements: { minLevel: 4, requiredStats: { dexterity: 15, wisdom: 12 } },\n          effects: { special: ['invisibility', 'shadow_step', 'crowd_blend'] },\n          staminaCost: 4,\n          range: 'self'\n        },\n        {\n          description: 'Sneak attack that deals extra damage from hiding.',\n          requirements: { minLevel: 5, requiredStats: { dexterity: 14, strength: 11 } },\n          effects: { damage: { min: 6, max: 12, type: 'piercing' }, special: ['sneak_attack'] },\n          staminaCost: 3,\n          range: 'touch'\n        }\n      ],\n      Expert: [\n        {\n          description: 'Master infiltration techniques for bypassing security.',\n          requirements: { minLevel: 8, requiredStats: { dexterity: 17, intelligence: 14 } },\n          effects: { special: ['master_infiltration', 'security_bypass', 'disguise'] },\n          staminaCost: 6,\n          range: 'self'\n        }\n      ],\n      Master: [\n        {\n          description: 'Legendary stealth that approaches true invisibility.',\n          requirements: { minLevel: 12, requiredStats: { dexterity: 19, wisdom: 15, intelligence: 14 } },\n          effects: { special: ['perfect_stealth', 'phase_walk', 'memory_erase'] },\n          staminaCost: 10,\n          cooldown: 4,\n          range: 'self'\n        }\n      ],\n      Legendary: [\n        {\n          description: 'Mythical assassination technique that can kill with a single touch.',\n          requirements: { minLevel: 17, requiredStats: { dexterity: 20, wisdom: 17, intelligence: 16 } },\n          effects: { damage: { min: 50, max: 100, type: 'death' }, special: ['death_strike', 'untraceable', 'shadow_mastery'] },\n          staminaCost: 20,\n          cooldown: 15,\n          range: 'touch'\n        }\n      ]\n    },\n\n    Defense: {\n      Novice: [\n        {\n          description: 'Basic shield blocking technique.',\n          requirements: { minLevel: 1, requiredStats: { strength: 11, constitution: 10 }, requiredEquipment: ['shield'] },\n          effects: { special: ['block', 'damage_reduction_2'] },\n          staminaCost: 1,\n          range: 'self'\n        },\n        {\n          description: 'Defensive stance that reduces incoming damage.',\n          requirements: { minLevel: 2, requiredStats: { constitution: 12 } },\n          effects: { special: ['defensive_stance', 'damage_reduction_3'] },\n          staminaCost: 2,\n          range: 'self'\n        }\n      ],\n      Adept: [\n        {\n          description: 'Shield bash that can stun opponents while defending.',\n          requirements: { minLevel: 4, requiredStats: { strength: 13, constitution: 12 }, requiredEquipment: ['shield'] },\n          effects: { damage: { min: 2, max: 5, type: 'bludgeoning' }, special: ['stun', 'knockback'] },\n          staminaCost: 3,\n          range: 'touch'\n        },\n        {\n          description: 'Armor expertise that improves protection effectiveness.',\n          requirements: { minLevel: 5, requiredStats: { constitution: 14, intelligence: 11 } },\n          effects: { special: ['armor_mastery', 'damage_reduction_5'] },\n          staminaCost: 0,\n          range: 'self'\n        }\n      ],\n      Expert: [\n        {\n          description: 'Perfect parry that reflects attacks back at enemies.',\n          requirements: { minLevel: 8, requiredStats: { dexterity: 16, constitution: 14 } },\n          effects: { special: ['perfect_parry', 'reflect_damage', 'counter_attack'] },\n          staminaCost: 5,\n          range: 'self'\n        }\n      ],\n      Master: [\n        {\n          description: 'Legendary defense that makes the user nearly invulnerable.',\n          requirements: { minLevel: 12, requiredStats: { constitution: 18, strength: 15, dexterity: 15 } },\n          effects: { special: ['legendary_defense', 'damage_immunity', 'aegis_aura'] },\n          staminaCost: 12,\n          cooldown: 6,\n          range: 'self'\n        }\n      ],\n      Legendary: [\n        {\n          description: 'Mythical protection that extends to allies and can turn the tide of battle.',\n          requirements: { minLevel: 16, requiredStats: { constitution: 20, strength: 17, charisma: 16 } },\n          effects: { special: ['divine_protection', 'ally_immunity', 'battlefield_aegis'] },\n          staminaCost: 18,\n          cooldown: 12,\n          range: 'far'\n        }\n      ]\n    },\n\n    Berserker: {\n      Novice: [\n        {\n          description: 'Basic rage that increases damage but reduces defense.',\n          requirements: { minLevel: 2, requiredStats: { strength: 12, constitution: 11 } },\n          effects: { buff: { stat: 'damage', modifier: 3 }, special: ['rage', 'defense_penalty'] },\n          staminaCost: 3,\n          range: 'self'\n        },\n        {\n          description: 'Intimidating roar that frightens nearby enemies.',\n          requirements: { minLevel: 1, requiredStats: { strength: 11, charisma: 10 } },\n          effects: { special: ['fear', 'intimidate', 'morale_damage'] },\n          staminaCost: 2,\n          range: 'near'\n        }\n      ],\n      Adept: [\n        {\n          description: 'Berserker frenzy that allows multiple attacks.',\n          requirements: { minLevel: 5, requiredStats: { strength: 14, constitution: 13 } },\n          effects: { damage: { min: 4, max: 8 }, special: ['frenzy', 'extra_attacks', 'pain_ignore'] },\n          staminaCost: 6,\n          range: 'self'\n        },\n        {\n          description: 'Unstoppable charge that breaks through enemy lines.',\n          requirements: { minLevel: 4, requiredStats: { strength: 13, constitution: 12 } },\n          effects: { damage: { min: 6, max: 10, type: 'bludgeoning' }, special: ['charge', 'knockdown', 'breakthrough'] },\n          staminaCost: 4,\n          range: 'near'\n        }\n      ],\n      Expert: [\n        {\n          description: 'Primal fury that grows stronger as health decreases.',\n          requirements: { minLevel: 8, requiredStats: { strength: 16, constitution: 15 } },\n          effects: { special: ['primal_fury', 'escalating_rage', 'death_resistance'] },\n          staminaCost: 8,\n          range: 'self'\n        }\n      ],\n      Master: [\n        {\n          description: 'Legendary berserker state that makes one nearly unstoppable.',\n          requirements: { minLevel: 12, requiredStats: { strength: 18, constitution: 17 } },\n          effects: { damage: { min: 15, max: 25 }, special: ['legendary_rage', 'unstoppable', 'fear_immunity'] },\n          staminaCost: 15,\n          cooldown: 8,\n          range: 'self'\n        }\n      ],\n      Legendary: [\n        {\n          description: 'Mythical warrior state that channels primal forces of destruction.',\n          requirements: { minLevel: 17, requiredStats: { strength: 20, constitution: 19 } },\n          effects: { damage: { min: 25, max: 40 }, special: ['apocalyptic_rage', 'area_destruction', 'immortal_fury'] },\n          staminaCost: 25,\n          cooldown: 15,\n          range: 'far'\n        }\n      ]\n    }\n  };\n\n  constructor(seed: string) {\n    this.rng = new SeededRandom(seed);\n  }\n\n  /**\n   * Generate a random physical ability of specified school and tier\n   */\n  generateAbility(school: PhysicalAbilitySchool, tier: PhysicalAbilityTier): PhysicalAbility {\n    const templates = PhysicalAbilitiesGenerator.ABILITY_TEMPLATES[school][tier];\n    if (!templates || templates.length === 0) {\n      throw new Error(`No templates found for ${school} ${tier}`);\n    }\n\n    const template = this.rng.pick(templates);\n    const name = this.generateAbilityName(school, tier);\n\n    return {\n      name,\n      school,\n      tier,\n      ...template\n    };\n  }\n\n  /**\n   * Generate a thematic name for a physical ability\n   */\n  private generateAbilityName(school: PhysicalAbilitySchool, tier: PhysicalAbilityTier): string {\n    const tierPrefixes: Record<PhysicalAbilityTier, string[]> = {\n      Novice: ['Basic', 'Simple', 'Student\\'s', 'Apprentice', 'Training'],\n      Adept: ['Skilled', 'Practiced', 'Advanced', 'Refined', 'Improved'],\n      Expert: ['Master', 'Superior', 'Perfect', 'Elite', 'Exceptional'],\n      Master: ['Grand', 'Supreme', 'Ultimate', 'Legendary', 'Transcendent'],\n      Legendary: ['Mythical', 'Divine', 'Eternal', 'Cosmic', 'Godlike']\n    };\n\n    const schoolTerms: Record<PhysicalAbilitySchool, string[]> = {\n      Weaponmastery: ['Strike', 'Slash', 'Thrust', 'Cut', 'Blade Dance', 'Steel Song', 'Edge Mastery'],\n      Combat: ['Fist', 'Punch', 'Grapple', 'Throw', 'Counter', 'Fighting Form', 'Combat Style'],\n      Athletics: ['Leap', 'Sprint', 'Climb', 'Jump', 'Dash', 'Athletic Form', 'Body Control'],\n      Tactics: ['Strategy', 'Formation', 'Command', 'Leadership', 'Battle Plan', 'War Art'],\n      Survival: ['Track', 'Hunt', 'Navigate', 'Forage', 'Wilderness Way', 'Nature Bond'],\n      Stealth: ['Shadow', 'Sneak', 'Hide', 'Infiltrate', 'Silent Step', 'Phantom Move'],\n      Defense: ['Block', 'Guard', 'Shield', 'Protect', 'Aegis', 'Fortress Stance'],\n      Berserker: ['Rage', 'Fury', 'Wrath', 'Frenzy', 'Berserker', 'Primal Scream']\n    };\n\n    const prefix = this.rng.pick(tierPrefixes[tier]);\n    const term = this.rng.pick(schoolTerms[school]);\n\n    return `${prefix} ${term}`;\n  }\n\n  /**\n   * Get all available physical abilities for a given character level and stats\n   */\n  getAvailableAbilities(\n    level: number, \n    stats: Record<string, number>, \n    equipment: string[] = [],\n    knownAbilities: string[] = []\n  ): PhysicalAbility[] {\n    const available: PhysicalAbility[] = [];\n\n    for (const school of Object.keys(PhysicalAbilitiesGenerator.ABILITY_TEMPLATES) as PhysicalAbilitySchool[]) {\n      for (const tier of Object.keys(PhysicalAbilitiesGenerator.ABILITY_TEMPLATES[school]) as PhysicalAbilityTier[]) {\n        const templates = PhysicalAbilitiesGenerator.ABILITY_TEMPLATES[school][tier];\n        \n        for (const template of templates) {\n          // Check level requirement\n          if (level < template.requirements.minLevel) continue;\n\n          // Check stat requirements\n          let meetsStatRequirements = true;\n          for (const [stat, required] of Object.entries(template.requirements.requiredStats || {})) {\n            if ((stats[stat] || 0) < required) {\n              meetsStatRequirements = false;\n              break;\n            }\n          }\n          if (!meetsStatRequirements) continue;\n\n          // Check equipment requirements\n          if (template.requirements.requiredEquipment) {\n            const hasRequired = template.requirements.requiredEquipment.every(req => \n              equipment.some(item => item.toLowerCase().includes(req.toLowerCase()))\n            );\n            if (!hasRequired) continue;\n          }\n\n          // Check prerequisite abilities\n          if (template.requirements.prerequisiteAbilities) {\n            const hasPrerequisites = template.requirements.prerequisiteAbilities.every(prereq =>\n              knownAbilities.includes(prereq)\n            );\n            if (!hasPrerequisites) continue;\n          }\n\n          // Generate the ability\n          const ability = this.generateAbility(school, tier);\n          available.push(ability);\n        }\n      }\n    }\n\n    return available;\n  }\n\n  /**\n   * Generate ability names for different difficulty levels (for rewards)\n   */\n  generateAbilityScroll(difficulty: number): { name: string; description: string } {\n    const tier: PhysicalAbilityTier = \n      difficulty >= 9 ? 'Legendary' :\n      difficulty >= 7 ? 'Master' :\n      difficulty >= 5 ? 'Expert' :\n      difficulty >= 3 ? 'Adept' : 'Novice';\n\n    const schools = Object.keys(PhysicalAbilitiesGenerator.ABILITY_TEMPLATES) as PhysicalAbilitySchool[];\n    const school = this.rng.pick(schools);\n    \n    const name = this.generateAbilityName(school, tier);\n    \n    return {\n      name: `${name} Manual`,\n      description: `A training manual that teaches the ${name} technique from the ${school} discipline.`\n    };\n  }\n}","/**\n * Magical Abilities System\n * \n * A comprehensive system for spells, enchantments, and magical techniques\n * that complements the physical abilities system but focuses on mystical powers.\n */\n\nimport { SeededRandom } from './noise';\n\nexport type MagicalSchool = \n  | 'Evocation'        // Elemental magic, damage spells, energy manipulation\n  | 'Enchantment'      // Buffs, debuffs, mental effects, charm magic\n  | 'Transmutation'    // Shape-changing, material transformation, alchemy\n  | 'Divination'       // Scrying, detection, foresight, information magic\n  | 'Conjuration'      // Summoning, teleportation, creation magic\n  | 'Necromancy'       // Death magic, undead, life drain, soul manipulation\n  | 'Illusion'         // Deception, invisibility, phantasms, mind tricks\n  | 'Abjuration';      // Protection, dispelling, barriers, warding magic\n\nexport type SpellTier = 'Cantrip' | 'Apprentice' | 'Adept' | 'Master' | 'Archmage';\n\nexport interface MagicalSpell {\n  name: string;\n  school: MagicalSchool;\n  tier: SpellTier;\n  description: string;\n  requirements: {\n    minLevel: number;\n    requiredStats: Partial<{\n      strength: number;\n      dexterity: number;\n      constitution: number;\n      intelligence: number;\n      wisdom: number;\n      charisma: number;\n    }>;\n    prerequisiteSpells?: string[];\n    requiredComponents?: string[];\n  };\n  effects: {\n    damage?: { min: number; max: number; type?: string };\n    healing?: { min: number; max: number };\n    buff?: { stat: string; modifier: number; duration?: number };\n    special?: string[];\n  };\n  etherCost: number;\n  castTime?: number; // in rounds or seconds\n  range?: 'self' | 'touch' | 'near' | 'far' | 'sight';\n  duration?: number; // in minutes/hours for buffs\n}\n\nexport class MagicalSpellsGenerator {\n  private rng: SeededRandom;\n  \n  // Predefined spell templates organized by school\n  private static readonly SPELL_TEMPLATES: Record<MagicalSchool, {\n    [key in SpellTier]: Array<Omit<MagicalSpell, 'name' | 'school' | 'tier'>>\n  }> = {\n    Evocation: {\n      Cantrip: [\n        {\n          description: 'A small spark of flame that can light candles or deal minor damage.',\n          requirements: { minLevel: 1, requiredStats: { intelligence: 10 } },\n          effects: { damage: { min: 1, max: 3, type: 'fire' } },\n          etherCost: 1,\n          range: 'near'\n        },\n        {\n          description: 'A minor jolt of electricity that can shock enemies or power devices.',\n          requirements: { minLevel: 1, requiredStats: { intelligence: 11 } },\n          effects: { damage: { min: 1, max: 4, type: 'lightning' } },\n          etherCost: 1,\n          range: 'touch'\n        }\n      ],\n      Apprentice: [\n        {\n          description: 'A bolt of searing flame that burns enemies.',\n          requirements: { minLevel: 3, requiredStats: { intelligence: 13 } },\n          effects: { damage: { min: 4, max: 8, type: 'fire' } },\n          etherCost: 3,\n          range: 'far'\n        },\n        {\n          description: 'Shards of ice that pierce through armor.',\n          requirements: { minLevel: 3, requiredStats: { intelligence: 12, wisdom: 11 } },\n          effects: { damage: { min: 3, max: 7, type: 'ice' }, special: ['armor_pierce'] },\n          etherCost: 3,\n          range: 'far'\n        }\n      ],\n      Adept: [\n        {\n          description: 'A devastating explosion of elemental energy.',\n          requirements: { minLevel: 6, requiredStats: { intelligence: 15 } },\n          effects: { damage: { min: 8, max: 15, type: 'elemental' }, special: ['area_effect'] },\n          etherCost: 6,\n          range: 'far'\n        }\n      ],\n      Master: [\n        {\n          description: 'A storm of pure elemental fury that devastates the battlefield.',\n          requirements: { minLevel: 10, requiredStats: { intelligence: 17, wisdom: 14 } },\n          effects: { damage: { min: 15, max: 25, type: 'elemental' }, special: ['area_effect', 'multi_element'] },\n          etherCost: 12,\n          range: 'sight'\n        }\n      ],\n      Archmage: [\n        {\n          description: 'The ultimate expression of destructive magic, reshaping reality itself.',\n          requirements: { minLevel: 15, requiredStats: { intelligence: 20, wisdom: 16 } },\n          effects: { damage: { min: 25, max: 40, type: 'reality' }, special: ['reality_warp', 'unstoppable'] },\n          etherCost: 20,\n          range: 'sight'\n        }\n      ]\n    },\n\n    Enchantment: {\n      Cantrip: [\n        {\n          description: 'Enhances the caster\\'s natural abilities temporarily.',\n          requirements: { minLevel: 1, requiredStats: { charisma: 11 } },\n          effects: { buff: { stat: 'all_stats', modifier: 1, duration: 10 } },\n          etherCost: 1,\n          range: 'self'\n        }\n      ],\n      Apprentice: [\n        {\n          description: 'Grants supernatural strength to the target.',\n          requirements: { minLevel: 3, requiredStats: { charisma: 13, intelligence: 11 } },\n          effects: { buff: { stat: 'strength', modifier: 3, duration: 30 } },\n          etherCost: 3,\n          range: 'touch'\n        },\n        {\n          description: 'Enhances the target\\'s reflexes and agility.',\n          requirements: { minLevel: 3, requiredStats: { charisma: 12, dexterity: 12 } },\n          effects: { buff: { stat: 'dexterity', modifier: 3, duration: 30 } },\n          etherCost: 3,\n          range: 'touch'\n        }\n      ],\n      Adept: [\n        {\n          description: 'Provides comprehensive enhancement to all physical capabilities.',\n          requirements: { minLevel: 6, requiredStats: { charisma: 15, intelligence: 13 } },\n          effects: { buff: { stat: 'all_stats', modifier: 2, duration: 60 } },\n          etherCost: 6,\n          range: 'near'\n        }\n      ],\n      Master: [\n        {\n          description: 'Grants legendary abilities that transcend normal limitations.',\n          requirements: { minLevel: 10, requiredStats: { charisma: 17, intelligence: 15 } },\n          effects: { special: ['legendary_enhancement', 'stat_transcendence'] },\n          etherCost: 12,\n          duration: 120,\n          range: 'near'\n        }\n      ],\n      Archmage: [\n        {\n          description: 'Elevates the target to godlike levels of capability.',\n          requirements: { minLevel: 15, requiredStats: { charisma: 20, intelligence: 18 } },\n          effects: { special: ['divine_enhancement', 'reality_transcendence'] },\n          etherCost: 20,\n          duration: 180,\n          range: 'sight'\n        }\n      ]\n    },\n\n    Transmutation: {\n      Cantrip: [\n        {\n          description: 'Changes the basic properties of small objects.',\n          requirements: { minLevel: 1, requiredStats: { intelligence: 12 } },\n          effects: { special: ['minor_transmutation'] },\n          etherCost: 1,\n          range: 'touch'\n        }\n      ],\n      Apprentice: [\n        {\n          description: 'Transforms basic materials into more valuable substances.',\n          requirements: { minLevel: 4, requiredStats: { intelligence: 14, wisdom: 12 } },\n          effects: { special: ['material_transformation'] },\n          etherCost: 4,\n          range: 'touch'\n        }\n      ],\n      Adept: [\n        {\n          description: 'Alters the fundamental structure of objects and beings.',\n          requirements: { minLevel: 7, requiredStats: { intelligence: 16, wisdom: 14 } },\n          effects: { special: ['structural_alteration', 'living_transmutation'] },\n          etherCost: 7,\n          range: 'near'\n        }\n      ],\n      Master: [\n        {\n          description: 'Completely reshapes matter according to the caster\\'s will.',\n          requirements: { minLevel: 11, requiredStats: { intelligence: 18, wisdom: 16 } },\n          effects: { special: ['matter_mastery', 'form_transcendence'] },\n          etherCost: 15,\n          range: 'far'\n        }\n      ],\n      Archmage: [\n        {\n          description: 'Controls the fundamental forces that shape reality itself.',\n          requirements: { minLevel: 16, requiredStats: { intelligence: 20, wisdom: 19 } },\n          effects: { special: ['reality_shaping', 'universal_transmutation'] },\n          etherCost: 25,\n          range: 'sight'\n        }\n      ]\n    },\n\n    Divination: {\n      Cantrip: [\n        {\n          description: 'Reveals basic information about objects and creatures.',\n          requirements: { minLevel: 1, requiredStats: { wisdom: 12 } },\n          effects: { special: ['basic_detection'] },\n          etherCost: 1,\n          range: 'near'\n        }\n      ],\n      Apprentice: [\n        {\n          description: 'Senses the presence of hidden things and creatures.',\n          requirements: { minLevel: 3, requiredStats: { wisdom: 14, intelligence: 11 } },\n          effects: { special: ['true_sight', 'hidden_detection'] },\n          etherCost: 3,\n          range: 'far'\n        }\n      ],\n      Adept: [\n        {\n          description: 'Peer into the past and future to gain knowledge.',\n          requirements: { minLevel: 6, requiredStats: { wisdom: 16, intelligence: 13 } },\n          effects: { special: ['temporal_sight', 'knowledge_revelation'] },\n          etherCost: 6,\n          range: 'sight'\n        }\n      ],\n      Master: [\n        {\n          description: 'Comprehends the deepest mysteries of existence.',\n          requirements: { minLevel: 10, requiredStats: { wisdom: 18, intelligence: 16 } },\n          effects: { special: ['cosmic_awareness', 'universal_knowledge'] },\n          etherCost: 12,\n          range: 'sight'\n        }\n      ],\n      Archmage: [\n        {\n          description: 'Achieves perfect understanding of all things across all realities.',\n          requirements: { minLevel: 15, requiredStats: { wisdom: 20, intelligence: 19 } },\n          effects: { special: ['omniscience', 'reality_comprehension'] },\n          etherCost: 20,\n          range: 'sight'\n        }\n      ]\n    },\n\n    Conjuration: {\n      Cantrip: [\n        {\n          description: 'Creates small objects from thin air.',\n          requirements: { minLevel: 1, requiredStats: { intelligence: 11, charisma: 10 } },\n          effects: { special: ['minor_creation'] },\n          etherCost: 1,\n          range: 'near'\n        }\n      ],\n      Apprentice: [\n        {\n          description: 'Summons helpful creatures to aid in battle.',\n          requirements: { minLevel: 3, requiredStats: { intelligence: 13, charisma: 12 } },\n          effects: { special: ['summon_ally'] },\n          etherCost: 4,\n          range: 'near',\n          duration: 60\n        }\n      ],\n      Adept: [\n        {\n          description: 'Opens portals to distant locations for rapid travel.',\n          requirements: { minLevel: 6, requiredStats: { intelligence: 15, wisdom: 13 } },\n          effects: { special: ['teleportation', 'portal_creation'] },\n          etherCost: 8,\n          range: 'sight'\n        }\n      ],\n      Master: [\n        {\n          description: 'Brings forth powerful entities from other planes.',\n          requirements: { minLevel: 10, requiredStats: { intelligence: 17, charisma: 16 } },\n          effects: { special: ['planar_summoning', 'entity_binding'] },\n          etherCost: 15,\n          range: 'far',\n          duration: 120\n        }\n      ],\n      Archmage: [\n        {\n          description: 'Commands the fundamental forces of creation itself.',\n          requirements: { minLevel: 15, requiredStats: { intelligence: 19, charisma: 18, wisdom: 16 } },\n          effects: { special: ['cosmic_creation', 'reality_summoning'] },\n          etherCost: 25,\n          range: 'sight',\n          duration: 240\n        }\n      ]\n    },\n\n    Necromancy: {\n      Cantrip: [\n        {\n          description: 'Drains a small amount of life force from enemies.',\n          requirements: { minLevel: 1, requiredStats: { intelligence: 11, constitution: 10 } },\n          effects: { damage: { min: 1, max: 2, type: 'necrotic' }, healing: { min: 1, max: 2 } },\n          etherCost: 1,\n          range: 'touch'\n        }\n      ],\n      Apprentice: [\n        {\n          description: 'Animate the dead to serve as temporary minions.',\n          requirements: { minLevel: 4, requiredStats: { intelligence: 13, constitution: 12 } },\n          effects: { special: ['animate_dead'] },\n          etherCost: 5,\n          range: 'near',\n          duration: 60\n        }\n      ],\n      Adept: [\n        {\n          description: 'Steal years of life from enemies to extend your own.',\n          requirements: { minLevel: 7, requiredStats: { intelligence: 15, constitution: 14 } },\n          effects: { damage: { min: 8, max: 12, type: 'life_drain' }, healing: { min: 4, max: 6 } },\n          etherCost: 8,\n          range: 'far'\n        }\n      ],\n      Master: [\n        {\n          description: 'Command over death itself, raising powerful undead servants.',\n          requirements: { minLevel: 11, requiredStats: { intelligence: 17, constitution: 16 } },\n          effects: { special: ['death_mastery', 'undead_legion'] },\n          etherCost: 15,\n          range: 'far',\n          duration: 240\n        }\n      ],\n      Archmage: [\n        {\n          description: 'Transcend the boundary between life and death.',\n          requirements: { minLevel: 16, requiredStats: { intelligence: 19, constitution: 18 } },\n          effects: { special: ['lichdom', 'death_transcendence', 'soul_mastery'] },\n          etherCost: 30,\n          range: 'sight'\n        }\n      ]\n    },\n\n    Illusion: {\n      Cantrip: [\n        {\n          description: 'Create minor visual or auditory illusions.',\n          requirements: { minLevel: 1, requiredStats: { intelligence: 10, charisma: 11 } },\n          effects: { special: ['minor_illusion'] },\n          etherCost: 1,\n          range: 'near'\n        }\n      ],\n      Apprentice: [\n        {\n          description: 'Become invisible to most forms of detection.',\n          requirements: { minLevel: 3, requiredStats: { intelligence: 12, dexterity: 13 } },\n          effects: { special: ['invisibility'] },\n          etherCost: 4,\n          range: 'self',\n          duration: 30\n        }\n      ],\n      Adept: [\n        {\n          description: 'Create complex illusions that can fool multiple senses.',\n          requirements: { minLevel: 6, requiredStats: { intelligence: 15, charisma: 14 } },\n          effects: { special: ['complex_illusion', 'mass_deception'] },\n          etherCost: 7,\n          range: 'far',\n          duration: 60\n        }\n      ],\n      Master: [\n        {\n          description: 'Bend reality to create illusions indistinguishable from truth.',\n          requirements: { minLevel: 10, requiredStats: { intelligence: 17, charisma: 16, wisdom: 14 } },\n          effects: { special: ['reality_illusion', 'truth_deception'] },\n          etherCost: 12,\n          range: 'sight',\n          duration: 120\n        }\n      ],\n      Archmage: [\n        {\n          description: 'Make illusions so perfect they become reality.',\n          requirements: { minLevel: 15, requiredStats: { intelligence: 19, charisma: 18, wisdom: 17 } },\n          effects: { special: ['illusion_reality', 'dream_manifestation'] },\n          etherCost: 20,\n          range: 'sight',\n          duration: 300\n        }\n      ]\n    },\n\n    Abjuration: {\n      Cantrip: [\n        {\n          description: 'Creates a small protective barrier against harm.',\n          requirements: { minLevel: 1, requiredStats: { wisdom: 11, constitution: 10 } },\n          effects: { special: ['minor_protection'] },\n          etherCost: 1,\n          range: 'self',\n          duration: 10\n        }\n      ],\n      Apprentice: [\n        {\n          description: 'Dispels hostile magical effects and enchantments.',\n          requirements: { minLevel: 3, requiredStats: { wisdom: 13, intelligence: 11 } },\n          effects: { special: ['dispel_magic'] },\n          etherCost: 3,\n          range: 'near'\n        }\n      ],\n      Adept: [\n        {\n          description: 'Creates powerful wards that protect against multiple threats.',\n          requirements: { minLevel: 6, requiredStats: { wisdom: 15, constitution: 13 } },\n          effects: { special: ['greater_ward', 'multi_protection'] },\n          etherCost: 6,\n          range: 'near',\n          duration: 120\n        }\n      ],\n      Master: [\n        {\n          description: 'Establishes ultimate magical defenses that repel all harm.',\n          requirements: { minLevel: 10, requiredStats: { wisdom: 17, constitution: 16, intelligence: 14 } },\n          effects: { special: ['absolute_protection', 'harm_immunity'] },\n          etherCost: 12,\n          range: 'far',\n          duration: 180\n        }\n      ],\n      Archmage: [\n        {\n          description: 'Becomes untouchable by mortal means through perfect magical defense.',\n          requirements: { minLevel: 15, requiredStats: { wisdom: 20, constitution: 18, intelligence: 17 } },\n          effects: { special: ['divine_protection', 'reality_shield'] },\n          etherCost: 20,\n          range: 'sight',\n          duration: 360\n        }\n      ]\n    }\n  };\n\n  constructor(seed: string) {\n    this.rng = new SeededRandom(seed);\n  }\n\n  /**\n   * Generate a random magical spell of specified school and tier\n   */\n  generateSpell(school: MagicalSchool, tier: SpellTier): MagicalSpell {\n    const templates = MagicalSpellsGenerator.SPELL_TEMPLATES[school][tier];\n    if (!templates || templates.length === 0) {\n      throw new Error(`No templates found for ${school} ${tier}`);\n    }\n\n    const template = this.rng.pick(templates);\n    const name = this.generateSpellName(school, tier);\n\n    return {\n      name,\n      school,\n      tier,\n      ...template\n    };\n  }\n\n  /**\n   * Generate a thematic name for a magical spell\n   */\n  private generateSpellName(school: MagicalSchool, tier: SpellTier): string {\n    const tierPrefixes: Record<SpellTier, string[]> = {\n      Cantrip: ['Minor', 'Lesser', 'Simple', 'Basic', 'Apprentice'],\n      Apprentice: ['Improved', 'Enhanced', 'Refined', 'Focused', 'Practiced'],\n      Adept: ['Greater', 'Superior', 'Advanced', 'Powerful', 'Mastered'],\n      Master: ['Grand', 'Supreme', 'Ultimate', 'Perfect', 'Transcendent'],\n      Archmage: ['Divine', 'Cosmic', 'Reality', 'Omnipotent', 'Godlike']\n    };\n\n    const schoolTerms: Record<MagicalSchool, string[]> = {\n      Evocation: ['Bolt', 'Blast', 'Storm', 'Fury', 'Inferno', 'Lightning', 'Elemental Force'],\n      Enchantment: ['Blessing', 'Enhancement', 'Charm', 'Empowerment', 'Inspiration', 'Might'],\n      Transmutation: ['Transformation', 'Shaping', 'Alteration', 'Metamorphosis', 'Change', 'Form'],\n      Divination: ['Sight', 'Vision', 'Revelation', 'Knowledge', 'Truth', 'Perception', 'Awareness'],\n      Conjuration: ['Summoning', 'Creation', 'Manifestation', 'Portal', 'Gateway', 'Calling'],\n      Necromancy: ['Drain', 'Death', 'Decay', 'Soul', 'Undeath', 'Corruption', 'Life Steal'],\n      Illusion: ['Phantasm', 'Deception', 'Mirage', 'Dream', 'Shadow', 'Glamour', 'Trickery'],\n      Abjuration: ['Ward', 'Shield', 'Barrier', 'Protection', 'Defense', 'Sanctuary', 'Aegis']\n    };\n\n    const prefix = this.rng.pick(tierPrefixes[tier]);\n    const term = this.rng.pick(schoolTerms[school]);\n\n    return `${prefix} ${term}`;\n  }\n\n  /**\n   * Get all available magical spells for a given character level and stats\n   */\n  getAvailableSpells(\n    level: number, \n    stats: Record<string, number>, \n    components: string[] = [],\n    knownSpells: string[] = []\n  ): MagicalSpell[] {\n    const available: MagicalSpell[] = [];\n\n    for (const school of Object.keys(MagicalSpellsGenerator.SPELL_TEMPLATES) as MagicalSchool[]) {\n      for (const tier of Object.keys(MagicalSpellsGenerator.SPELL_TEMPLATES[school]) as SpellTier[]) {\n        const templates = MagicalSpellsGenerator.SPELL_TEMPLATES[school][tier];\n        \n        for (const template of templates) {\n          // Check level requirement\n          if (level < template.requirements.minLevel) continue;\n\n          // Check stat requirements\n          let meetsStatRequirements = true;\n          for (const [stat, required] of Object.entries(template.requirements.requiredStats || {})) {\n            if ((stats[stat] || 0) < required) {\n              meetsStatRequirements = false;\n              break;\n            }\n          }\n          if (!meetsStatRequirements) continue;\n\n          // Check component requirements\n          if (template.requirements.requiredComponents) {\n            const hasRequired = template.requirements.requiredComponents.every(req => \n              components.some(comp => comp.toLowerCase().includes(req.toLowerCase()))\n            );\n            if (!hasRequired) continue;\n          }\n\n          // Check prerequisite spells\n          if (template.requirements.prerequisiteSpells) {\n            const hasPrerequisites = template.requirements.prerequisiteSpells.every(prereq =>\n              knownSpells.includes(prereq)\n            );\n            if (!hasPrerequisites) continue;\n          }\n\n          // Generate the spell\n          const spell = this.generateSpell(school, tier);\n          available.push(spell);\n        }\n      }\n    }\n\n    return available;\n  }\n\n  /**\n   * Generate spell names for different difficulty levels (for rewards)\n   */\n  generateSpellScroll(difficulty: number): { name: string; description: string } {\n    const tier: SpellTier = \n      difficulty >= 9 ? 'Archmage' :\n      difficulty >= 7 ? 'Master' :\n      difficulty >= 5 ? 'Adept' :\n      difficulty >= 3 ? 'Apprentice' : 'Cantrip';\n\n    const schools = Object.keys(MagicalSpellsGenerator.SPELL_TEMPLATES) as MagicalSchool[];\n    const school = this.rng.pick(schools);\n    \n    const name = this.generateSpellName(school, tier);\n    \n    return {\n      name: `${name} Scroll`,\n      description: `A magical scroll containing the ${name} spell from the ${school} school of magic.`\n    };\n  }\n}","/**\n * Choke Points & Fortifications System\n * \n * Creates natural progression barriers with fortified dungeons that must be\n * completed to access more dangerous regions. Implements:\n * - Natural chokepoints (bridges, passes, straits)\n * - Fortified dungeons as progression gates\n * - Difficulty scaling based on distance from start\n * - Strategic placement to control world flow\n */\n\nimport { WorldNoise, SeededRandom } from './noise';\nimport { PhysicalAbilitiesGenerator } from './physicalAbilities';\nimport { MagicalSpellsGenerator } from './magicalSpells';\nimport type { Tile, BiomeType } from './chunks';\n\nexport interface Chokepoint {\n  x: number;\n  y: number;\n  type: ChokepointType;\n  width: number; // How many tiles wide the chokepoint spans\n  fortified: boolean;\n  fortification?: Fortification;\n  controlsAccess: string[]; // Regions this chokepoint guards access to\n}\n\nexport type ChokepointType = \n  | 'bridge'      // River crossing\n  | 'pass'        // Mountain pass\n  | 'strait'      // Narrow water crossing\n  | 'canyon'      // Canyon crossing\n  | 'tunnel'      // Underground passage\n  | 'gate';       // Artificial barrier\n\nexport interface Fortification {\n  name: string;\n  level: number;           // 1-10 difficulty level\n  type: FortificationType;\n  garrison: number;        // Enemy strength\n  requiredLevel: number;   // Recommended party level\n  requiredGear: string[];  // Equipment needed (bridges, climbing gear, etc.)\n  rewards: FortificationReward[];\n  cleared: boolean;\n  description: string;\n}\n\nexport type FortificationType = \n  | 'keep'        // Stone fortress\n  | 'watchtower'  // Tall defensive tower\n  | 'wall'        // Fortified wall with gate\n  | 'barricade'   // Wooden/stone barrier\n  | 'outpost'     // Military outpost\n  | 'citadel';    // Massive fortress complex\n\nexport interface FortificationReward {\n  type: 'gold' | 'equipment' | 'spell' | 'key' | 'passage';\n  name: string;\n  value: number;\n  description: string;\n}\n\nexport interface RegionData {\n  centerX: number;\n  centerY: number;\n  radius: number;\n  difficultyLevel: number;\n  biomePreference: BiomeType[];\n  name: string;\n  description: string;\n}\n\nexport class ChokepointManager {\n  private noise: WorldNoise;\n  private rng: SeededRandom;\n  private physicalAbilities!: PhysicalAbilitiesGenerator;\n  private magicalSpells!: MagicalSpellsGenerator;\n  private chokepoints: Map<string, Chokepoint> = new Map();\n  private regions: RegionData[] = [];\n  private mapWidth: number;\n  private mapHeight: number;\n  private startX: number;\n  private startY: number;\n\n  constructor(\n    seed: string,\n    mapWidth: number,\n    mapHeight: number,\n    startX: number,\n    startY: number\n  ) {\n    try {\n      console.log('Initializing ChokepointManager with:', { seed, mapWidth, mapHeight, startX, startY });\n      \n      this.noise = new WorldNoise(seed);\n      this.rng = new SeededRandom(`${seed}_chokepoints`);\n      this.physicalAbilities = new PhysicalAbilitiesGenerator(`${seed}_abilities`);\n      this.magicalSpells = new MagicalSpellsGenerator(`${seed}_spells`);\n      this.mapWidth = mapWidth;\n      this.mapHeight = mapHeight;\n      this.startX = startX;\n      this.startY = startY;\n\n      console.log('Generating regions...');\n      this.generateRegions();\n      \n      console.log('Identifying chokepoints...');\n      this.identifyChokepoints();\n      \n      console.log('Placing fortifications...');\n      this.placeFortifications();\n      \n      console.log(`ChokepointManager initialized with ${this.regions.length} regions and ${this.chokepoints.size} chokepoints`);\n    } catch (error) {\n      console.error('Error in ChokepointManager constructor:', error);\n      // Initialize safe defaults\n      this.noise = new WorldNoise(seed);\n      this.rng = new SeededRandom(`${seed}_chokepoints`);\n      this.mapWidth = mapWidth;\n      this.mapHeight = mapHeight;\n      this.startX = startX;\n      this.startY = startY;\n      this.regions = [];\n      this.chokepoints = new Map();\n    }\n  }\n\n  /**\n   * Generate difficulty regions based on distance from start\n   */\n  private generateRegions(): void {\n    try {\n      const numRegions = this.rng.nextInt(6, 12);\n      const centerDistance = Math.min(this.mapWidth, this.mapHeight) / 4;\n\n      // Always create a safe starting region\n      this.regions.push({\n        centerX: this.startX,\n        centerY: this.startY,\n        radius: centerDistance * 0.6,\n        difficultyLevel: 1,\n        biomePreference: ['Grass', 'Forest', 'Coast'],\n        name: 'The Heartlands',\n        description: 'Peaceful starting region with friendly settlements and basic resources.'\n      });\n\n      // Create rings of increasing difficulty\n      const difficultyRings = [\n        { distance: centerDistance * 1.2, level: 2, count: 3 },\n        { distance: centerDistance * 1.8, level: 4, count: 4 },\n        { distance: centerDistance * 2.5, level: 6, count: 3 },\n        { distance: centerDistance * 3.2, level: 8, count: 2 },\n      ];\n\n      for (const ring of difficultyRings) {\n        for (let i = 0; i < ring.count; i++) {\n          try {\n            const angle = (Math.PI * 2 * i) / ring.count + this.rng.nextFloat(-0.3, 0.3);\n            const distance = ring.distance * this.rng.nextFloat(0.8, 1.2);\n            \n            const centerX = this.startX + Math.cos(angle) * distance;\n            const centerY = this.startY + Math.sin(angle) * distance;\n\n            // Keep within map bounds with safety margin\n            const margin = 100;\n            const clampedX = Math.max(margin, Math.min(this.mapWidth - margin, centerX));\n            const clampedY = Math.max(margin, Math.min(this.mapHeight - margin, centerY));\n\n            this.regions.push({\n              centerX: clampedX,\n              centerY: clampedY,\n              radius: centerDistance * 0.4,\n              difficultyLevel: ring.level,\n              biomePreference: this.getBiomesForDifficulty(ring.level),\n              name: this.generateRegionName(ring.level),\n              description: this.generateRegionDescription(ring.level)\n            });\n          } catch (error) {\n            console.warn('Error generating region in ring:', ring, error);\n          }\n        }\n      }\n      \n      console.log(`Generated ${this.regions.length} regions`);\n    } catch (error) {\n      console.error('Error in generateRegions:', error);\n      // Ensure at least one region exists\n      if (this.regions.length === 0) {\n        this.regions.push({\n          centerX: this.startX,\n          centerY: this.startY,\n          radius: 500,\n          difficultyLevel: 1,\n          biomePreference: ['Grass', 'Forest'],\n          name: 'The Starting Lands',\n          description: 'A safe region for new adventurers.'\n        });\n      }\n    }\n  }\n\n  /**\n   * Get appropriate biomes for difficulty level\n   */\n  private getBiomesForDifficulty(level: number): BiomeType[] {\n    if (level <= 2) return ['Grass', 'Forest', 'Coast', 'Savanna'];\n    if (level <= 4) return ['Forest', 'Taiga', 'Swamp', 'Mountain'];\n    if (level <= 6) return ['Mountain', 'Desert', 'Tundra', 'Jungle'];\n    return ['Mountain', 'Snow', 'Desert', 'Tundra'];\n  }\n\n  /**\n   * Generate region names based on difficulty\n   */\n  private generateRegionName(level: number): string {\n    const names = {\n      2: ['The Borderlands', 'Merchant\\'s Rest', 'The Greenwood', 'Pilgrim\\'s Path'],\n      4: ['The Wildlands', 'Thornmarch', 'The Disputed Lands', 'Ravenwood'],\n      6: ['The Bleaklands', 'Dragonspine Mountains', 'The Cursed Marsh', 'Doomheath'],\n      8: ['The Shattered Realms', 'The Bone Wastes', 'Hellfire Peaks', 'The Dread Expanse'],\n      10: ['The Void Touched', 'World\\'s End', 'The Final Dark', 'Apocalypse Gate']\n    };\n    \n    const levelNames = names[level as keyof typeof names] || names[8];\n    return this.rng.pick(levelNames);\n  }\n\n  /**\n   * Generate region descriptions\n   */\n  private generateRegionDescription(level: number): string {\n    const descriptions = {\n      2: 'A frontier region with scattered settlements and minor dangers.',\n      4: 'Dangerous wilderness requiring caution and proper preparation.',\n      6: 'Hostile territory where only experienced adventurers survive.',\n      8: 'A realm of nightmares where death lurks behind every shadow.',\n      10: 'The ultimate challenge - where legends are born or die.'\n    };\n    \n    return descriptions[level as keyof typeof descriptions] || descriptions[8];\n  }\n\n  /**\n   * Identify natural chokepoints between regions\n   */\n  private identifyChokepoints(): void {\n    try {\n      console.log('Starting chokepoint identification...');\n      let chokepointsFound = 0;\n      \n      // For each region pair, find potential chokepoints\n      for (let i = 0; i < this.regions.length; i++) {\n        for (let j = i + 1; j < this.regions.length; j++) {\n          try {\n            const regionA = this.regions[i];\n            const regionB = this.regions[j];\n            \n            // Only create chokepoints between adjacent difficulty levels\n            const levelDiff = Math.abs(regionA.difficultyLevel - regionB.difficultyLevel);\n            if (levelDiff <= 1 && levelDiff > 0) {\n              const found = this.findChokepointsBetweenRegions(regionA, regionB);\n              chokepointsFound += found;\n            }\n          } catch (error) {\n            console.warn('Error finding chokepoints between regions:', i, j, error);\n          }\n        }\n      }\n      \n      console.log(`Found ${chokepointsFound} chokepoints between ${this.regions.length} regions`);\n    } catch (error) {\n      console.error('Error in identifyChokepoints:', error);\n    }\n  }\n\n  /**\n   * Find natural chokepoints between two regions\n   */\n  private findChokepointsBetweenRegions(regionA: RegionData, regionB: RegionData): number {\n    try {\n      const dx = regionB.centerX - regionA.centerX;\n      const dy = regionB.centerY - regionA.centerY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      \n      // Sample points along the line between regions\n      const samples = Math.max(5, Math.min(20, Math.floor(distance / 20))); // Limit samples\n      let chokepointsFound = 0;\n      \n      for (let i = 1; i < samples; i++) {\n        try {\n          const t = i / samples;\n          const x = Math.floor(regionA.centerX + dx * t);\n          const y = Math.floor(regionA.centerY + dy * t);\n          \n          // Bounds check\n          if (x >= 0 && x < this.mapWidth && y >= 0 && y < this.mapHeight) {\n            if (this.isNaturalChokepoint(x, y)) {\n              const type = this.determineChokepointType(x, y);\n              const width = this.calculateChokepointWidth(x, y, type);\n              \n              const chokepoint: Chokepoint = {\n                x,\n                y,\n                type,\n                width,\n                fortified: false,\n                controlsAccess: [regionB.name],\n                fortification: undefined\n              };\n              \n              this.chokepoints.set(`${x},${y}`, chokepoint);\n              chokepointsFound++;\n            }\n          }\n        } catch (error) {\n          console.warn('Error processing chokepoint sample:', i, error);\n        }\n      }\n      \n      return chokepointsFound;\n    } catch (error) {\n      console.error('Error in findChokepointsBetweenRegions:', error);\n      return 0;\n    }\n  }\n\n  /**\n   * Check if a location is a natural chokepoint\n   */\n  private isNaturalChokepoint(x: number, y: number): boolean {\n    try {\n      const elevation = this.noise.getElevation(x, y);\n      const moisture = this.noise.getMoisture(x, y, elevation);\n      \n      // Basic validation\n      if (isNaN(elevation) || isNaN(moisture)) {\n        return false;\n      }\n      \n      // Check for narrow land bridges (elevation drops on both sides)\n      const surroundingElevations = [];\n      for (let dx = -3; dx <= 3; dx++) {\n        for (let dy = -3; dy <= 3; dy++) {\n          if (dx === 0 && dy === 0) continue;\n          \n          const checkX = x + dx;\n          const checkY = y + dy;\n          \n          // Bounds check\n          if (checkX >= 0 && checkX < this.mapWidth && checkY >= 0 && checkY < this.mapHeight) {\n            const checkElevation = this.noise.getElevation(checkX, checkY);\n            if (!isNaN(checkElevation)) {\n              surroundingElevations.push(checkElevation);\n            }\n          }\n        }\n      }\n      \n      if (surroundingElevations.length === 0) {\n        return false;\n      }\n      \n      const avgSurrounding = surroundingElevations.reduce((a, b) => a + b, 0) / surroundingElevations.length;\n      \n      // Mountain passes (high elevation with lower surroundings)\n      if (elevation > 0.6 && avgSurrounding < elevation - 0.2) {\n        return true;\n      }\n      \n      // River crossings (specific moisture/elevation patterns)\n      if (elevation > 0.35 && elevation < 0.5 && moisture > 0.7) {\n        // Check if this looks like a river valley\n        const eastWestDiff = Math.abs(\n          this.getElevationSafe(x - 2, y) - this.getElevationSafe(x + 2, y)\n        );\n        const northSouthDiff = Math.abs(\n          this.getElevationSafe(x, y - 2) - this.getElevationSafe(x, y + 2)\n        );\n        \n        if (Math.max(eastWestDiff, northSouthDiff) > 0.1) {\n          return true;\n        }\n      }\n      \n      // Narrow straits (almost sea level with water nearby)\n      if (elevation > 0.32 && elevation < 0.42) {\n        let nearbyWater = 0;\n        for (let dx = -2; dx <= 2; dx++) {\n          for (let dy = -2; dy <= 2; dy++) {\n            if (this.getElevationSafe(x + dx, y + dy) < 0.35) {\n              nearbyWater++;\n            }\n          }\n        }\n        \n        if (nearbyWater > 15) { // Surrounded by water\n          return true;\n        }\n      }\n      \n      return false;\n    } catch (error) {\n      console.warn('Error checking natural chokepoint at', x, y, ':', error);\n      return false;\n    }\n  }\n  \n  /**\n   * Safe elevation getter with bounds checking\n   */\n  private getElevationSafe(x: number, y: number): number {\n    if (x < 0 || x >= this.mapWidth || y < 0 || y >= this.mapHeight) {\n      return 0.5; // Default elevation for out-of-bounds\n    }\n    try {\n      return this.noise.getElevation(x, y);\n    } catch (error) {\n      return 0.5;\n    }\n  }\n\n  /**\n   * Determine what type of chokepoint this is\n   */\n  private determineChokepointType(x: number, y: number): ChokepointType {\n    const elevation = this.noise.getElevation(x, y);\n    const moisture = this.noise.getMoisture(x, y, elevation);\n    \n    if (elevation > 0.6) return 'pass';\n    if (elevation < 0.4 && moisture > 0.7) return 'bridge';\n    if (elevation < 0.42) return 'strait';\n    if (elevation > 0.5 && moisture < 0.3) return 'canyon';\n    \n    return this.rng.pick(['bridge', 'pass', 'canyon'] as const);\n  }\n\n  /**\n   * Calculate how wide the chokepoint is\n   */\n  private calculateChokepointWidth(x: number, y: number, type: ChokepointType): number {\n    const baseWidths = {\n      bridge: 2,\n      pass: 4,\n      strait: 3,\n      canyon: 3,\n      tunnel: 2,\n      gate: 5\n    };\n    \n    const baseWidth = baseWidths[type];\n    return baseWidth + this.rng.nextInt(-1, 2);\n  }\n\n  /**\n   * Place fortifications at strategic chokepoints\n   */\n  private placeFortifications(): void {\n    try {\n      console.log('Starting fortification placement...');\n      \n      const sortedChokepoints = Array.from(this.chokepoints.values())\n        .sort((a, b) => {\n          const distA = this.getDistanceFromStart(a.x, a.y);\n          const distB = this.getDistanceFromStart(b.x, b.y);\n          return distA - distB;\n        });\n\n      // Fortify key chokepoints based on distance and strategic value\n      let fortificationCount = 0;\n      const maxFortifications = Math.min(8, sortedChokepoints.length);\n\n      for (const chokepoint of sortedChokepoints) {\n        if (fortificationCount >= maxFortifications) break;\n        \n        try {\n          const distance = this.getDistanceFromStart(chokepoint.x, chokepoint.y);\n          const shouldFortify = this.shouldPlaceFortification(chokepoint, distance);\n          \n          if (shouldFortify) {\n            const difficulty = this.calculateFortificationDifficulty(distance);\n            chokepoint.fortified = true;\n            chokepoint.fortification = this.createFortification(chokepoint, difficulty);\n            fortificationCount++;\n          }\n        } catch (error) {\n          console.warn('Error placing fortification at chokepoint:', chokepoint, error);\n        }\n      }\n      \n      console.log(`Placed ${fortificationCount} fortifications out of ${sortedChokepoints.length} chokepoints`);\n    } catch (error) {\n      console.error('Error in placeFortifications:', error);\n    }\n  }\n\n  /**\n   * Calculate distance from starting position\n   */\n  private getDistanceFromStart(x: number, y: number): number {\n    const dx = x - this.startX;\n    const dy = y - this.startY;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  /**\n   * Determine if a chokepoint should have a fortification\n   */\n  private shouldPlaceFortification(chokepoint: Chokepoint, distance: number): boolean {\n    // Always fortify chokepoints that are key progression gates\n    const minDistance = Math.min(this.mapWidth, this.mapHeight) / 8;\n    \n    if (distance < minDistance) return false; // Too close to start\n    \n    // Prioritize narrow chokepoints\n    if (chokepoint.width <= 2) return true;\n    \n    // Fortify based on strategic importance\n    const strategicValue = this.calculateStrategicValue(chokepoint);\n    const roll = this.rng.nextFloat();\n    \n    return roll < strategicValue;\n  }\n\n  /**\n   * Calculate strategic value of a chokepoint\n   */\n  private calculateStrategicValue(chokepoint: Chokepoint): number {\n    let value = 0.3; // Base value\n    \n    // Narrow passages are more strategic\n    value += (5 - chokepoint.width) * 0.1;\n    \n    // Mountain passes and bridges are highly strategic\n    if (chokepoint.type === 'pass' || chokepoint.type === 'bridge') {\n      value += 0.3;\n    }\n    \n    // Bonus for controlling access to multiple regions\n    value += chokepoint.controlsAccess.length * 0.2;\n    \n    return Math.min(0.9, value);\n  }\n\n  /**\n   * Calculate fortification difficulty based on distance\n   */\n  private calculateFortificationDifficulty(distance: number): number {\n    const maxDistance = Math.sqrt(this.mapWidth * this.mapWidth + this.mapHeight * this.mapHeight) / 2;\n    const normalized = distance / maxDistance;\n    \n    return Math.max(1, Math.min(10, Math.floor(normalized * 8) + 1));\n  }\n\n  /**\n   * Create a fortification for a chokepoint\n   */\n  private createFortification(chokepoint: Chokepoint, difficulty: number): Fortification {\n    const types: FortificationType[] = ['keep', 'watchtower', 'wall', 'barricade', 'outpost', 'citadel'];\n    const type = difficulty >= 8 ? 'citadel' : \n                 difficulty >= 6 ? 'keep' :\n                 difficulty >= 4 ? 'wall' :\n                 difficulty >= 2 ? 'watchtower' : 'barricade';\n\n    const names = this.generateFortificationNames(type, difficulty);\n    const name = this.rng.pick(names);\n    \n    return {\n      name,\n      level: difficulty,\n      type,\n      garrison: difficulty * 10 + this.rng.nextInt(5, 15),\n      requiredLevel: Math.max(1, difficulty - 1),\n      requiredGear: this.getRequiredGear(chokepoint, difficulty),\n      rewards: this.generateRewards(difficulty),\n      cleared: false,\n      description: this.generateFortificationDescription(name, type, chokepoint)\n    };\n  }\n\n  /**\n   * Generate fortification names\n   */\n  private generateFortificationNames(type: FortificationType, difficulty: number): string[] {\n    const prefixes = difficulty >= 6 ? \n      ['Dread', 'Death', 'Shadow', 'Doom', 'Blood', 'Iron', 'Dark'] :\n      ['Stone', 'Iron', 'Grey', 'Old', 'High', 'White', 'Red'];\n    \n    const suffixes = {\n      keep: ['Keep', 'Hold', 'Fort', 'Stronghold'],\n      watchtower: ['Tower', 'Spire', 'Watch', 'Beacon'],\n      wall: ['Wall', 'Gate', 'Barrier', 'Passage'],\n      barricade: ['Barricade', 'Block', 'Obstruction'],\n      outpost: ['Outpost', 'Station', 'Checkpoint'],\n      citadel: ['Citadel', 'Fortress', 'Bastion', 'Stronghold']\n    };\n    \n    const typeNames = suffixes[type];\n    const names = [];\n    \n    for (const prefix of prefixes.slice(0, 3)) {\n      for (const suffix of typeNames) {\n        names.push(`${prefix} ${suffix}`);\n      }\n    }\n    \n    return names;\n  }\n\n  /**\n   * Get required gear for a fortification\n   */\n  private getRequiredGear(chokepoint: Chokepoint, difficulty: number): string[] {\n    const gear = [];\n    \n    if (chokepoint.type === 'bridge' || chokepoint.type === 'strait') {\n      if (difficulty >= 3) gear.push('rope');\n      if (difficulty >= 5) gear.push('boat');\n    }\n    \n    if (chokepoint.type === 'pass' || chokepoint.type === 'canyon') {\n      if (difficulty >= 2) gear.push('climbing_gear');\n      if (difficulty >= 6) gear.push('cold_weather_gear');\n    }\n    \n    if (difficulty >= 4) gear.push('siege_equipment');\n    if (difficulty >= 7) gear.push('magical_weapons');\n    \n    return gear;\n  }\n\n  /**\n   * Generate rewards for clearing a fortification\n   */\n  private generateRewards(difficulty: number): FortificationReward[] {\n    const rewards = [];\n    \n    // Gold reward scales with difficulty\n    rewards.push({\n      type: 'gold' as const,\n      name: 'Garrison Treasury',\n      value: difficulty * 100 + this.rng.nextInt(50, 150),\n      description: 'Gold looted from the defeated garrison.'\n    });\n    \n    // Equipment rewards\n    if (difficulty >= 3) {\n      rewards.push({\n        type: 'equipment' as const,\n        name: this.generateEquipmentName(difficulty),\n        value: difficulty,\n        description: 'High-quality equipment from the fortress armory.'\n      });\n    }\n    \n    // Spell scrolls for higher difficulty\n    if (difficulty >= 5) {\n      const spellScroll = this.magicalSpells.generateSpellScroll(difficulty);\n      rewards.push({\n        type: 'spell' as const,\n        name: spellScroll.name,\n        value: difficulty,\n        description: spellScroll.description\n      });\n    }\n    \n    // Physical ability manuals for mid-to-high difficulty\n    if (difficulty >= 4) {\n      const abilityScroll = this.physicalAbilities.generateAbilityScroll(difficulty);\n      rewards.push({\n        type: 'spell' as const, // Using spell type for now, could create 'ability' type later\n        name: abilityScroll.name,\n        value: difficulty,\n        description: abilityScroll.description\n      });\n    }\n    \n    // Key items for progression\n    if (difficulty >= 4) {\n      rewards.push({\n        type: 'key' as const,\n        name: `Key to the ${this.rng.pick(['Eastern', 'Northern', 'Western', 'Southern'])} Passage`,\n        value: 1,\n        description: 'Opens access to previously blocked routes.'\n      });\n    }\n    \n    return rewards;\n  }\n\n  /**\n   * Generate equipment names\n   */\n  private generateEquipmentName(difficulty: number): string {\n    const prefixes = difficulty >= 6 ? \n      ['Legendary', 'Mythic', 'Divine', 'Runic'] :\n      ['Fine', 'Masterwork', 'Enchanted', 'Superior'];\n    \n    const items = ['Sword', 'Shield', 'Armor', 'Bow', 'Staff', 'Hammer', 'Axe'];\n    \n    return `${this.rng.pick(prefixes)} ${this.rng.pick(items)}`;\n  }\n\n  /**\n   * Generate spell names\n   */\n  private generateSpellName(difficulty: number): string {\n    const power = difficulty >= 8 ? 'Greater' : difficulty >= 6 ? 'Major' : 'Lesser';\n    const effects = ['Fireball', 'Lightning Bolt', 'Ice Storm', 'Healing', 'Barrier', 'Teleport'];\n    \n    return `${power} ${this.rng.pick(effects)}`;\n  }\n\n  /**\n   * Generate fortification descriptions\n   */\n  private generateFortificationDescription(name: string, type: FortificationType, chokepoint: Chokepoint): string {\n    const typeDescriptions = {\n      keep: 'A massive stone fortress',\n      watchtower: 'A tall defensive tower',\n      wall: 'A fortified wall with iron gates',\n      barricade: 'A sturdy wooden barrier',\n      outpost: 'A military checkpoint',\n      citadel: 'An impregnable fortress complex'\n    };\n    \n    const locationDescriptions = {\n      bridge: 'guarding the only safe river crossing',\n      pass: 'controlling the mountain pass',\n      strait: 'watching over the narrow strait',\n      canyon: 'blocking the canyon passage',\n      tunnel: 'sealing the underground route',\n      gate: 'barring the ancient gateway'\n    };\n    \n    return `${typeDescriptions[type]} ${locationDescriptions[chokepoint.type]}. The ${name} has stood for centuries, its garrison ensuring that only the worthy may pass.`;\n  }\n\n  /**\n   * Get all chokepoints\n   */\n  getChokepoints(): Chokepoint[] {\n    return Array.from(this.chokepoints.values());\n  }\n\n  /**\n   * Get chokepoint at specific location\n   */\n  getChokepointAt(x: number, y: number): Chokepoint | undefined {\n    return this.chokepoints.get(`${x},${y}`);\n  }\n\n  /**\n   * Get all regions\n   */\n  getRegions(): RegionData[] {\n    return this.regions;\n  }\n\n  /**\n   * Get region containing a point\n   */\n  getRegionAt(x: number, y: number): RegionData | undefined {\n    for (const region of this.regions) {\n      const dx = x - region.centerX;\n      const dy = y - region.centerY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      \n      if (distance <= region.radius) {\n        return region;\n      }\n    }\n    \n    return undefined;\n  }\n\n  /**\n   * Check if a route between two points is blocked by fortifications\n   */\n  isRouteBlocked(fromX: number, fromY: number, toX: number, toY: number): Chokepoint[] {\n    const blockedBy = [];\n    const dx = toX - fromX;\n    const dy = toY - fromY;\n    const distance = Math.sqrt(dx * dx + dy * dy);\n    const steps = Math.floor(distance);\n    \n    for (let i = 0; i <= steps; i++) {\n      const t = i / steps;\n      const x = Math.floor(fromX + dx * t);\n      const y = Math.floor(fromY + dy * t);\n      \n      const chokepoint = this.getChokepointAt(x, y);\n      if (chokepoint?.fortified && !chokepoint.fortification?.cleared) {\n        blockedBy.push(chokepoint);\n      }\n    }\n    \n    return blockedBy;\n  }\n\n  /**\n   * Clear a fortification (mark as completed)\n   */\n  clearFortification(x: number, y: number): boolean {\n    const chokepoint = this.getChokepointAt(x, y);\n    if (chokepoint?.fortification && !chokepoint.fortification.cleared) {\n      chokepoint.fortification.cleared = true;\n      return true;\n    }\n    return false;\n  }\n}","/**\n * World Engine - Core Game State Management\n * \n * Manages the canonical game state including:\n * - World generation and streaming\n * - Party position and movement\n * - Time and weather systems\n * - Discovery and fog of war\n * - Save/load functionality\n */\n\nimport { ChunkManager, Tile, WorldGenConfig, CHUNK_SIZE } from '../proc/chunks';\nimport { SeededRandom, WorldNoise, ValueNoise2D } from '../proc/noise';\nimport { ChokepointManager, Chokepoint, Fortification, RegionData } from '../proc/chokepoints';\nimport { PhysicalAbilitiesGenerator, PhysicalAbility, PhysicalAbilitySchool, PhysicalAbilityTier } from '../proc/physicalAbilities';\nimport { MagicalSpellsGenerator, MagicalSpell, MagicalSchool, SpellTier } from '../proc/magicalSpells';\n\nexport { ChunkManager, CHUNK_SIZE } from '../proc/chunks';\nexport { SeededRandom, WorldNoise, ValueNoise2D } from '../proc/noise';\nexport { ChokepointManager } from '../proc/chokepoints';\nexport { PhysicalAbilitiesGenerator } from '../proc/physicalAbilities';\nexport { MagicalSpellsGenerator } from '../proc/magicalSpells';\nexport type { Tile, WorldGenConfig } from '../proc/chunks';\nexport type { Chokepoint, Fortification, RegionData } from '../proc/chokepoints';\nexport type { PhysicalAbility, PhysicalAbilitySchool, PhysicalAbilityTier } from '../proc/physicalAbilities';\nexport type { MagicalSpell, MagicalSchool, SpellTier } from '../proc/magicalSpells';\n\nexport interface Character {\n  id: string;\n  name: string;\n  gender: string;\n  species: string;\n  archetype: string;\n  background: string;\n  level: number;\n  experience: number;\n  stats: {\n    strength: number;\n    dexterity: number;\n    constitution: number;\n    intelligence: number;\n    wisdom: number;\n    charisma: number;\n  };\n  traits: string[];\n  portraitUrl?: string;\n  hitPoints: number;\n  maxHitPoints: number;\n  stamina: number;\n  maxStamina: number;\n  ether: number;\n  maxEther: number;\n  knownAbilities: string[];\n  knownSpells: string[];\n  knownCantrips: string[];\n  equipment: string[];\n}\n\nexport interface Party {\n  x: number;\n  y: number;\n  members: string[]; // Character IDs\n  supplies: {\n    food: number;\n    water: number;\n    gold: number;\n  };\n  equipment: string[];\n  speed: number; // Base movement speed\n  hitPoints: number; // Current HP\n  maxHitPoints: number; // Maximum HP\n  level: number; // Party level for ability requirements\n  experience: number; // Experience points\n  knownAbilities: string[]; // Known physical abilities\n  knownSpells: string[]; // Known magical spells\n  stats: { // Party stats for ability requirements\n    strength: number;\n    dexterity: number;\n    constitution: number;\n    intelligence: number;\n    wisdom: number;\n    charisma: number;\n  };\n  stamina: number; // Current stamina for physical abilities\n  maxStamina: number; // Maximum stamina\n  ether: number; // Current ether for magical abilities  \n  maxEther: number; // Maximum ether\n}\n\nexport interface GameTime {\n  minutes: number;\n  day: number;\n  season: 'Spring' | 'Summer' | 'Autumn' | 'Winter';\n  year: number;\n}\n\nexport interface Weather {\n  type: 'Clear' | 'Rain' | 'Snow' | 'Fog' | 'Wind' | 'Storm';\n  intensity: number; // 0-1\n  duration: number; // minutes remaining\n  visibility: number; // 0-1, affects fog of war\n  movementModifier: number; // multiplier for movement speed\n}\n\nexport interface EncounterClock {\n  riskLevel: number; // 0-1, rises with travel, falls with rest\n  lastEncounter: number; // time in minutes\n  encounterChance: number; // base chance per movement\n}\n\nexport interface Encounter {\n  id: string;\n  name: string;\n  type: 'combat' | 'event' | 'discovery' | 'trader' | 'quest';\n  danger: 'safe' | 'low' | 'medium' | 'high' | 'extreme';\n  description: string;\n  biome?: string; // If specified, only appears in this biome\n  x?: number; // If specified, fixed location encounter\n  y?: number;\n  isFixed: boolean; // True for set encounters, false for random\n  isActive: boolean; // Whether this encounter has been triggered\n  rewards?: {\n    experience?: number;\n    gold?: number;\n    items?: string[];\n    reputation?: { faction: string; amount: number }[];\n  };\n}\n\nexport interface EngineConfig {\n  world: WorldGenConfig;\n  gameplay: {\n    movementCostPerTile: number; // minutes\n    encounterBaseChance: number;\n    weatherChangeDays: number;\n    fogOfWarRadius: number;\n    chunkLoadRadius: number;\n    chunkUnloadRadius: number;\n  };\n}\n\nexport interface GameState {\n  seed: string;\n  party: Party;\n  characters: Character[]; // Individual character data\n  time: GameTime;\n  weather: Weather;\n  encounterClock: EncounterClock;\n  activeEncounter: Encounter | null; // Current encounter if any\n  completedEncounters: Set<string>; // IDs of completed encounters\n  discovered: Set<string>; // \"x,y\" coordinates\n  config: EngineConfig;\n  version: string;\n}\n\nexport class WorldEngine {\n  private chunkManager!: ChunkManager;\n  private chokepointManager: ChokepointManager | null = null; // Temporarily nullable for debugging\n  private physicalAbilities!: PhysicalAbilitiesGenerator;\n  private magicalSpells!: MagicalSpellsGenerator;\n  private rng!: SeededRandom;\n  public state!: GameState;\n  private loadedFromSave: boolean = false; // Track if loaded from localStorage\n\n  constructor(seed?: string, config?: Partial<EngineConfig>) {\n    // Try to load existing game from localStorage first\n    const existingSave = localStorage.getItem('world-engine-save');\n    if (existingSave) {\n      try {\n        console.log('Found existing save, loading from localStorage...');\n        const success = this.loadFromStorage(existingSave);\n        if (success) {\n          console.log('Successfully loaded existing game!');\n          this.loadedFromSave = true;\n          return; // Exit early if load was successful\n        }\n      } catch (error) {\n        console.warn('Failed to load existing save, creating new game:', error);\n        localStorage.removeItem('world-engine-save'); // Clear corrupted save\n      }\n    }\n\n    // Create new game if no save exists or load failed\n    console.log('Creating new game...');\n    this.loadedFromSave = false;\n    this.createNewGame(seed, config);\n  }\n\n  /**\n   * Create a completely new game\n   */\n  private createNewGame(seed?: string, config?: Partial<EngineConfig>) {\n    const actualSeed = seed || this.generateSeed();\n    this.rng = new SeededRandom(`${actualSeed}_engine`);\n\n    const defaultConfig: EngineConfig = {\n      world: {\n        seaLevel: 0.0, // Almost no ocean, everything should be land\n        continentFreq: 1 / 1024,\n        featureFreq: 1 / 128,\n        warpStrength: 700,\n        mapWidth: 2048,\n        mapHeight: 2048\n      },\n      gameplay: {\n        movementCostPerTile: 15, // 15 minutes per tile\n        encounterBaseChance: 0.15, // Increased from 0.05 to 0.15 for better scaling\n        weatherChangeDays: 3,\n        fogOfWarRadius: 8,\n        chunkLoadRadius: 32, // Much smaller radius for performance\n        chunkUnloadRadius: 64\n      }\n    };\n\n    const mergedConfig: EngineConfig = {\n      world: { ...defaultConfig.world, ...config?.world },\n      gameplay: { ...defaultConfig.gameplay, ...config?.gameplay }\n    };\n\n    this.chunkManager = new ChunkManager(actualSeed, mergedConfig.world);\n\n    // Initialize physical abilities generator\n    this.physicalAbilities = new PhysicalAbilitiesGenerator(actualSeed);\n\n    // Initialize magical spells generator\n    this.magicalSpells = new MagicalSpellsGenerator(actualSeed);\n\n    // Initialize chokepoint manager with error handling\n    try {\n      console.log('Initializing chokepoint system...');\n      this.chokepointManager = new ChokepointManager(\n        actualSeed,\n        mergedConfig.world.mapWidth,\n        mergedConfig.world.mapHeight,\n        mergedConfig.world.mapWidth / 2,\n        mergedConfig.world.mapHeight / 2\n      );\n      console.log('Chokepoint system initialized successfully');\n    } catch (error) {\n      console.error('Failed to initialize chokepoint system:', error);\n      this.chokepointManager = null;\n    }\n\n    // Find a suitable spawn location on land\n    const spawnLocation = this.findLandSpawnLocation(mergedConfig.world.mapWidth, mergedConfig.world.mapHeight, mergedConfig.world.seaLevel);\n\n    // Double-check spawn tile and force boat if needed\n    const spawnTile = this.chunkManager.getTile(spawnLocation.x, spawnLocation.y);\n    const actuallyNeedsBoat = !spawnTile || spawnTile.biome === 'Ocean';\n\n    console.log('Final spawn location:', spawnLocation.x, spawnLocation.y);\n    console.log('Spawn tile biome:', spawnTile?.biome || 'null');\n    console.log('Needs boat:', actuallyNeedsBoat || spawnLocation.needsBoat);\n\n    this.state = {\n      seed: actualSeed,\n      party: {\n        x: spawnLocation.x,\n        y: spawnLocation.y,\n        members: [],\n        supplies: { food: 100, water: 100, gold: 50 },\n        equipment: (actuallyNeedsBoat || spawnLocation.needsBoat) ? ['boat'] : [], // Give boat if spawned in/near water\n        speed: 1.0,\n        hitPoints: 100, // Start at full health\n        maxHitPoints: 100,\n        level: 1, // Starting level\n        experience: 0,\n        knownAbilities: [], // No abilities at start\n        knownSpells: [], // No spells at start\n        stats: { // Starting stats\n          strength: 12,\n          dexterity: 12,\n          constitution: 12,\n          intelligence: 12,\n          wisdom: 12,\n          charisma: 12\n        },\n        stamina: 20, // Starting stamina\n        maxStamina: 20,\n        ether: 15, // Starting ether for magic\n        maxEther: 15\n      },\n      characters: [], // Individual character data - initially empty\n      time: {\n        minutes: 480, // 8 AM\n        day: 1,\n        season: 'Spring',\n        year: 1\n      },\n      weather: this.generateWeather(spawnLocation.x, spawnLocation.y, actualSeed, 1),\n      encounterClock: {\n        riskLevel: 0,\n        lastEncounter: 0,\n        encounterChance: mergedConfig.gameplay.encounterBaseChance\n      },\n      activeEncounter: null,\n      completedEncounters: new Set(),\n      discovered: new Set(),\n      config: mergedConfig,\n      version: '1.0.0'\n    };\n\n    // Discover initial area around party\n    this.discoverRadius(this.state.party.x, this.state.party.y, 3);\n\n    // Create a main city at spawn point\n    this.createMainCity(this.state.party.x, this.state.party.y);\n\n    // Auto-save the new game\n    this.autoSave();\n  }\n\n  /**\n   * Load game state from localStorage\n   */\n  private loadFromStorage(saveData: string): boolean {\n    try {\n      const data = JSON.parse(saveData);\n\n      // Recreate chunk manager and chokepoint manager with loaded seed\n      this.chunkManager = new ChunkManager(data.seed, data.config.world);\n\n      // Initialize physical abilities generator\n      this.physicalAbilities = new PhysicalAbilitiesGenerator(data.seed);\n\n      // Initialize magical spells generator\n      this.magicalSpells = new MagicalSpellsGenerator(data.seed);\n\n      // Initialize RNG\n      this.rng = new SeededRandom(`${data.seed}_engine`);\n\n      try {\n        this.chokepointManager = new ChokepointManager(\n          data.seed,\n          data.config.world.mapWidth,\n          data.config.world.mapHeight,\n          data.config.world.mapWidth / 2,\n          data.config.world.mapHeight / 2\n        );\n      } catch (error) {\n        console.error('Failed to recreate chokepoint manager during load:', error);\n        this.chokepointManager = null;\n      }\n\n      // Restore game state\n      this.state = {\n        ...data,\n        discovered: new Set(data.discovered) // Convert Array back to Set\n      };\n\n      console.log(`Game loaded successfully! Seed: ${this.state.seed}, Characters: ${this.state.characters.length}`);\n      return true;\n    } catch (error) {\n      console.error('Failed to load game state:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Auto-save to localStorage\n   */\n  private autoSave(): void {\n    try {\n      const saveData = this.save();\n      localStorage.setItem('world-engine-save', saveData);\n      console.log('Game auto-saved to localStorage');\n    } catch (error) {\n      console.error('Failed to auto-save game:', error);\n    }\n  }\n\n  /**\n   * Find a suitable land spawn location\n   */\n  private findLandSpawnLocation(mapWidth: number, mapHeight: number, seaLevel: number): { x: number; y: number; needsBoat: boolean } {\n    console.log('Finding suitable spawn location...');\n\n    // Use multiple strategic positions that should be inland based on continental generation\n    const landCandidates = [\n      // Continental centers (should be high elevation)\n      { x: Math.floor(mapWidth * 0.25), y: Math.floor(mapHeight * 0.25) },\n      { x: Math.floor(mapWidth * 0.75), y: Math.floor(mapHeight * 0.75) },\n      { x: Math.floor(mapWidth * 0.25), y: Math.floor(mapHeight * 0.75) },\n      { x: Math.floor(mapWidth * 0.75), y: Math.floor(mapHeight * 0.25) },\n\n      // Off-center positions\n      { x: Math.floor(mapWidth * 0.4), y: Math.floor(mapHeight * 0.3) },\n      { x: Math.floor(mapWidth * 0.6), y: Math.floor(mapHeight * 0.7) },\n      { x: Math.floor(mapWidth * 0.3), y: Math.floor(mapWidth * 0.6) },\n      { x: Math.floor(mapWidth * 0.7), y: Math.floor(mapWidth * 0.4) },\n\n      // Fallback positions\n      { x: Math.floor(mapWidth * 0.5), y: Math.floor(mapHeight * 0.3) },\n      { x: Math.floor(mapWidth * 0.3), y: Math.floor(mapHeight * 0.5) }\n    ];\n\n    console.log('Trying strategic land candidates with sea level', seaLevel, '...');\n    for (const candidate of landCandidates) {\n      console.log('Testing candidate:', candidate.x, candidate.y);\n\n      // Pre-load area around candidate\n      this.chunkManager.ensureRadius(candidate.x, candidate.y, 3);\n\n      const tile = this.chunkManager.getTile(candidate.x, candidate.y);\n      console.log('Candidate tile details:');\n      console.log('  Position:', candidate.x, candidate.y);\n      console.log('  Biome:', tile?.biome || 'null');\n      console.log('  Elevation:', tile?.elevation || 'null');\n      console.log('  Temperature:', tile?.temperature || 'null');\n      console.log('  Moisture:', tile?.moisture || 'null');\n      console.log('  Sea level config:', seaLevel);\n\n      if (tile && tile.biome !== 'Ocean') {\n        console.log('✓ Found land spawn at:', candidate.x, candidate.y, 'Biome:', tile.biome);\n        return { x: candidate.x, y: candidate.y, needsBoat: false };\n      }\n    }\n\n    // Emergency fallback: spawn at first candidate with boat\n    const fallback = landCandidates[0];\n    console.log('All land searches failed, spawning with boat at:', fallback.x, fallback.y);\n    return { x: fallback.x, y: fallback.y, needsBoat: true };\n  }\n\n  /**\n   * Generate a random seed\n   */\n  private generateSeed(): string {\n    return Math.random().toString(36).substring(2, 15);\n  }\n\n  /**\n   * Move party by relative distance\n   * Returns false if movement is blocked\n   */\n  tickTravel(dx: number, dy: number): boolean {\n    const newX = Math.round(this.state.party.x + dx);\n    const newY = Math.round(this.state.party.y + dy);\n\n    // Check bounds\n    if (newX < 0 || newX >= this.state.config.world.mapWidth ||\n      newY < 0 || newY >= this.state.config.world.mapHeight) {\n      return false;\n    }\n\n    // Get destination tile\n    const tile = this.chunkManager.getTile(newX, newY);\n    if (!tile) {\n      return false;\n    }\n\n    // Check if movement is possible\n    if (tile.biome === 'Ocean' && !this.hasBoat()) {\n      return false;\n    }\n\n    // Calculate movement cost\n    const baseCost = this.state.config.gameplay.movementCostPerTile;\n    const terrainModifier = this.getTerrainMovementModifier(tile);\n    const weatherModifier = this.state.weather.movementModifier;\n    const actualCost = Math.round(baseCost * terrainModifier * weatherModifier / this.state.party.speed);\n\n    // Move party\n    this.state.party.x = newX;\n    this.state.party.y = newY;\n\n    // Advance time\n    this.advanceTime(actualCost);\n\n    // Discover new area\n    this.discoverRadius(newX, newY, this.state.config.gameplay.fogOfWarRadius);\n\n    // Ensure chunks are loaded\n    this.ensureRadius(this.state.config.gameplay.chunkLoadRadius);\n\n    // Update encounter risk\n    this.updateEncounterRisk(tile, actualCost);\n\n    // Check for encounters after movement\n    this.checkForEncounter(tile);\n\n    // Update weather\n    this.updateWeather();\n\n    // Auto-save after movement\n    this.autoSave();\n\n    return true;\n  }\n\n  /**\n   * Check if party has water transportation\n   */\n  private hasBoat(): boolean {\n    return this.state.party.equipment.includes('boat') ||\n      this.state.party.equipment.includes('ship');\n  }\n\n  /**\n   * Get movement speed modifier for terrain\n   */\n  private getTerrainMovementModifier(tile: Tile): number {\n    const modifiers: Record<string, number> = {\n      'Ocean': 0.3, // Very slow without proper ship\n      'Coast': 0.8,\n      'Grass': 1.0,\n      'Forest': 0.7,\n      'Jungle': 0.5,\n      'Savanna': 1.1,\n      'Desert': 0.6,\n      'Taiga': 0.8,\n      'Tundra': 0.7,\n      'Swamp': 0.4,\n      'Mountain': 0.3,\n      'Snow': 0.5\n    };\n\n    let modifier = modifiers[tile.biome] || 1.0;\n\n    // Roads speed up travel\n    if (tile.road) modifier *= 1.5;\n\n    // Rivers slow down travel unless there's a bridge/ford\n    if (tile.river && !tile.road) modifier *= 0.8;\n\n    return modifier;\n  }\n\n  /**\n   * Advance game time\n   */\n  advanceTime(minutes: number): void {\n    this.state.time.minutes += minutes;\n\n    // Handle day rollover\n    while (this.state.time.minutes >= 1440) { // 24 hours\n      this.state.time.minutes -= 1440;\n      this.state.time.day++;\n\n      // Handle season change (90 days per season)\n      if (this.state.time.day > 90) {\n        this.state.time.day = 1;\n        const seasons: Array<'Spring' | 'Summer' | 'Autumn' | 'Winter'> = ['Spring', 'Summer', 'Autumn', 'Winter'];\n        const currentIndex = seasons.indexOf(this.state.time.season);\n        if (currentIndex === 3) {\n          this.state.time.season = 'Spring';\n          this.state.time.year++;\n        } else {\n          this.state.time.season = seasons[currentIndex + 1];\n        }\n      }\n    }\n  }\n\n  /**\n   * Discover tiles within radius\n   */\n  discoverRadius(centerX: number, centerY: number, radius: number): void {\n    const weatherVisibility = this.state.weather.visibility;\n    const actualRadius = Math.floor(radius * weatherVisibility);\n\n    for (let dx = -actualRadius; dx <= actualRadius; dx++) {\n      for (let dy = -actualRadius; dy <= actualRadius; dy++) {\n        const distance = Math.sqrt(dx * dx + dy * dy);\n        if (distance <= actualRadius) {\n          const x = centerX + dx;\n          const y = centerY + dy;\n          if (x >= 0 && x < this.state.config.world.mapWidth &&\n            y >= 0 && y < this.state.config.world.mapHeight) {\n            this.state.discovered.add(`${x},${y}`);\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Ensure chunks are loaded within radius\n   */\n  ensureRadius(radius: number): void {\n    this.chunkManager.ensureRadius(\n      this.state.party.x,\n      this.state.party.y,\n      radius\n    );\n\n    // Unload distant chunks to save memory\n    this.chunkManager.unloadBeyond(\n      this.state.party.x,\n      this.state.party.y,\n      this.state.config.gameplay.chunkUnloadRadius\n    );\n  }\n\n  /**\n   * Update encounter risk based on movement\n   */\n  updateEncounterRisk(tile: Tile, timeCost: number): void {\n    const baseRiskIncrease = 0.02 * (timeCost / 60); // Risk per hour of travel (reduced from 0.1 to 0.02)\n\n    // Terrain modifiers\n    const terrainRiskModifiers: Record<string, number> = {\n      'Ocean': 0.2,\n      'Coast': 0.5,\n      'Grass': 1.0,\n      'Forest': 1.3,\n      'Jungle': 1.5,\n      'Savanna': 1.1,\n      'Desert': 0.8,\n      'Taiga': 1.2,\n      'Tundra': 0.7,\n      'Swamp': 1.4,\n      'Mountain': 1.6,\n      'Snow': 0.6\n    };\n\n    let riskIncrease = baseRiskIncrease * (terrainRiskModifiers[tile.biome] || 1.0);\n\n    // Roads are safer\n    if (tile.road) riskIncrease *= 0.5;\n\n    // Settlements are safe\n    if (tile.settlement) riskIncrease = 0;\n\n    this.state.encounterClock.riskLevel = Math.min(1, this.state.encounterClock.riskLevel + riskIncrease);\n  }\n\n  /**\n   * Generate weather for current conditions\n   */\n  generateWeather(partyX?: number, partyY?: number, seed?: string, day?: number): Weather {\n    // Use provided parameters or fall back to current state\n    const x = partyX ?? this.state?.party?.x ?? 1024;\n    const y = partyY ?? this.state?.party?.y ?? 1024;\n    const currentSeed = seed ?? this.state?.seed ?? 'default';\n    const currentDay = day ?? this.state?.time?.day ?? 1;\n\n    const tile = this.chunkManager.getTile(x, y);\n    if (!tile) {\n      return {\n        type: 'Clear',\n        intensity: 0,\n        duration: 480, // 8 hours\n        visibility: 1.0,\n        movementModifier: 1.0\n      };\n    }\n\n    const weatherRng = new SeededRandom(`${currentSeed}_weather_${currentDay}`);\n    const biomeWeatherChances = this.getBiomeWeatherChances(tile.biome);\n\n    const roll = weatherRng.nextFloat();\n    let weatherType: Weather['type'] = 'Clear';\n    let cumulative = 0;\n\n    for (const [type, chance] of Object.entries(biomeWeatherChances)) {\n      cumulative += chance;\n      if (roll <= cumulative) {\n        weatherType = type as Weather['type'];\n        break;\n      }\n    }\n\n    const intensity = weatherRng.nextFloat(0.3, 1.0);\n    const duration = weatherRng.nextInt(240, 720); // 4-12 hours\n\n    return {\n      type: weatherType,\n      intensity,\n      duration,\n      ...this.getWeatherEffects(weatherType, intensity)\n    };\n  }\n\n  /**\n   * Get weather chances for different biomes\n   */\n  getBiomeWeatherChances(biome: string): Record<string, number> {\n    const baseChances: Record<string, Record<string, number>> = {\n      Ocean: { Clear: 0.5, Rain: 0.3, Storm: 0.1, Wind: 0.1 },\n      Coast: { Clear: 0.6, Rain: 0.25, Wind: 0.1, Fog: 0.05 },\n      Grass: { Clear: 0.7, Rain: 0.2, Wind: 0.1 },\n      Forest: { Clear: 0.6, Rain: 0.3, Fog: 0.1 },\n      Jungle: { Clear: 0.4, Rain: 0.5, Storm: 0.1 },\n      Desert: { Clear: 0.8, Wind: 0.15, Storm: 0.05 },\n      Mountain: { Clear: 0.5, Snow: 0.2, Wind: 0.2, Storm: 0.1 },\n      Snow: { Clear: 0.4, Snow: 0.4, Wind: 0.2 },\n      Tundra: { Clear: 0.5, Snow: 0.3, Wind: 0.2 },\n      Taiga: { Clear: 0.6, Snow: 0.2, Rain: 0.1, Wind: 0.1 },\n      Swamp: { Clear: 0.4, Rain: 0.3, Fog: 0.3 },\n      Savanna: { Clear: 0.7, Rain: 0.2, Wind: 0.1 }\n    };\n\n    return baseChances[biome] || baseChances.Grass;\n  }\n\n  /**\n   * Get weather effects on gameplay\n   */\n  getWeatherEffects(type: Weather['type'], intensity: number): { visibility: number; movementModifier: number } {\n    const effects: Record<Weather['type'], { visibility: number; movementModifier: number }> = {\n      Clear: { visibility: 1.0, movementModifier: 1.0 },\n      Rain: { visibility: 0.8, movementModifier: 0.8 },\n      Snow: { visibility: 0.6, movementModifier: 0.6 },\n      Fog: { visibility: 0.3, movementModifier: 0.9 },\n      Wind: { visibility: 1.0, movementModifier: 0.9 },\n      Storm: { visibility: 0.4, movementModifier: 0.5 }\n    };\n\n    const base = effects[type];\n    return {\n      visibility: Math.max(0.1, base.visibility - (1 - intensity) * 0.2),\n      movementModifier: Math.max(0.3, base.movementModifier - (intensity - 0.5) * 0.2)\n    };\n  }\n\n  /**\n   * Update weather over time\n   */\n  updateWeather(): void {\n    this.state.weather.duration--;\n\n    if (this.state.weather.duration <= 0) {\n      this.state.weather = this.generateWeather();\n    }\n  }\n\n  /**\n   * Rest at current location\n   */\n  rest(hours: number): void {\n    this.advanceTime(hours * 60);\n\n    // Resting reduces encounter risk\n    this.state.encounterClock.riskLevel = Math.max(0, this.state.encounterClock.riskLevel - 0.3);\n\n    // Heal HP over time (10 HP per hour of rest, up to max)\n    const healingPerHour = 10;\n    const totalHealing = hours * healingPerHour;\n    this.state.party.hitPoints = Math.min(\n      this.state.party.maxHitPoints,\n      this.state.party.hitPoints + totalHealing\n    );\n\n    // Restore stamina over time (5 stamina per hour of rest)\n    const staminaPerHour = 5;\n    const totalStaminaRestored = hours * staminaPerHour;\n    this.state.party.stamina = Math.min(\n      this.state.party.maxStamina,\n      this.state.party.stamina + totalStaminaRestored\n    );\n\n    // Restore ether over time (3 ether per hour of rest)\n    const etherPerHour = 3;\n    const totalEtherRestored = hours * etherPerHour;\n    this.state.party.ether = Math.min(\n      this.state.party.maxEther,\n      this.state.party.ether + totalEtherRestored\n    );\n\n    // Update weather during rest\n    for (let i = 0; i < hours; i++) {\n      this.updateWeather();\n    }\n  }\n\n  /**\n   * Deal damage to the party\n   */\n  takeDamage(damage: number): boolean {\n    this.state.party.hitPoints = Math.max(0, this.state.party.hitPoints - damage);\n    return this.state.party.hitPoints > 0; // Return true if party is still alive\n  }\n\n  /**\n   * Heal the party\n   */\n  heal(amount: number): void {\n    this.state.party.hitPoints = Math.min(\n      this.state.party.maxHitPoints,\n      this.state.party.hitPoints + amount\n    );\n  }\n\n  /**\n   * Get tile at position (generates if needed)\n   */\n  getTile(x: number, y: number): Tile | undefined {\n    return this.chunkManager.getTile(x, y);\n  }\n\n  /**\n   * Check if position is discovered\n   */\n  isDiscovered(x: number, y: number): boolean {\n    return this.state.discovered.has(`${x},${y}`);\n  }\n\n  /**\n   * Get current time of day (0-1, 0=midnight, 0.5=noon)\n   */\n  getTimeOfDay(): number {\n    return (this.state.time.minutes % 1440) / 1440;\n  }\n\n  /**\n   * Get memory and performance statistics\n   */\n  getStats(): {\n    chunks: ReturnType<ChunkManager['getStats']>;\n    discovered: number;\n    timeOfDay: number;\n    gameTime: string;\n  } {\n    const hours = Math.floor(this.state.time.minutes / 60) % 24;\n    const minutes = this.state.time.minutes % 60;\n\n    return {\n      chunks: this.chunkManager.getStats(),\n      discovered: this.state.discovered.size,\n      timeOfDay: this.getTimeOfDay(),\n      gameTime: `Day ${this.state.time.day}, ${this.state.time.season} Year ${this.state.time.year} - ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`\n    };\n  }\n\n  /**\n   * Check if the engine was loaded from a saved game\n   */\n  wasLoadedFromSave(): boolean {\n    return this.loadedFromSave;\n  }\n\n  /**\n   * Save game state to JSON\n   */\n  save(): string {\n    const saveData = {\n      ...this.state,\n      discovered: Array.from(this.state.discovered) // Convert Set to Array for JSON\n    };\n    return JSON.stringify(saveData, null, 2);\n  }\n\n  /**\n   * Load game state from JSON\n   */\n  load(saveData: string): boolean {\n    try {\n      const data = JSON.parse(saveData);\n\n      // Recreate chunk manager and chokepoint manager with loaded seed\n      this.chunkManager = new ChunkManager(data.seed, data.config.world);\n\n      try {\n        this.chokepointManager = new ChokepointManager(\n          data.seed,\n          data.config.world.mapWidth,\n          data.config.world.mapHeight,\n          data.config.world.mapWidth / 2,\n          data.config.world.mapHeight / 2\n        );\n      } catch (error) {\n        console.error('Failed to recreate chokepoint manager during load:', error);\n        this.chokepointManager = null;\n      }\n\n      this.rng = new SeededRandom(`${data.seed}_engine`);\n\n      // Restore state\n      this.state = {\n        ...data,\n        discovered: new Set(data.discovered) // Convert Array back to Set\n      };\n\n      // Ensure current area is loaded\n      this.ensureRadius(this.state.config.gameplay.chunkLoadRadius);\n\n      // Set flag to indicate this was loaded from a save\n      this.loadedFromSave = true;\n\n      return true;\n    } catch (error) {\n      console.error('Failed to load save data:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Update world generation config and regenerate world\n   */\n  updateWorldConfig(newConfig: Partial<WorldGenConfig>): void {\n    this.state.config.world = { ...this.state.config.world, ...newConfig };\n    this.chunkManager.updateConfig(this.state.config.world);\n    this.chunkManager.invalidateAll();\n\n    // Recreate chokepoint manager with new config\n    try {\n      this.chokepointManager = new ChokepointManager(\n        this.state.seed,\n        this.state.config.world.mapWidth,\n        this.state.config.world.mapHeight,\n        this.state.config.world.mapWidth / 2,\n        this.state.config.world.mapHeight / 2\n      );\n    } catch (error) {\n      console.error('Failed to recreate chokepoint manager:', error);\n      this.chokepointManager = null;\n    }\n\n    // Clear discoveries since world changed\n    this.state.discovered.clear();\n    this.discoverRadius(this.state.party.x, this.state.party.y, this.state.config.gameplay.fogOfWarRadius);\n  }\n\n  // ===== CHOKEPOINT & REGION METHODS =====\n\n  /**\n   * Get all chokepoints in the world\n   */\n  getChokepoints(): Chokepoint[] {\n    return this.chokepointManager?.getChokepoints() || [];\n  }\n\n  /**\n   * Get chokepoint at specific location\n   */\n  getChokepointAt(x: number, y: number): Chokepoint | undefined {\n    return this.chokepointManager?.getChokepointAt(x, y);\n  }\n\n  /**\n   * Get all regions in the world\n   */\n  getRegions(): RegionData[] {\n    return this.chokepointManager?.getRegions() || [];\n  }\n\n  /**\n   * Get region containing a point\n   */\n  getRegionAt(x: number, y: number): RegionData | undefined {\n    return this.chokepointManager?.getRegionAt(x, y);\n  }\n\n  /**\n   * Check if travel to a location is blocked by fortifications\n   */\n  checkTravelBlockage(toX: number, toY: number): Chokepoint[] {\n    return this.chokepointManager?.isRouteBlocked(\n      this.state.party.x,\n      this.state.party.y,\n      toX,\n      toY\n    ) || [];\n  }\n\n  /**\n   * Attempt to clear a fortification\n   * Returns true if successful, false if failed or not present\n   */\n  attemptFortificationClear(x: number, y: number): {\n    success: boolean;\n    fortification?: Fortification;\n    rewards?: any[];\n  } {\n    const chokepoint = this.getChokepointAt(x, y);\n\n    if (!chokepoint?.fortification || chokepoint.fortification.cleared) {\n      return { success: false };\n    }\n\n    const fort = chokepoint.fortification;\n\n    // Simple success check (can be expanded with party stats)\n    const partyLevel = Math.max(1, Math.floor(this.state.time.day / 30)); // Rough level estimate\n    const hasRequiredGear = fort.requiredGear.every(gear =>\n      this.state.party.equipment.includes(gear)\n    );\n\n    if (partyLevel >= fort.requiredLevel && hasRequiredGear) {\n      const success = this.chokepointManager?.clearFortification(x, y);\n\n      if (success) {\n        // Apply rewards\n        for (const reward of fort.rewards) {\n          if (reward.type === 'gold') {\n            this.state.party.supplies.gold += reward.value;\n          } else if (reward.type === 'equipment') {\n            this.state.party.equipment.push(reward.name);\n          }\n          // TODO: Handle spell and key rewards\n        }\n\n        return {\n          success: true,\n          fortification: fort,\n          rewards: fort.rewards\n        };\n      }\n    }\n\n    return { success: false, fortification: fort };\n  }\n\n  /**\n   * Get current region info for the party\n   */\n  getCurrentRegion(): RegionData | undefined {\n    return this.getRegionAt(this.state.party.x, this.state.party.y);\n  }\n\n  /**\n   * Check if party can travel to a specific location\n   */\n  canTravelTo(x: number, y: number): {\n    canTravel: boolean;\n    blockedBy: Chokepoint[];\n    reason?: string;\n  } {\n    const blockedBy = this.checkTravelBlockage(x, y);\n\n    if (blockedBy.length === 0) {\n      return { canTravel: true, blockedBy: [] };\n    }\n\n    const unclearedForts = blockedBy.filter(cp =>\n      cp.fortified && cp.fortification && !cp.fortification.cleared\n    );\n\n    if (unclearedForts.length > 0) {\n      const fortNames = unclearedForts\n        .map(cp => cp.fortification?.name)\n        .filter(Boolean)\n        .join(', ');\n\n      return {\n        canTravel: false,\n        blockedBy: unclearedForts,\n        reason: `Path blocked by fortification(s): ${fortNames}`\n      };\n    }\n\n    return { canTravel: true, blockedBy: [] };\n  }\n\n  /**\n   * Create a main city at spawn point\n   */\n  private createMainCity(x: number, y: number): void {\n    // Force the spawn tile to be grassland with a city\n    const tile = this.chunkManager.getTile(x, y);\n    if (tile) {\n      tile.settlement = {\n        name: this.generateCityName(),\n        population: this.rng.nextInt(5000, 15000),\n        size: 'city',\n        faction: 'Capital'\n      };\n\n      // Ensure surrounding area is good for a city\n      for (let dx = -1; dx <= 1; dx++) {\n        for (let dy = -1; dy <= 1; dy++) {\n          const surroundTile = this.chunkManager.getTile(x + dx, y + dy);\n          if (surroundTile && surroundTile.biome === 'Ocean') {\n            surroundTile.biome = 'Coast';\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Generate a random city name\n   */\n  private generateCityName(): string {\n    const prefixes = ['Haven', 'Storm', 'River', 'Gold', 'Stone', 'Iron', 'Silver', 'White', 'Black', 'Red'];\n    const suffixes = ['port', 'hold', 'burg', 'haven', 'ford', 'gate', 'fall', 'ridge', 'vale', 'watch'];\n\n    const prefix = prefixes[this.rng.nextInt(0, prefixes.length - 1)];\n    const suffix = suffixes[this.rng.nextInt(0, suffixes.length - 1)];\n\n    return `${prefix}${suffix}`;\n  }\n\n  /**\n   * Check for encounters after movement\n   */\n  private checkForEncounter(tile: Tile): void {\n    // Don't trigger encounters in cities\n    if (tile.settlement?.size === 'city') {\n      return;\n    }\n\n    // Check for fixed encounters at this location first\n    const fixedEncounter = this.getFixedEncounterAt(this.state.party.x, this.state.party.y);\n    if (fixedEncounter && !this.state.completedEncounters.has(fixedEncounter.id)) {\n      this.state.activeEncounter = fixedEncounter;\n      return;\n    }\n\n    // Check for random encounters based on risk level\n    const encounterRoll = this.rng.nextFloat();\n    const encounterThreshold = this.state.encounterClock.riskLevel * this.state.encounterClock.encounterChance;\n\n    if (encounterRoll <= encounterThreshold) {\n      // Generate random encounter\n      const randomEncounter = this.generateRandomEncounter(tile);\n      if (randomEncounter) {\n        this.state.activeEncounter = randomEncounter;\n        // Reset encounter risk after triggering\n        this.state.encounterClock.riskLevel = Math.max(0, this.state.encounterClock.riskLevel - 0.5);\n        this.state.encounterClock.lastEncounter = this.state.time.minutes;\n      }\n    }\n  }\n\n  /**\n   * Generate a random encounter based on current tile\n   */\n  private generateRandomEncounter(tile: Tile): Encounter | null {\n    const encounters: Omit<Encounter, 'id' | 'x' | 'y' | 'isFixed' | 'isActive'>[] = [];\n\n    // Biome-specific encounters\n    switch (tile.biome) {\n      case 'Forest':\n        encounters.push(\n          {\n            name: 'Forest Bandits',\n            type: 'combat',\n            danger: 'medium',\n            description: 'A group of bandits emerges from the trees, demanding your coin.',\n            biome: 'Forest',\n            rewards: { gold: 50, experience: 75 }\n          },\n          {\n            name: 'Lost Traveler',\n            type: 'event',\n            danger: 'safe',\n            description: 'A confused traveler asks for directions to the nearest town.',\n            biome: 'Forest',\n            rewards: { experience: 25 }\n          },\n          {\n            name: 'Ancient Grove',\n            type: 'discovery',\n            danger: 'safe',\n            description: 'You discover an ancient grove with mystical properties.',\n            biome: 'Forest',\n            rewards: { experience: 100 }\n          }\n        );\n        break;\n\n      case 'Grass':\n        encounters.push(\n          {\n            name: 'Wild Wolves',\n            type: 'combat',\n            danger: 'low',\n            description: 'A pack of hungry wolves blocks your path.',\n            biome: 'Grass',\n            rewards: { experience: 50 }\n          },\n          {\n            name: 'Merchant Caravan',\n            type: 'trader',\n            danger: 'safe',\n            description: 'A friendly merchant offers to trade goods.',\n            biome: 'Grass',\n            rewards: { experience: 25 }\n          }\n        );\n        break;\n\n      case 'Mountain':\n        encounters.push(\n          {\n            name: 'Mountain Trolls',\n            type: 'combat',\n            danger: 'high',\n            description: 'Massive trolls emerge from rocky caves, brandishing crude weapons.',\n            biome: 'Mountain',\n            rewards: { gold: 100, experience: 150 }\n          },\n          {\n            name: 'Hidden Cave',\n            type: 'discovery',\n            danger: 'medium',\n            description: 'You discover a cave that might contain treasure... or danger.',\n            biome: 'Mountain',\n            rewards: { gold: 75, experience: 100 }\n          }\n        );\n        break;\n\n      case 'Desert':\n        encounters.push(\n          {\n            name: 'Desert Nomads',\n            type: 'event',\n            danger: 'safe',\n            description: 'Desert nomads offer to share their water and knowledge.',\n            biome: 'Desert',\n            rewards: { experience: 50 }\n          },\n          {\n            name: 'Sandstorm Mirage',\n            type: 'discovery',\n            danger: 'low',\n            description: 'A mirage reveals the location of an oasis.',\n            biome: 'Desert',\n            rewards: { experience: 75 }\n          }\n        );\n        break;\n\n      case 'Swamp':\n        encounters.push(\n          {\n            name: 'Swamp Wraiths',\n            type: 'combat',\n            danger: 'high',\n            description: 'Ghostly figures rise from the murky waters.',\n            biome: 'Swamp',\n            rewards: { experience: 125, items: ['Spirit Essence'] }\n          }\n        );\n        break;\n\n      default:\n        // Generic encounters for other biomes\n        encounters.push(\n          {\n            name: 'Strange Weather',\n            type: 'event',\n            danger: 'safe',\n            description: 'Unusual weather patterns create an interesting phenomenon.',\n            rewards: { experience: 30 }\n          }\n        );\n    }\n\n    if (encounters.length === 0) return null;\n\n    const selectedEncounter = encounters[this.rng.nextInt(0, encounters.length - 1)];\n\n    return {\n      id: `random_${this.state.party.x}_${this.state.party.y}_${this.state.time.day}_${Date.now()}`,\n      x: this.state.party.x,\n      y: this.state.party.y,\n      isFixed: false,\n      isActive: true,\n      ...selectedEncounter\n    };\n  }\n\n  /**\n   * Get fixed encounter at specific location\n   */\n  private getFixedEncounterAt(x: number, y: number): Encounter | null {\n    // This could be expanded to load from a data file or generate based on world features\n    const fixedEncounters: Encounter[] = [\n      // Example fixed encounters - these would be loaded from world data\n      {\n        id: 'dragon_lair_1000_1000',\n        name: 'Ancient Dragon Lair',\n        type: 'combat',\n        danger: 'extreme',\n        description: 'An ancient red dragon guards a massive hoard in this mountain cave.',\n        x: 1000,\n        y: 1000,\n        isFixed: true,\n        isActive: true,\n        rewards: {\n          gold: 5000,\n          experience: 1000,\n          items: ['Dragon Scale Armor', 'Flame Sword'],\n          reputation: [{ faction: 'Dragon Slayers', amount: 100 }]\n        }\n      }\n      // Add more fixed encounters here\n    ];\n\n    return fixedEncounters.find(enc => enc.x === x && enc.y === y) || null;\n  }\n\n  /**\n   * Get current active encounter\n   */\n  getActiveEncounter(): Encounter | null {\n    return this.state.activeEncounter;\n  }\n\n  /**\n   * Complete the current encounter\n   */\n  completeEncounter(success: boolean, rewards?: any): void {\n    if (!this.state.activeEncounter) return;\n\n    const encounter = this.state.activeEncounter;\n\n    // Handle combat encounters - deal damage based on success/failure\n    if (encounter.type === 'combat') {\n      if (!success) {\n        // Failed combat - take significant damage based on danger level\n        let damage = 0;\n        switch (encounter.danger) {\n          case 'low': damage = 10 + Math.floor(Math.random() * 10); break;    // 10-20 damage\n          case 'medium': damage = 20 + Math.floor(Math.random() * 15); break; // 20-35 damage  \n          case 'high': damage = 30 + Math.floor(Math.random() * 20); break;   // 30-50 damage\n          default: damage = 15 + Math.floor(Math.random() * 10); break;       // 15-25 damage\n        }\n        this.takeDamage(damage);\n        console.log(`Combat failed! Party takes ${damage} damage. HP: ${this.state.party.hitPoints}/${this.state.party.maxHitPoints}`);\n      } else {\n        // Successful combat - minimal damage\n        const damage = Math.floor(Math.random() * 5); // 0-5 damage\n        if (damage > 0) {\n          this.takeDamage(damage);\n          console.log(`Combat won with minor injuries: ${damage} damage taken.`);\n        }\n      }\n    }\n\n    if (success) {\n      // Mark as completed\n      this.state.completedEncounters.add(encounter.id);\n\n      // Apply rewards\n      if (encounter.rewards) {\n        const reward = encounter.rewards;\n        if (reward.gold) {\n          this.state.party.supplies.gold += reward.gold;\n        }\n        if (reward.items) {\n          this.state.party.equipment.push(...reward.items);\n        }\n        if (reward.experience) {\n          const leveledUp = this.gainExperience(reward.experience);\n          if (leveledUp) {\n            console.log(`Party gained ${reward.experience} XP and leveled up! Now level ${this.state.party.level}`);\n          } else {\n            console.log(`Party gained ${reward.experience} XP`);\n          }\n        }\n      }\n    }\n\n    // Clear active encounter\n    this.state.activeEncounter = null;\n  }\n\n  /**\n   * Dismiss current encounter without completing\n   */\n  dismissEncounter(): void {\n    this.state.activeEncounter = null;\n  }\n\n  /**\n   * Get available magical spells for the party\n   */\n  getAvailableMagicalSpells(): MagicalSpell[] {\n    return this.magicalSpells.getAvailableSpells(\n      this.state.party.level,\n      this.state.party.stats,\n      this.state.party.equipment, // Using equipment as components for now\n      this.state.party.knownSpells\n    );\n  }\n\n  /**\n   * Learn a new magical spell\n   */\n  learnMagicalSpell(spellName: string): boolean {\n    const available = this.getAvailableMagicalSpells();\n    const spell = available.find(s => s.name === spellName);\n\n    if (spell && !this.state.party.knownSpells.includes(spellName)) {\n      this.state.party.knownSpells.push(spellName);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Cast a magical spell (if known and have ether)\n   */\n  castMagicalSpell(spellName: string): { success: boolean; message: string } {\n    if (!this.state.party.knownSpells.includes(spellName)) {\n      return { success: false, message: 'Spell not known' };\n    }\n\n    const available = this.getAvailableMagicalSpells();\n    const spell = available.find(s => s.name === spellName);\n\n    if (!spell) {\n      return { success: false, message: 'Spell no longer available (requirements not met)' };\n    }\n\n    if (this.state.party.ether < spell.etherCost) {\n      return { success: false, message: 'Not enough ether' };\n    }\n\n    // Cast the spell\n    this.state.party.ether -= spell.etherCost;\n\n    // Apply effects (basic implementation)\n    let message = `Cast ${spellName}!`;\n\n    if (spell.effects.healing) {\n      const healing = Math.floor(Math.random() * (spell.effects.healing.max - spell.effects.healing.min + 1)) + spell.effects.healing.min;\n      this.heal(healing);\n      message += ` Healed ${healing} HP.`;\n    }\n\n    if (spell.effects.damage) {\n      const damage = Math.floor(Math.random() * (spell.effects.damage.max - spell.effects.damage.min + 1)) + spell.effects.damage.min;\n      message += ` Dealt ${damage} ${spell.effects.damage.type || 'magical'} damage.`;\n    }\n\n    return { success: true, message };\n  }\n  getAvailablePhysicalAbilities(): PhysicalAbility[] {\n    return this.physicalAbilities.getAvailableAbilities(\n      this.state.party.level,\n      this.state.party.stats,\n      this.state.party.equipment,\n      this.state.party.knownAbilities\n    );\n  }\n\n  /**\n   * Learn a new physical ability\n   */\n  learnPhysicalAbility(abilityName: string): boolean {\n    const available = this.getAvailablePhysicalAbilities();\n    const ability = available.find(a => a.name === abilityName);\n\n    if (ability && !this.state.party.knownAbilities.includes(abilityName)) {\n      this.state.party.knownAbilities.push(abilityName);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Use a physical ability (if known and have stamina)\n   */\n  usePhysicalAbility(abilityName: string): { success: boolean; message: string } {\n    if (!this.state.party.knownAbilities.includes(abilityName)) {\n      return { success: false, message: 'Ability not known' };\n    }\n\n    const available = this.getAvailablePhysicalAbilities();\n    const ability = available.find(a => a.name === abilityName);\n\n    if (!ability) {\n      return { success: false, message: 'Ability no longer available (requirements not met)' };\n    }\n\n    if (this.state.party.stamina < ability.staminaCost) {\n      return { success: false, message: 'Not enough stamina' };\n    }\n\n    // Use the ability\n    this.state.party.stamina -= ability.staminaCost;\n\n    // Apply effects (basic implementation)\n    let message = `Used ${abilityName}!`;\n\n    if (ability.effects.healing) {\n      const healing = Math.floor(Math.random() * (ability.effects.healing.max - ability.effects.healing.min + 1)) + ability.effects.healing.min;\n      this.heal(healing);\n      message += ` Healed ${healing} HP.`;\n    }\n\n    if (ability.effects.damage) {\n      const damage = Math.floor(Math.random() * (ability.effects.damage.max - ability.effects.damage.min + 1)) + ability.effects.damage.min;\n      message += ` Dealt ${damage} ${ability.effects.damage.type || 'damage'}.`;\n    }\n\n    return { success: true, message };\n  }\n\n  /**\n   * Rest to recover stamina\n   */\n  restoreStamina(amount: number): void {\n    this.state.party.stamina = Math.min(this.state.party.maxStamina, this.state.party.stamina + amount);\n  }\n\n  /**\n   * Rest to recover ether\n   */\n  restoreEther(amount: number): void {\n    this.state.party.ether = Math.min(this.state.party.maxEther, this.state.party.ether + amount);\n  }\n\n  /**\n   * Use ether for magical abilities\n   */\n  useEther(amount: number): boolean {\n    if (this.state.party.ether >= amount) {\n      this.state.party.ether -= amount;\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Gain experience and potentially level up\n   */\n  gainExperience(amount: number): boolean {\n    this.state.party.experience += amount;\n\n    // Simple leveling: 100 XP per level\n    const requiredXP = this.state.party.level * 100;\n    if (this.state.party.experience >= requiredXP) {\n      this.state.party.level++;\n      this.state.party.experience -= requiredXP;\n\n      // Increase stats slightly on level up\n      const statKeys = Object.keys(this.state.party.stats) as (keyof typeof this.state.party.stats)[];\n      const randomStat = this.rng.pick(statKeys);\n      this.state.party.stats[randomStat]++;\n\n      // Increase stamina and ether\n      this.state.party.maxStamina += 2;\n      this.state.party.stamina = this.state.party.maxStamina;\n      this.state.party.maxEther += 1;\n      this.state.party.ether = this.state.party.maxEther;\n\n      return true; // Leveled up\n    }\n\n    return false; // No level up\n  }\n\n  /**\n   * Character Management Methods\n   */\n\n  /**\n   * Add a character to the party\n   */\n  addCharacter(characterData: Omit<Character, 'id' | 'hitPoints' | 'maxHitPoints' | 'stamina' | 'maxStamina' | 'ether' | 'maxEther' | 'knownAbilities' | 'knownSpells' | 'knownCantrips' | 'equipment'>): Character {\n    const character: Character = {\n      ...characterData,\n      id: `char_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      hitPoints: this.calculateMaxHitPoints(characterData.stats.constitution, characterData.level),\n      maxHitPoints: this.calculateMaxHitPoints(characterData.stats.constitution, characterData.level),\n      stamina: this.calculateMaxStamina(characterData.stats.constitution, characterData.level),\n      maxStamina: this.calculateMaxStamina(characterData.stats.constitution, characterData.level),\n      ether: this.calculateMaxEther(characterData.stats.intelligence, characterData.stats.wisdom, characterData.level),\n      maxEther: this.calculateMaxEther(characterData.stats.intelligence, characterData.stats.wisdom, characterData.level),\n      knownAbilities: [],\n      knownSpells: [],\n      knownCantrips: [],\n      equipment: []\n    };\n\n    this.state.characters.push(character);\n    this.state.party.members.push(character.id);\n\n    // Auto-save after creating character\n    this.autoSave();\n\n    return character;\n  }\n\n  /**\n   * Get a character by ID\n   */\n  getCharacter(id: string): Character | undefined {\n    return this.state.characters.find(char => char.id === id);\n  }\n\n  /**\n   * Get all party member characters\n   */\n  getPartyCharacters(): Character[] {\n    return this.state.party.members\n      .map(id => this.getCharacter(id))\n      .filter((char): char is Character => char !== undefined);\n  }\n\n  /**\n   * Learn a physical ability for a specific character\n   */\n  learnPhysicalAbilityForCharacter(characterId: string, abilityName: string): boolean {\n    const character = this.getCharacter(characterId);\n    if (!character) return false;\n\n    const available = this.getAvailablePhysicalAbilitiesForCharacter(characterId);\n    const ability = available.find(a => a.name === abilityName);\n\n    if (ability && !character.knownAbilities.includes(abilityName)) {\n      character.knownAbilities.push(abilityName);\n      // Auto-save after learning ability\n      this.autoSave();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Learn a magical spell for a specific character\n   */\n  learnMagicalSpellForCharacter(characterId: string, spellName: string): boolean {\n    const character = this.getCharacter(characterId);\n    if (!character) return false;\n\n    const available = this.getAvailableMagicalSpellsForCharacter(characterId);\n    const spell = available.find(s => s.name === spellName);\n\n    if (spell && !character.knownSpells.includes(spellName)) {\n      character.knownSpells.push(spellName);\n      // Auto-save after learning spell\n      this.autoSave();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Get available physical abilities for a specific character\n   */\n  getAvailablePhysicalAbilitiesForCharacter(characterId: string): PhysicalAbility[] {\n    const character = this.getCharacter(characterId);\n    if (!character) return [];\n\n    return this.physicalAbilities.getAvailableAbilities(\n      character.level,\n      character.stats,\n      character.equipment,\n      character.knownAbilities\n    );\n  }\n\n  /**\n   * Get available magical spells for a specific character\n   */\n  getAvailableMagicalSpellsForCharacter(characterId: string): MagicalSpell[] {\n    const character = this.getCharacter(characterId);\n    if (!character) return [];\n\n    return this.magicalSpells.getAvailableSpells(\n      character.level,\n      character.stats,\n      character.equipment,\n      character.knownSpells\n    );\n  }\n\n  /**\n   * Helper methods for calculating character resources\n   */\n  private calculateMaxHitPoints(constitution: number, level: number): number {\n    const baseHP = 20;\n    const conBonus = Math.floor((constitution - 10) / 2);\n    const levelBonus = (level - 1) * 5;\n    return Math.max(1, baseHP + conBonus + levelBonus);\n  }\n\n  private calculateMaxStamina(constitution: number, level: number): number {\n    const baseStamina = 10;\n    const conBonus = Math.floor((constitution - 10) / 2);\n    const levelBonus = (level - 1) * 3;\n    return Math.max(1, baseStamina + conBonus + levelBonus);\n  }\n\n  private calculateMaxEther(intelligence: number, wisdom: number, level: number): number {\n    const baseEther = 5;\n    const intBonus = Math.floor((intelligence - 10) / 2);\n    const wisBonus = Math.floor((wisdom - 10) / 2);\n    const levelBonus = (level - 1) * 2;\n    return Math.max(0, baseEther + intBonus + wisBonus + levelBonus);\n  }\n}","/**\n * Game HUD - Health, stats display and control information\n */\n\nimport React from 'react';\nimport { WorldEngine } from '../engine/index';\n\ninterface GameHUDProps {\n  engine: WorldEngine;\n  stats: {\n    chunks: { loaded?: number; total?: number } | any;\n    discovered: number;\n    timeOfDay: string;\n    gameTime: string;\n  };\n  onBack: () => void;\n  cameraLocked: boolean;\n  onCenterParty: () => void;\n}\n\nexport default function GameHUD({ \n  engine, \n  stats, \n  onBack, \n  cameraLocked, \n  onCenterParty \n}: GameHUDProps) {\n  return (\n    <>\n      {/* UI Overlay */}\n      <div style={{\n        position: 'absolute',\n        top: '10px',\n        left: '10px',\n        zIndex: 100,\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '10px'\n      }}>\n        <button\n          onClick={onBack}\n          style={{\n            padding: '10px 16px',\n            background: '#374151',\n            color: '#f9fafb',\n            border: 'none',\n            borderRadius: '6px',\n            cursor: 'pointer',\n            fontSize: '14px'\n          }}\n        >\n          ← Back to Menu\n        </button>\n        \n        {!cameraLocked && (\n          <button\n            onClick={onCenterParty}\n            style={{\n              padding: '8px 12px',\n              background: '#059669',\n              color: '#f9fafb',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              fontSize: '12px'\n            }}\n          >\n            📍 Recenter on Party\n          </button>\n        )}\n      </div>\n\n      {/* Controls Info */}\n      <div style={{\n        position: 'absolute',\n        bottom: '10px',\n        left: '10px',\n        background: 'rgba(0, 0, 0, 0.8)',\n        color: '#f9fafb',\n        padding: '12px',\n        borderRadius: '6px',\n        fontSize: '12px',\n        lineHeight: '1.4',\n        zIndex: 100\n      }}>\n        <div><strong>Movement:</strong> Arrow keys or WASD</div>\n        <div><strong>Rest:</strong> Space (1 hour, restores HP/Stamina/Ether)</div>\n        <div><strong>View:</strong> Mouse drag, scroll to zoom</div>\n        <div><strong>Grid:</strong> G key</div>\n        <div><strong>Center:</strong> C key</div>\n        <div><strong>Game Menu:</strong> M key (Stats, Abilities, Spells, Creation)</div>\n        <div><strong>Close Menu:</strong> ESC or M key</div>\n        <div style={{ marginTop: '8px' }}>\n          <div>Position: ({engine.state.party.x}, {engine.state.party.y})</div>\n          <div>\n            Health: \n            <span style={{ \n              color: engine.state.party.hitPoints / engine.state.party.maxHitPoints > 0.7 ? '#4ade80' : \n                     engine.state.party.hitPoints / engine.state.party.maxHitPoints > 0.3 ? '#eab308' : '#ef4444',\n              fontWeight: 'bold'\n            }}>\n              {engine.state.party.hitPoints}/{engine.state.party.maxHitPoints}\n            </span>\n          </div>\n          <div>\n            Stamina: \n            <span style={{ \n              color: engine.state.party.stamina / engine.state.party.maxStamina > 0.7 ? '#4ade80' : \n                     engine.state.party.stamina / engine.state.party.maxStamina > 0.3 ? '#eab308' : '#ef4444',\n              fontWeight: 'bold'\n            }}>\n              {engine.state.party.stamina}/{engine.state.party.maxStamina}\n            </span>\n          </div>\n          <div>\n            Ether: \n            <span style={{ \n              color: engine.state.party.ether / engine.state.party.maxEther > 0.7 ? '#4ade80' : \n                     engine.state.party.ether / engine.state.party.maxEther > 0.3 ? '#eab308' : '#ef4444',\n              fontWeight: 'bold'\n            }}>\n              {engine.state.party.ether}/{engine.state.party.maxEther}\n            </span>\n          </div>\n          <div>Level: {engine.state.party.level} (XP: {engine.state.party.experience})</div>\n          <div>Weather: {engine.state.weather.type} ({Math.round(engine.state.weather.intensity * 100)}%)</div>\n          <div>Time: {stats.gameTime}</div>\n          <div>\n            Encounter Risk: \n            <span style={{ \n              color: engine.state.encounterClock.riskLevel > 0.7 ? '#ef4444' : \n                     engine.state.encounterClock.riskLevel > 0.4 ? '#eab308' : '#4ade80',\n              fontWeight: 'bold'\n            }}>\n              {Math.round(engine.state.encounterClock.riskLevel * 100)}%\n            </span>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}","/**\n * Game Menu - Tabbed in-game menu system\n */\n\nimport React, { useState, useMemo } from 'react';\nimport { WorldEngine } from '../engine/index';\nimport { CLASS_DEFINITIONS } from '../defaultWorlds';\nimport { PortraitPreview, VisualUtils } from '../visuals';\n\n// Species and trait definitions for character creation\nconst SPECIES_OPTIONS = [\n  \"Human\", \"Sylvanborn\", \"Alloy\", \"Draketh\", \"Voidkin\", \"Crystalborn\", \"Stormcaller\"\n];\n\nconst GENDER_OPTIONS = [\n  \"Female\", \"Male\"\n];\n\nconst SPECIES_TRAIT_RULES: Record<string, {\n  automatic: string[];\n  forbidden: string[];\n  preferred: string[];\n  description: string;\n}> = {\n  \"Human\": {\n    automatic: [],\n    forbidden: [],\n    preferred: [\"Brave\", \"Clever\", \"Silver Tongue\"],\n    description: \"Adaptable and versatile, humans can develop any traits through experience.\"\n  },\n  \"Sylvanborn\": {\n    automatic: [\"Nature's Friend\"],\n    forbidden: [\"Cunning\"],\n    preferred: [\"Observant\", \"Keen Senses\", \"Patient\"],\n    description: \"Forest dwellers with an innate connection to nature.\"\n  },\n  \"Alloy\": {\n    automatic: [\"Iron Will\"],\n    forbidden: [\"Empathic\", \"Silver Tongue\"],\n    preferred: [\"Stoic\", \"Patient\", \"Clever\"],\n    description: \"Mechanical beings with logical minds but limited emotional range.\"\n  },\n  \"Draketh\": {\n    automatic: [\"Brave\"],\n    forbidden: [\"Patient\"],\n    preferred: [\"Swift\", \"Silver Tongue\", \"Stoic\"],\n    description: \"Proud dragon-descendants who rarely back down from challenges.\"\n  },\n  \"Voidkin\": {\n    automatic: [\"Observant\"],\n    forbidden: [\"Nature's Friend\"],\n    preferred: [\"Clever\", \"Iron Will\", \"Cunning\"],\n    description: \"Shadow-touched beings with enhanced perception but unnatural aura.\"\n  },\n  \"Crystalborn\": {\n    automatic: [\"Stoic\"],\n    forbidden: [\"Swift\"],\n    preferred: [\"Iron Will\", \"Patient\", \"Keen Senses\"],\n    description: \"Living crystal beings with incredible mental fortitude.\"\n  },\n  \"Stormcaller\": {\n    automatic: [\"Swift\"],\n    forbidden: [\"Patient\"],\n    preferred: [\"Brave\", \"Observant\", \"Silver Tongue\"],\n    description: \"Sky-born people infused with elemental storm energy.\"\n  }\n};\n\nconst TRAIT_DEFINITIONS = {\n  \"Brave\": {\n    name: \"Brave\",\n    description: \"Resistant to fear and intimidation effects. +2 bonus to courage-based checks.\",\n    mechanicalEffect: \"fear_resistance\",\n    bonus: { type: \"courage\", value: 2 }\n  },\n  \"Clever\": {\n    name: \"Clever\",\n    description: \"Quick thinking in complex situations. +2 bonus to puzzle-solving and investigation.\",\n    mechanicalEffect: \"intelligence_bonus\",\n    bonus: { type: \"investigation\", value: 2 }\n  },\n  \"Cunning\": {\n    name: \"Cunning\",\n    description: \"Skilled at deception and misdirection. +2 bonus to stealth and deception checks.\",\n    mechanicalEffect: \"deception_bonus\",\n    bonus: { type: \"stealth\", value: 2 }\n  },\n  \"Empathic\": {\n    name: \"Empathic\",\n    description: \"Deeply understands others' emotions. +2 bonus to persuasion and healing checks.\",\n    mechanicalEffect: \"social_bonus\",\n    bonus: { type: \"persuasion\", value: 2 }\n  },\n  \"Stoic\": {\n    name: \"Stoic\",\n    description: \"Unshaken by pain or hardship. +2 bonus to endurance and resistance checks.\",\n    mechanicalEffect: \"endurance_bonus\",\n    bonus: { type: \"endurance\", value: 2 }\n  },\n  \"Lucky\": {\n    name: \"Lucky\",\n    description: \"Fortune favors you. Once per encounter, reroll any failed check.\",\n    mechanicalEffect: \"reroll_ability\",\n    bonus: { type: \"reroll\", value: 1 }\n  },\n  \"Observant\": {\n    name: \"Observant\",\n    description: \"Notice details others miss. +2 bonus to perception and awareness checks.\",\n    mechanicalEffect: \"perception_bonus\",\n    bonus: { type: \"perception\", value: 2 }\n  },\n  \"Silver Tongue\": {\n    name: \"Silver Tongue\",\n    description: \"Naturally persuasive speaker. +2 bonus to all social interaction checks.\",\n    mechanicalEffect: \"social_master\",\n    bonus: { type: \"social\", value: 2 }\n  },\n  \"Iron Will\": {\n    name: \"Iron Will\",\n    description: \"Mental fortitude against magical effects. +2 bonus to resist mental magic.\",\n    mechanicalEffect: \"mental_resistance\",\n    bonus: { type: \"mental_defense\", value: 2 }\n  },\n  \"Swift\": {\n    name: \"Swift\",\n    description: \"Faster movement and reflexes. +2 bonus to speed and reaction checks.\",\n    mechanicalEffect: \"speed_bonus\",\n    bonus: { type: \"speed\", value: 2 }\n  },\n  \"Nature's Friend\": {\n    name: \"Nature's Friend\",\n    description: \"Animals and plants respond favorably. +2 bonus to nature-based interactions.\",\n    mechanicalEffect: \"nature_bonus\",\n    bonus: { type: \"nature\", value: 2 }\n  },\n  \"Keen Senses\": {\n    name: \"Keen Senses\",\n    description: \"Enhanced sensory perception. +2 bonus to detect hidden things or dangers.\",\n    mechanicalEffect: \"detection_bonus\",\n    bonus: { type: \"detection\", value: 2 }\n  },\n  \"Patient\": {\n    name: \"Patient\",\n    description: \"Calm and methodical approach. +2 bonus to sustained concentration tasks.\",\n    mechanicalEffect: \"concentration_bonus\",\n    bonus: { type: \"concentration\", value: 2 }\n  },\n  \"Resilient\": {\n    name: \"Resilient\",\n    description: \"Exceptionally tough constitution. +2 HP per level beyond normal.\",\n    mechanicalEffect: \"hp_bonus\",\n    bonus: { type: \"hp_per_level\", value: 2 }\n  },\n  \"Hardy\": {\n    name: \"Hardy\",\n    description: \"Natural toughness and endurance. +1 HP per level beyond normal.\",\n    mechanicalEffect: \"hp_bonus_small\",\n    bonus: { type: \"hp_per_level\", value: 1 }\n  },\n  \"Frail\": {\n    name: \"Frail\",\n    description: \"Delicate constitution, but often comes with other gifts. -2 HP per level.\",\n    mechanicalEffect: \"hp_penalty\",\n    bonus: { type: \"hp_per_level\", value: -2 }\n  }\n};\n\nconst TRAIT_CATALOG = Object.keys(TRAIT_DEFINITIONS);\n\ntype Stats = \"STR\" | \"DEX\" | \"CON\" | \"INT\" | \"WIS\" | \"CHA\";\n\nfunction calculateStatCost(value: number): number {\n  // Base cost is 0 for stat value 8\n  // Each point above 8 costs: 1 point for 9-14, 2 points for 15-16, 3 points for 17+\n  let cost = 0;\n  for (let statValue = 9; statValue <= value; statValue++) {\n    if (statValue <= 14) cost += 1;      // Values 9-14: 1 point each\n    else if (statValue <= 16) cost += 2; // Values 15-16: 2 points each  \n    else cost += 3;                      // Values 17+: 3 points each\n  }\n  return cost;\n}\n\n// Calculate ability modifier from stat value\nfunction abilityMod(stat: number): number {\n  return Math.floor((stat - 10) / 2);\n}\n\n// Calculate HP and AC with all bonuses\nfunction calculateHPAndAC(\n  stats: Record<Stats, number>,\n  species: string,\n  archetype: string,\n  level: number,\n  traits: string[]\n): { level: number; hp: number; ac: number; carry: number; naturalACBonus: number; totalHPPerLevel: number; classHPBonus: number; raceHPBonus: number; traitHPBonus: number } {\n  const lvl = level;\n\n  // Get final stats after applying racial and class bonuses\n  const finalSTR = getFinalStat(stats.STR, \"STR\", species, archetype);\n  const finalCON = getFinalStat(stats.CON, \"CON\", species, archetype);\n  const finalDEX = getFinalStat(stats.DEX, \"DEX\", species, archetype);\n\n  // Base HP calculation\n  const baseHP = 8 + abilityMod(finalCON); // Level 1 HP\n  const hpPerLevel = 1 + Math.max(0, abilityMod(finalCON)); // HP gained per level\n\n  // Class-based HP bonus (based on combat role)\n  let classHPBonus = 0;\n  if (archetype === \"Thorn Knight\" || archetype === \"Ashblade\" || archetype === \"Ironclad\" ||\n    archetype === \"Stormbreaker\" || archetype === \"Voidhunter\" || archetype === \"Crystal Guardian\") {\n    classHPBonus = 3; // Heavy combat classes - high HP\n  } else if (archetype === \"Greenwarden\" || archetype === \"Guardian\" || archetype === \"Warrior\") {\n    classHPBonus = 2; // Medium combat classes - good HP\n  } else if (archetype === \"Ranger\" || archetype === \"Rogue\" || archetype === \"Artificer\") {\n    classHPBonus = 1; // Light combat classes - moderate HP\n  } else {\n    classHPBonus = 0; // Magic classes - low HP\n  }\n\n  // Race-based HP modifiers\n  let raceHPBonus = 0;\n  if (species === \"Alloy\") {\n    raceHPBonus = 2; // Metal-infused - very tough\n  } else if (species === \"Draketh\") {\n    raceHPBonus = 2; // Dragon heritage - naturally tough\n  } else if (species === \"Crystalborn\") {\n    raceHPBonus = 1; // Crystal-hard - somewhat tough\n  } else if (species === \"Human\") {\n    raceHPBonus = 1; // Adaptable - slightly above average\n  } else if (species === \"Voidkin\") {\n    raceHPBonus = 0; // Otherworldly - average toughness\n  } else if (species === \"Sylvanborn\") {\n    raceHPBonus = -1; // Graceful but fragile\n  } else if (species === \"Stormcaller\") {\n    raceHPBonus = 0; // Light and agile - average toughness\n  }\n\n  // Trait-based HP bonuses\n  let traitHPBonus = 0;\n  if (traits.includes(\"Resilient\")) {\n    traitHPBonus += 2; // Tough trait adds HP per level\n  }\n  if (traits.includes(\"Hardy\")) {\n    traitHPBonus += 1; // Another toughness trait\n  }\n  if (traits.includes(\"Frail\")) {\n    traitHPBonus -= 2; // Negative trait reduces HP\n  }\n\n  // Calculate total HP per level (minimum 1 per level)\n  const totalHPPerLevel = Math.max(1, hpPerLevel + classHPBonus + raceHPBonus + traitHPBonus);\n\n  // Calculate final HP\n  const hp = baseHP + (totalHPPerLevel * (lvl - 1)); // Level 1 gets base HP, then add per level\n\n  // Calculate AC with natural bonus\n  let naturalACBonus = 0;\n\n  // Very small level bonus (+1 at level 8, +2 at level 16)\n  if (lvl >= 16) naturalACBonus += 2;\n  else if (lvl >= 8) naturalACBonus += 1;\n\n  // Class-based bonus (combat training)\n  if (archetype === \"Thorn Knight\" || archetype === \"Ashblade\" || archetype === \"Ironclad\" ||\n    archetype === \"Stormbreaker\" || archetype === \"Voidhunter\" || archetype === \"Crystal Guardian\") {\n    if (lvl >= 15) naturalACBonus += 2;\n    else if (lvl >= 7) naturalACBonus += 1;\n  }\n  else if (archetype === \"Greenwarden\" || archetype === \"Guardian\" || archetype === \"Warrior\") {\n    if (lvl >= 10) naturalACBonus += 1;\n  }\n  else if (archetype === \"Ranger\" || archetype === \"Rogue\" || archetype === \"Artificer\") {\n    if (lvl >= 15) naturalACBonus += 1;\n  }\n\n  // Race-based bonus (natural toughness)\n  if (species === \"Alloy\") {\n    if (lvl >= 12) naturalACBonus += 1; // Metal-infused body\n  } else if (species === \"Draketh\") {\n    if (lvl >= 15) naturalACBonus += 1; // Dragon heritage - tough scales\n  } else if (species === \"Crystalborn\") {\n    if (lvl >= 15) naturalACBonus += 1; // Crystal-hard skin\n  }\n\n  // Hard cap at +5 total natural AC bonus\n  naturalACBonus = Math.min(naturalACBonus, 5);\n\n  const ac = 10 + abilityMod(finalDEX) + naturalACBonus;\n  const carry = 15 * finalSTR;\n\n  return { level: lvl, hp, ac, carry, naturalACBonus, totalHPPerLevel, classHPBonus, raceHPBonus, traitHPBonus };\n}\n\n\n\n// Species definitions with trait rules\nconst SPECIES_DEFINITIONS = {\n  \"Human\": {\n    name: \"Human\",\n    description: \"Adaptable and versatile, humans can develop any traits through experience.\",\n    statModifiers: { STR: 1, CHA: 1, CON: -1, WIS: -1 },\n    automaticTraits: [],\n    forbiddenTraits: [],\n    preferredTraits: [\"Brave\", \"Clever\", \"Silver Tongue\"]\n  },\n  \"Sylvanborn\": {\n    name: \"Sylvanborn\",\n    description: \"Forest dwellers with an innate connection to nature.\",\n    statModifiers: { DEX: 2, WIS: 1, STR: -2, CON: -1 },\n    automaticTraits: [\"Nature's Friend\"],\n    forbiddenTraits: [\"Cunning\"],\n    preferredTraits: [\"Observant\", \"Keen Senses\", \"Patient\"]\n  },\n  \"Alloy\": {\n    name: \"Alloy\",\n    description: \"Mechanical beings with logical minds but limited emotional range.\",\n    statModifiers: { CON: 2, INT: 1, DEX: -2, CHA: -1 },\n    automaticTraits: [\"Iron Will\"],\n    forbiddenTraits: [\"Empathic\", \"Silver Tongue\"],\n    preferredTraits: [\"Stoic\", \"Patient\", \"Clever\"]\n  },\n  \"Draketh\": {\n    name: \"Draketh\",\n    description: \"Proud dragon-descendants who rarely back down from challenges.\",\n    statModifiers: { STR: 2, CHA: 1, DEX: -1, WIS: -2 },\n    automaticTraits: [\"Brave\"],\n    forbiddenTraits: [\"Patient\"],\n    preferredTraits: [\"Swift\", \"Silver Tongue\", \"Stoic\"]\n  },\n  \"Voidkin\": {\n    name: \"Voidkin\",\n    description: \"Shadow-touched beings with enhanced perception but unnatural aura.\",\n    statModifiers: { INT: 2, WIS: 1, STR: -1, CHA: -2 },\n    automaticTraits: [\"Observant\"],\n    forbiddenTraits: [\"Nature's Friend\"],\n    preferredTraits: [\"Clever\", \"Iron Will\", \"Cunning\"]\n  },\n  \"Crystalborn\": {\n    name: \"Crystalborn\",\n    description: \"Living crystal beings with incredible mental fortitude.\",\n    statModifiers: { CON: 1, INT: 2, DEX: -1, CHA: -2 },\n    automaticTraits: [\"Stoic\"],\n    forbiddenTraits: [\"Swift\"],\n    preferredTraits: [\"Iron Will\", \"Patient\", \"Keen Senses\"]\n  },\n  \"Stormcaller\": {\n    name: \"Stormcaller\",\n    description: \"Sky-born people infused with elemental storm energy.\",\n    statModifiers: { DEX: 1, CHA: 2, CON: -1, STR: -2 },\n    automaticTraits: [\"Swift\"],\n    forbiddenTraits: [\"Patient\"],\n    preferredTraits: [\"Brave\", \"Observant\", \"Silver Tongue\"]\n  }\n};\n\n// Racial stat modifiers - balanced with equal positives and negatives\nconst RACIAL_MODIFIERS: Record<string, Partial<Record<Stats, number>>> = {\n  \"Human\": { STR: 1, CHA: 1, CON: -1, WIS: -1 }, // Strong and social, but less hardy and wise\n  \"Sylvanborn\": { DEX: 2, WIS: 1, STR: -2, CON: -1 }, // Graceful and wise, but frail\n  \"Alloy\": { CON: 2, INT: 1, DEX: -2, CHA: -1 }, // Durable and smart, but rigid and impersonal\n  \"Draketh\": { STR: 2, CHA: 1, DEX: -1, WIS: -2 }, // Strong and charismatic, but clumsy and impulsive\n  \"Voidkin\": { INT: 2, WIS: 1, STR: -1, CHA: -2 }, // Brilliant and perceptive, but weak and unsettling\n  \"Crystalborn\": { CON: 1, INT: 2, DEX: -1, CHA: -2 }, // Resilient and bright, but inflexible and cold\n  \"Stormcaller\": { DEX: 1, CHA: 2, CON: -1, STR: -2 }, // Quick and magnetic, but fragile and weak\n};\n\n// Extract class modifiers from our comprehensive class definitions\nconst CLASS_MODIFIERS: Record<string, Partial<Record<Stats, number>>> = {};\n\n// Populate class modifiers from CLASS_DEFINITIONS\nObject.entries(CLASS_DEFINITIONS).forEach(([className, classData]) => {\n  // Convert our stat modifier names to the Stats type used here\n  CLASS_MODIFIERS[className] = {\n    STR: classData.statModifiers.strength || 0,\n    DEX: classData.statModifiers.dexterity || 0,\n    CON: classData.statModifiers.constitution || 0,\n    INT: classData.statModifiers.intelligence || 0,\n    WIS: classData.statModifiers.wisdom || 0,\n    CHA: classData.statModifiers.charisma || 0,\n  };\n});\n\n// Get final stat after applying racial and class modifiers\nfunction getFinalStat(baseStat: number, stat: Stats, species: string, archetype: string): number {\n  let final = baseStat;\n\n  // Add racial bonus (can be negative)\n  const racialBonus = RACIAL_MODIFIERS[species]?.[stat] || 0;\n  final += racialBonus;\n\n  // Add class bonus (can be negative - balanced like racial bonuses)\n  const classBonus = CLASS_MODIFIERS[archetype]?.[stat] || 0;\n  final += classBonus;\n\n  return Math.max(3, Math.min(final, 22)); // Cap between 3-22 (penalties can bring stats low, but not too low)\n}\n\n// Get the display text for bonuses\nfunction getBonusText(stat: Stats, species: string, archetype: string): string {\n  const racialBonus = RACIAL_MODIFIERS[species]?.[stat] || 0;\n  const classBonus = CLASS_MODIFIERS[archetype]?.[stat] || 0;\n\n  let text = \"\";\n  if (racialBonus > 0) text += ` +${racialBonus} racial`;\n  else if (racialBonus < 0) text += ` ${racialBonus} racial`;\n\n  if (classBonus > 0) text += ` +${classBonus} class`;\n  else if (classBonus < 0) text += ` ${classBonus} class`;\n\n  return text.trim();\n}\n\nconst CLASS_OPTIONS = Object.keys(CLASS_DEFINITIONS);\nconst BACKGROUND_OPTIONS = [\"Commoner\", \"Noble\", \"Soldier\", \"Scholar\", \"Merchant\", \"Artisan\", \"Criminal\", \"Folk Hero\", \"Hermit\", \"Entertainer\"];\nconst MAX_TRAITS = 2; // Maximum number of selectable traits (excluding automatic traits)\n\nconst DEFAULT_STATS: Record<Stats, number> = {\n  STR: 8, DEX: 8, CON: 8, INT: 8, WIS: 8, CHA: 8,\n};\n\ninterface GameMenuProps {\n  engine: WorldEngine;\n  isVisible: boolean;\n  onClose: () => void;\n  showGrid: boolean;\n  onToggleGrid: () => void;\n  cameraLocked: boolean;\n  onToggleCameraLock: () => void;\n  onRefresh?: () => void; // Callback to force parent component refresh\n  stats: {\n    chunks: { loaded?: number; total?: number } | any;\n    discovered: number;\n    timeOfDay: string;\n    gameTime: string;\n  };\n}\n\ntype MenuTab = 'stats' | 'abilities' | 'spells' | 'creation' | 'settings';\n\nexport default function GameMenu({\n  engine,\n  isVisible,\n  onClose,\n  showGrid,\n  onToggleGrid,\n  cameraLocked,\n  onToggleCameraLock,\n  onRefresh,\n  stats\n}: GameMenuProps) {\n  const [activeTab, setActiveTab] = useState<MenuTab>('stats');\n  const [selectedCharacterId, setSelectedCharacterId] = useState<string | null>(null);\n\n  if (!isVisible) return null; return (\n    <div style={{\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      transform: 'translate(-50%, -50%)',\n      background: 'rgba(0, 0, 0, 0.95)',\n      color: '#f9fafb',\n      padding: '0',\n      borderRadius: '12px',\n      border: '2px solid #374151',\n      width: '80vw',\n      maxWidth: '900px',\n      height: '80vh',\n      maxHeight: '700px',\n      zIndex: 300,\n      boxShadow: '0 12px 48px rgba(0, 0, 0, 0.8)',\n      display: 'flex',\n      flexDirection: 'column'\n    }}>\n      {/* Menu Header */}\n      <div style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: '20px 24px',\n        borderBottom: '2px solid #374151'\n      }}>\n        <h2 style={{ margin: 0, color: '#f1f5f9', fontSize: '24px' }}>🎮 Game Menu</h2>\n        <button\n          onClick={onClose}\n          style={{\n            background: 'transparent',\n            border: 'none',\n            color: '#94a3b8',\n            fontSize: '24px',\n            cursor: 'pointer',\n            padding: '0',\n            width: '32px',\n            height: '32px'\n          }}\n        >\n          ×\n        </button>\n      </div>\n\n      {/* Tab Navigation */}\n      <div style={{\n        display: 'flex',\n        borderBottom: '2px solid #374151',\n        backgroundColor: 'rgba(0, 0, 0, 0.3)'\n      }}>\n        {[\n          { id: 'stats', label: '📊 Character Stats', icon: '📊' },\n          { id: 'abilities', label: '⚔️ Physical Abilities', icon: '⚔️' },\n          { id: 'spells', label: '✨ Magical Spells', icon: '✨' },\n          { id: 'creation', label: '� Create Character', icon: '�' },\n          { id: 'settings', label: '⚙️ Game Settings', icon: '⚙️' }\n        ].map(tab => (\n          <button\n            key={tab.id}\n            onClick={() => setActiveTab(tab.id as MenuTab)}\n            style={{\n              flex: 1,\n              padding: '12px 16px',\n              background: activeTab === tab.id ? '#374151' : 'transparent',\n              color: activeTab === tab.id ? '#f9fafb' : '#94a3b8',\n              border: 'none',\n              borderBottom: activeTab === tab.id ? '3px solid #3b82f6' : '3px solid transparent',\n              cursor: 'pointer',\n              fontSize: '14px',\n              fontWeight: activeTab === tab.id ? 'bold' : 'normal',\n              transition: 'all 0.2s'\n            }}\n          >\n            {tab.icon} {tab.label.split(' ').slice(1).join(' ')}\n          </button>\n        ))}\n      </div>\n\n      {/* Tab Content */}\n      <div style={{\n        flex: 1,\n        padding: '24px',\n        overflowY: 'auto',\n        backgroundColor: 'rgba(0, 0, 0, 0.2)'\n      }}>\n        {activeTab === 'stats' && (\n          <div>\n            <h3 style={{ margin: '0 0 20px 0', color: '#3b82f6' }}>📊 Character Statistics</h3>\n\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '20px' }}>\n              {/* Basic Info */}\n              <div style={{\n                background: 'rgba(59, 130, 246, 0.1)',\n                border: '1px solid rgba(59, 130, 246, 0.3)',\n                borderRadius: '8px',\n                padding: '16px'\n              }}>\n                <h4 style={{ margin: '0 0 12px 0', color: '#60a5fa' }}>Basic Information</h4>\n                <div style={{ fontSize: '14px', lineHeight: '1.6' }}>\n                  <div><strong>Level:</strong> {engine.state.party.level}</div>\n                  <div><strong>Experience:</strong> {engine.state.party.experience}/{engine.state.party.level * 100}</div>\n                  <div><strong>Position:</strong> ({engine.state.party.x}, {engine.state.party.y})</div>\n                </div>\n              </div>\n\n              {/* Health & Resources */}\n              <div style={{\n                background: 'rgba(34, 197, 94, 0.1)',\n                border: '1px solid rgba(34, 197, 94, 0.3)',\n                borderRadius: '8px',\n                padding: '16px'\n              }}>\n                <h4 style={{ margin: '0 0 12px 0', color: '#4ade80' }}>Health & Resources</h4>\n                <div style={{ fontSize: '14px', lineHeight: '1.6' }}>\n                  <div>\n                    <strong>Health:</strong>\n                    <span style={{\n                      color: engine.state.party.hitPoints / engine.state.party.maxHitPoints > 0.7 ? '#4ade80' :\n                        engine.state.party.hitPoints / engine.state.party.maxHitPoints > 0.3 ? '#eab308' : '#ef4444',\n                      fontWeight: 'bold',\n                      marginLeft: '8px'\n                    }}>\n                      {engine.state.party.hitPoints}/{engine.state.party.maxHitPoints}\n                    </span>\n                  </div>\n                  <div>\n                    <strong>Stamina:</strong>\n                    <span style={{\n                      color: engine.state.party.stamina / engine.state.party.maxStamina > 0.7 ? '#4ade80' :\n                        engine.state.party.stamina / engine.state.party.maxStamina > 0.3 ? '#eab308' : '#ef4444',\n                      fontWeight: 'bold',\n                      marginLeft: '8px'\n                    }}>\n                      {engine.state.party.stamina}/{engine.state.party.maxStamina}\n                    </span>\n                  </div>\n                  <div>\n                    <strong>Ether:</strong>\n                    <span style={{\n                      color: engine.state.party.ether / engine.state.party.maxEther > 0.7 ? '#4ade80' :\n                        engine.state.party.ether / engine.state.party.maxEther > 0.3 ? '#eab308' : '#ef4444',\n                      fontWeight: 'bold',\n                      marginLeft: '8px'\n                    }}>\n                      {engine.state.party.ether}/{engine.state.party.maxEther}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Attributes */}\n              <div style={{\n                background: 'rgba(168, 85, 247, 0.1)',\n                border: '1px solid rgba(168, 85, 247, 0.3)',\n                borderRadius: '8px',\n                padding: '16px'\n              }}>\n                <h4 style={{ margin: '0 0 12px 0', color: '#a855f7' }}>Attributes</h4>\n                <div style={{ fontSize: '14px', lineHeight: '1.6', display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '8px' }}>\n                  <div><strong>STR:</strong> {engine.state.party.stats.strength}</div>\n                  <div><strong>DEX:</strong> {engine.state.party.stats.dexterity}</div>\n                  <div><strong>CON:</strong> {engine.state.party.stats.constitution}</div>\n                  <div><strong>INT:</strong> {engine.state.party.stats.intelligence}</div>\n                  <div><strong>WIS:</strong> {engine.state.party.stats.wisdom}</div>\n                  <div><strong>CHA:</strong> {engine.state.party.stats.charisma}</div>\n                </div>\n              </div>\n\n              {/* Equipment */}\n              <div style={{\n                background: 'rgba(234, 179, 8, 0.1)',\n                border: '1px solid rgba(234, 179, 8, 0.3)',\n                borderRadius: '8px',\n                padding: '16px'\n              }}>\n                <h4 style={{ margin: '0 0 12px 0', color: '#eab308' }}>Equipment</h4>\n                <div style={{ fontSize: '14px', lineHeight: '1.6' }}>\n                  {engine.state.party.equipment.length > 0 ? (\n                    engine.state.party.equipment.map((item, i) => (\n                      <div key={i} style={{ color: '#4ade80' }}>{item.replace(/_/g, ' ')}</div>\n                    ))\n                  ) : (\n                    <div style={{ color: '#94a3b8', fontStyle: 'italic' }}>No equipment</div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'abilities' && (\n          <div>\n            <h3 style={{ margin: '0 0 20px 0', color: '#4ade80' }}>⚔️ Physical Abilities</h3>\n\n            {/* Known Abilities */}\n            <div style={{ marginBottom: '24px' }}>\n              <h4 style={{ margin: '0 0 12px 0', color: '#22c55e' }}>Known Abilities</h4>\n              {engine.state.party.knownAbilities.length > 0 ? (\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))', gap: '8px' }}>\n                  {engine.state.party.knownAbilities.map((ability, i) => (\n                    <div key={i} style={{\n                      padding: '8px 12px',\n                      background: 'rgba(34, 197, 94, 0.2)',\n                      borderRadius: '6px',\n                      border: '1px solid #22c55e',\n                      fontSize: '13px'\n                    }}>\n                      {ability}\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <div style={{ fontSize: '14px', color: '#94a3b8', fontStyle: 'italic' }}>\n                  No physical abilities learned yet.\n                </div>\n              )}\n            </div>\n\n            {/* Available Abilities by School */}\n            <div>\n              <h4 style={{ margin: '0 0 12px 0', color: '#eab308' }}>Available to Learn by School</h4>\n              <CharacterSelector engine={engine} selectedCharacterId={selectedCharacterId} onSelectCharacter={setSelectedCharacterId} />\n              {selectedCharacterId && <AbilitiesBySchool engine={engine} characterId={selectedCharacterId} />}\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'spells' && (\n          <div>\n            <h3 style={{ margin: '0 0 20px 0', color: '#8b5cf6' }}>✨ Magical Spells</h3>\n\n            {/* Known Spells */}\n            <div style={{ marginBottom: '24px' }}>\n              <h4 style={{ margin: '0 0 12px 0', color: '#a855f7' }}>Known Spells</h4>\n              {engine.state.party.knownSpells.length > 0 ? (\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))', gap: '8px' }}>\n                  {engine.state.party.knownSpells.map((spell, i) => (\n                    <div key={i} style={{\n                      padding: '8px 12px',\n                      background: 'rgba(139, 92, 246, 0.2)',\n                      borderRadius: '6px',\n                      border: '1px solid #8b5cf6',\n                      fontSize: '13px'\n                    }}>\n                      {spell}\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <div style={{ fontSize: '14px', color: '#94a3b8', fontStyle: 'italic' }}>\n                  No spells learned yet.\n                </div>\n              )}\n            </div>\n\n            {/* Available Spells by School */}\n            <div>\n              <h4 style={{ margin: '0 0 12px 0', color: '#06b6d4' }}>Available to Learn by School</h4>\n              <CharacterSelector engine={engine} selectedCharacterId={selectedCharacterId} onSelectCharacter={setSelectedCharacterId} />\n              {selectedCharacterId && <SpellsBySchool engine={engine} characterId={selectedCharacterId} />}\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'creation' && (\n          <div>\n            <h3 style={{ margin: '0 0 20px 0', color: '#f59e0b' }}>� Character Creation</h3>\n\n            <CharacterCreationForm engine={engine} />\n          </div>\n        )}\n\n        {activeTab === 'settings' && (\n          <div>\n            <h3 style={{ margin: '0 0 20px 0', color: '#6b7280' }}>⚙️ Game Settings</h3>\n\n            <div style={{ display: 'grid', gap: '20px' }}>\n              <div style={{\n                background: 'rgba(107, 114, 128, 0.1)',\n                border: '1px solid rgba(107, 114, 128, 0.3)',\n                borderRadius: '8px',\n                padding: '20px'\n              }}>\n                <h4 style={{ margin: '0 0 16px 0', color: '#9ca3af' }}>Display Settings</h4>\n\n                <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '12px' }}>\n                  <label style={{ fontSize: '14px', color: '#e2e8f0' }}>Show Grid</label>\n                  <button\n                    onClick={onToggleGrid}\n                    style={{\n                      padding: '6px 12px',\n                      background: showGrid ? '#059669' : '#374151',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '6px',\n                      cursor: 'pointer',\n                      fontSize: '12px'\n                    }}\n                  >\n                    {showGrid ? 'ON' : 'OFF'}\n                  </button>\n                </div>\n\n                <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '12px' }}>\n                  <label style={{ fontSize: '14px', color: '#e2e8f0' }}>Camera Lock</label>\n                  <button\n                    onClick={onToggleCameraLock}\n                    style={{\n                      padding: '6px 12px',\n                      background: cameraLocked ? '#059669' : '#374151',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '6px',\n                      cursor: 'pointer',\n                      fontSize: '12px'\n                    }}\n                  >\n                    {cameraLocked ? 'LOCKED' : 'FREE'}\n                  </button>\n                </div>\n              </div>\n\n              <div style={{\n                background: 'rgba(107, 114, 128, 0.1)',\n                border: '1px solid rgba(107, 114, 128, 0.3)',\n                borderRadius: '8px',\n                padding: '20px'\n              }}>\n                <h4 style={{ margin: '0 0 16px 0', color: '#9ca3af' }}>Game Information</h4>\n                <div style={{ fontSize: '13px', lineHeight: '1.6', color: '#cbd5e1' }}>\n                  <div><strong>Time:</strong> {stats.gameTime}</div>\n                  <div><strong>Weather:</strong> {engine.state.weather.type} ({Math.round(engine.state.weather.intensity * 100)}%)</div>\n                  <div><strong>Chunks Loaded:</strong> {(stats.chunks as any).loaded || 0}</div>\n                  <div><strong>Discovered Tiles:</strong> {stats.discovered}</div>\n                  <div>\n                    <strong>Encounter Risk:</strong>\n                    <span style={{\n                      color: engine.state.encounterClock.riskLevel > 0.7 ? '#ef4444' :\n                        engine.state.encounterClock.riskLevel > 0.4 ? '#eab308' : '#4ade80',\n                      fontWeight: 'bold',\n                      marginLeft: '8px'\n                    }}>\n                      {Math.round(engine.state.encounterClock.riskLevel * 100)}%\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              <div style={{\n                background: 'rgba(59, 130, 246, 0.1)',\n                border: '1px solid rgba(59, 130, 246, 0.3)',\n                borderRadius: '8px',\n                padding: '20px'\n              }}>\n                <h4 style={{ margin: '0 0 16px 0', color: '#60a5fa' }}>💾 Save & Load</h4>\n                <div style={{ display: 'grid', gap: '12px' }}>\n                  <div style={{ fontSize: '12px', color: '#cbd5e1', marginBottom: '8px' }}>\n                    Your game is automatically saved when you move, create characters, or learn abilities.\n                  </div>\n\n                  <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))', gap: '8px' }}>\n                    <button\n                      onClick={() => {\n                        try {\n                          const saveData = engine.save();\n                          const blob = new Blob([saveData], { type: 'application/json' });\n                          const url = URL.createObjectURL(blob);\n                          const a = document.createElement('a');\n                          a.href = url;\n                          a.download = `world-engine-save-${new Date().toISOString().split('T')[0]}.json`;\n                          a.click();\n                          URL.revokeObjectURL(url);\n                          alert('Game saved to file!');\n                        } catch (error) {\n                          alert('Failed to save game: ' + error);\n                        }\n                      }}\n                      style={{\n                        padding: '8px 12px',\n                        background: '#3b82f6',\n                        color: 'white',\n                        border: 'none',\n                        borderRadius: '6px',\n                        cursor: 'pointer',\n                        fontSize: '12px',\n                        fontWeight: 'bold'\n                      }}\n                    >\n                      📥 Export Save\n                    </button>\n\n                    <button\n                      onClick={() => {\n                        const input = document.createElement('input');\n                        input.type = 'file';\n                        input.accept = '.json';\n                        input.onchange = (e) => {\n                          const file = (e.target as HTMLInputElement).files?.[0];\n                          if (file) {\n                            const reader = new FileReader();\n                            reader.onload = (e) => {\n                              try {\n                                const saveData = e.target?.result as string;\n                                const success = engine.load(saveData);\n                                if (success) {\n                                  // Force a refresh of the parent component to show loaded data\n                                  onRefresh?.();\n                                  alert('Game loaded successfully! Your characters and progress have been restored.');\n                                } else {\n                                  alert('Failed to load save file. Please check the file format.');\n                                }\n                              } catch (error) {\n                                alert('Failed to load game: ' + error);\n                              }\n                            };\n                            reader.readAsText(file);\n                          }\n                        };\n                        input.click();\n                      }}\n                      style={{\n                        padding: '8px 12px',\n                        background: '#059669',\n                        color: 'white',\n                        border: 'none',\n                        borderRadius: '6px',\n                        cursor: 'pointer',\n                        fontSize: '12px',\n                        fontWeight: 'bold'\n                      }}\n                    >\n                      📤 Import Save\n                    </button>\n\n                    <button\n                      onClick={() => {\n                        if (confirm('Are you sure you want to start a new game? This will delete your current progress.')) {\n                          localStorage.removeItem('world-engine-save');\n                          alert('Save data cleared! Refresh the page to start a new game.');\n                        }\n                      }}\n                      style={{\n                        padding: '8px 12px',\n                        background: '#dc2626',\n                        color: 'white',\n                        border: 'none',\n                        borderRadius: '6px',\n                        cursor: 'pointer',\n                        fontSize: '12px',\n                        fontWeight: 'bold'\n                      }}\n                    >\n                      🗑️ New Game\n                    </button>\n                  </div>\n\n                  <div style={{ fontSize: '11px', color: '#94a3b8', marginTop: '8px' }}>\n                    <div><strong>Seed:</strong> {engine.state.seed}</div>\n                    <div><strong>Characters:</strong> {engine.state.characters.length}</div>\n                    <div><strong>Last Save:</strong> Auto-saved to browser</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// Character selector component\nfunction CharacterSelector({\n  engine,\n  selectedCharacterId,\n  onSelectCharacter\n}: {\n  engine: WorldEngine;\n  selectedCharacterId: string | null;\n  onSelectCharacter: (id: string | null) => void;\n}) {\n  const characters = engine.getPartyCharacters();\n\n  if (characters.length === 0) {\n    return (\n      <div style={{\n        padding: '16px',\n        background: 'rgba(239, 68, 68, 0.1)',\n        border: '1px solid rgba(239, 68, 68, 0.3)',\n        borderRadius: '8px',\n        marginBottom: '16px',\n        fontSize: '14px',\n        color: '#fca5a5'\n      }}>\n        ⚠️ No characters in party. Add characters to assign abilities and spells.\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ marginBottom: '16px' }}>\n      <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\n        {characters.map(char => (\n          <button\n            key={char.id}\n            onClick={() => onSelectCharacter(selectedCharacterId === char.id ? null : char.id)}\n            style={{\n              padding: '8px 16px',\n              background: selectedCharacterId === char.id ? '#3b82f6' : 'rgba(59, 130, 246, 0.2)',\n              border: selectedCharacterId === char.id ? '2px solid #60a5fa' : '1px solid rgba(59, 130, 246, 0.3)',\n              borderRadius: '6px',\n              color: selectedCharacterId === char.id ? '#f9fafb' : '#94a3b8',\n              cursor: 'pointer',\n              fontSize: '14px',\n              fontWeight: selectedCharacterId === char.id ? 'bold' : 'normal',\n              transition: 'all 0.2s'\n            }}\n          >\n            👤 {char.name} (Lv.{char.level})\n          </button>\n        ))}\n      </div>\n      {selectedCharacterId && (\n        <div style={{\n          marginTop: '12px',\n          padding: '12px',\n          background: 'rgba(59, 130, 246, 0.1)',\n          border: '1px solid rgba(59, 130, 246, 0.3)',\n          borderRadius: '6px',\n          fontSize: '13px',\n          color: '#cbd5e1'\n        }}>\n          Selected: <strong>{characters.find(c => c.id === selectedCharacterId)?.name}</strong>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Abilities organized by school dropdown component\nfunction AbilitiesBySchool({ engine, characterId }: { engine: WorldEngine; characterId: string }) {\n  const [openSchools, setOpenSchools] = useState<Set<string>>(new Set());\n\n  const character = engine.getCharacter(characterId);\n  const abilitiesBySchool = useMemo(() => {\n    if (!character) return {};\n\n    try {\n      const available = engine.getAvailablePhysicalAbilitiesForCharacter(characterId).filter(\n        ability => !character.knownAbilities.includes(ability.name)\n      );\n\n      const grouped: Record<string, any[]> = {};\n      available.forEach(ability => {\n        if (!grouped[ability.school]) {\n          grouped[ability.school] = [];\n        }\n        grouped[ability.school].push(ability);\n      });\n\n      return grouped;\n    } catch (error) {\n      console.error('Error loading abilities:', error);\n      return {};\n    }\n  }, [character?.level, JSON.stringify(character?.stats), JSON.stringify(character?.knownAbilities), characterId]);\n\n  if (!character) {\n    return (\n      <div style={{ fontSize: '14px', color: '#ef4444' }}>\n        Character not found.\n      </div>\n    );\n  }\n\n  const toggleSchool = (school: string) => {\n    const newOpen = new Set(openSchools);\n    if (newOpen.has(school)) {\n      newOpen.delete(school);\n    } else {\n      newOpen.add(school);\n    }\n    setOpenSchools(newOpen);\n  };\n\n  const schools = Object.keys(abilitiesBySchool).sort();\n\n  if (schools.length === 0) {\n    return (\n      <div style={{ fontSize: '14px', color: '#94a3b8', fontStyle: 'italic' }}>\n        No new physical abilities available.\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ display: 'grid', gap: '8px' }}>\n      {schools.map(school => (\n        <div key={school} style={{\n          border: '1px solid rgba(34, 197, 94, 0.3)',\n          borderRadius: '8px',\n          background: 'rgba(34, 197, 94, 0.1)'\n        }}>\n          <button\n            onClick={() => toggleSchool(school)}\n            style={{\n              width: '100%',\n              padding: '12px 16px',\n              background: 'transparent',\n              border: 'none',\n              color: '#4ade80',\n              fontSize: '14px',\n              fontWeight: 'bold',\n              cursor: 'pointer',\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center'\n            }}\n          >\n            <span>⚔️ {school} ({abilitiesBySchool[school].length})</span>\n            <span style={{ fontSize: '18px' }}>{openSchools.has(school) ? '▼' : '▶'}</span>\n          </button>\n\n          {openSchools.has(school) && (\n            <div style={{ padding: '0 16px 16px 16px', display: 'grid', gap: '12px' }}>\n              {abilitiesBySchool[school].map((ability: any, i: number) => (\n                <div key={i} style={{\n                  padding: '16px',\n                  background: 'rgba(234, 179, 8, 0.2)',\n                  borderRadius: '8px',\n                  border: '1px solid #eab308'\n                }}>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\n                    <div style={{ flex: 1 }}>\n                      <div style={{ fontWeight: 'bold', color: '#fbbf24', fontSize: '16px' }}>{ability.name}</div>\n                      <div style={{ fontSize: '12px', color: '#e2e8f0', marginTop: '4px' }}>\n                        {ability.school} • {ability.tier} • Stamina: {ability.staminaCost}\n                      </div>\n                      <div style={{ fontSize: '13px', color: '#cbd5e1', marginTop: '8px' }}>\n                        {ability.description}\n                      </div>\n                    </div>\n                    <button\n                      onClick={() => {\n                        const success = engine.learnPhysicalAbilityForCharacter(characterId, ability.name);\n                        if (success) {\n                          console.log(`${character.name} learned ${ability.name}!`);\n                        }\n                      }}\n                      style={{\n                        marginLeft: '12px',\n                        padding: '8px 16px',\n                        background: '#059669',\n                        color: 'white',\n                        border: 'none',\n                        borderRadius: '6px',\n                        cursor: 'pointer',\n                        fontSize: '12px',\n                        fontWeight: 'bold'\n                      }}\n                    >\n                      Learn\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n}\n\n// Spells organized by school dropdown component\nfunction SpellsBySchool({ engine, characterId }: { engine: WorldEngine; characterId: string }) {\n  const [openSchools, setOpenSchools] = useState<Set<string>>(new Set());\n\n  const character = engine.getCharacter(characterId);\n  const spellsBySchool = useMemo(() => {\n    if (!character) return {};\n\n    try {\n      const available = engine.getAvailableMagicalSpellsForCharacter(characterId).filter(\n        spell => !character.knownSpells.includes(spell.name)\n      );\n\n      const grouped: Record<string, any[]> = {};\n      available.forEach(spell => {\n        if (!grouped[spell.school]) {\n          grouped[spell.school] = [];\n        }\n        grouped[spell.school].push(spell);\n      });\n\n      return grouped;\n    } catch (error) {\n      console.error('Error loading spells:', error);\n      return {};\n    }\n  }, [character?.level, JSON.stringify(character?.stats), JSON.stringify(character?.knownSpells), characterId]);\n\n  if (!character) {\n    return (\n      <div style={{ fontSize: '14px', color: '#ef4444' }}>\n        Character not found.\n      </div>\n    );\n  }\n\n  const toggleSchool = (school: string) => {\n    const newOpen = new Set(openSchools);\n    if (newOpen.has(school)) {\n      newOpen.delete(school);\n    } else {\n      newOpen.add(school);\n    }\n    setOpenSchools(newOpen);\n  };\n\n  const schools = Object.keys(spellsBySchool).sort();\n\n  if (schools.length === 0) {\n    return (\n      <div style={{ fontSize: '14px', color: '#94a3b8', fontStyle: 'italic' }}>\n        No new magical spells available.\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ display: 'grid', gap: '8px' }}>\n    </div>\n  );\n}\n\n// Character Creation Form Component\nfunction CharacterCreationForm({ engine }: { engine: WorldEngine }) {\n  const [formData, setFormData] = useState({\n    name: '',\n    gender: 'Female',\n    species: 'Human',\n    archetype: 'Greenwarden',\n    background: 'Commoner',\n    level: 1,\n    stats: {\n      strength: 10,\n      dexterity: 10,\n      constitution: 10,\n      intelligence: 10,\n      wisdom: 10,\n      charisma: 10\n    },\n    traits: [] as string[]\n  });\n\n  const [availablePoints, setAvailablePoints] = useState(27); // Point-buy system\n  const [selectedTraits, setSelectedTraits] = useState<string[]>([]);\n\n  // Get species information\n  const speciesInfo = SPECIES_TRAIT_RULES[formData.species as keyof typeof SPECIES_TRAIT_RULES];\n\n  const handleStatChange = (stat: keyof typeof formData.stats, value: number) => {\n    const oldValue = formData.stats[stat];\n    const cost = calculateStatCost(value) - calculateStatCost(oldValue);\n\n    if (availablePoints - cost >= 0 && value >= 8 && value <= 20) {\n      setFormData(prev => ({\n        ...prev,\n        stats: { ...prev.stats, [stat]: value }\n      }));\n      setAvailablePoints(prev => prev - cost);\n    }\n  };\n\n  const getStatCost = (value: number): number => {\n    // Use the same cost calculation as calculateStatCost for consistency\n    return calculateStatCost(value);\n  };\n\n  const handleAddTrait = (trait: string) => {\n    if (!selectedTraits.includes(trait)) {\n      setSelectedTraits(prev => [...prev, trait]);\n    }\n  };\n\n  const handleRemoveTrait = (trait: string) => {\n    setFormData(prev => ({\n      ...prev,\n      traits: prev.traits.filter(t => t !== trait)\n    }));\n  };\n\n  const handleSubmit = () => {\n    if (!formData.name.trim()) {\n      alert('Please enter a character name.');\n      return;\n    }\n\n    const character = engine.addCharacter({\n      name: formData.name.trim(),\n      gender: formData.gender,\n      species: formData.species,\n      archetype: formData.archetype,\n      background: formData.background,\n      level: formData.level,\n      experience: 0,\n      stats: formData.stats,\n      traits: formData.traits\n    });\n\n    alert(`${character.name} has been added to your party!`);\n\n    // Reset form\n    setFormData({\n      name: '',\n      gender: 'Female',\n      species: 'Human',\n      archetype: 'Fighter',\n      background: 'Commoner',\n      level: 1,\n      stats: {\n        strength: 10,\n        dexterity: 10,\n        constitution: 10,\n        intelligence: 10,\n        wisdom: 10,\n        charisma: 10\n      },\n      traits: []\n    });\n    setAvailablePoints(27);\n  };\n\n  return (\n    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(400px, 1fr))', gap: '24px' }}>\n      {/* Basic Information */}\n      <div style={{\n        background: 'rgba(59, 130, 246, 0.1)',\n        border: '1px solid rgba(59, 130, 246, 0.3)',\n        borderRadius: '8px',\n        padding: '20px'\n      }}>\n        <h4 style={{\n          margin: '0 0 16px 0',\n          color: '#60a5fa',\n          borderBottom: '2px solid #60a5fa',\n          paddingBottom: '8px'\n        }}>\n          📋 Basic Information\n        </h4>\n\n        <div style={{ display: 'grid', gap: '12px' }}>\n          <div>\n            <label style={{ display: 'block', fontSize: '12px', color: '#cbd5e1', marginBottom: '4px' }}>\n              Character Name *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.name}\n              onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n              placeholder=\"Enter character name...\"\n              style={{\n                width: '100%',\n                padding: '8px 12px',\n                background: 'rgba(0, 0, 0, 0.3)',\n                border: '1px solid #374151',\n                borderRadius: '6px',\n                color: '#f9fafb',\n                fontSize: '14px'\n              }}\n            />\n          </div>\n\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px' }}>\n            <div>\n              <label style={{ display: 'block', fontSize: '12px', color: '#cbd5e1', marginBottom: '4px' }}>\n                Gender\n              </label>\n              <select\n                value={formData.gender}\n                onChange={(e) => setFormData(prev => ({ ...prev, gender: e.target.value }))}\n                style={{\n                  width: '100%',\n                  padding: '8px 12px',\n                  background: 'rgba(0, 0, 0, 0.3)',\n                  border: '1px solid #374151',\n                  borderRadius: '6px',\n                  color: '#f9fafb',\n                  fontSize: '14px'\n                }}\n              >\n                {GENDER_OPTIONS.map(option => (\n                  <option key={option} value={option}>{option}</option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label style={{ display: 'block', fontSize: '12px', color: '#cbd5e1', marginBottom: '4px' }}>\n                Level\n              </label>\n              <input\n                type=\"number\"\n                min=\"1\"\n                max=\"20\"\n                value={formData.level}\n                onChange={(e) => setFormData(prev => ({ ...prev, level: parseInt(e.target.value) || 1 }))}\n                style={{\n                  width: '100%',\n                  padding: '8px 12px',\n                  background: 'rgba(0, 0, 0, 0.3)',\n                  border: '1px solid #374151',\n                  borderRadius: '6px',\n                  color: '#f9fafb',\n                  fontSize: '14px'\n                }}\n              />\n            </div>\n          </div>\n\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '12px' }}>\n            <div>\n              <label style={{ display: 'block', fontSize: '12px', color: '#cbd5e1', marginBottom: '4px' }}>\n                Species\n              </label>\n              <select\n                value={formData.species}\n                onChange={(e) => setFormData(prev => ({ ...prev, species: e.target.value }))}\n                style={{\n                  width: '100%',\n                  padding: '8px 12px',\n                  background: 'rgba(0, 0, 0, 0.3)',\n                  border: '1px solid #374151',\n                  borderRadius: '6px',\n                  color: '#f9fafb',\n                  fontSize: '14px'\n                }}\n              >\n                {SPECIES_OPTIONS.map(option => (\n                  <option key={option} value={option}>{option}</option>\n                ))}\n              </select>\n              {/* Display racial modifiers */}\n              {formData.species && RACIAL_MODIFIERS[formData.species] && (\n                <div style={{ fontSize: '11px', color: '#94a3b8', marginTop: '4px' }}>\n                  Racial modifiers: {Object.entries(RACIAL_MODIFIERS[formData.species]).map(([stat, bonus]) =>\n                    `${stat} ${bonus! > 0 ? '+' : ''}${bonus}`\n                  ).join(\", \")}\n                </div>\n              )}\n            </div>\n\n            <div>\n              <label style={{ display: 'block', fontSize: '12px', color: '#cbd5e1', marginBottom: '4px' }}>\n                Class\n              </label>\n              <select\n                value={formData.archetype}\n                onChange={(e) => setFormData(prev => ({ ...prev, archetype: e.target.value }))}\n                style={{\n                  width: '100%',\n                  padding: '8px 12px',\n                  background: 'rgba(0, 0, 0, 0.3)',\n                  border: '1px solid #374151',\n                  borderRadius: '6px',\n                  color: '#f9fafb',\n                  fontSize: '14px'\n                }}\n              >\n                {CLASS_OPTIONS.map(option => (\n                  <option key={option} value={option}>{option}</option>\n                ))}\n              </select>\n              {/* Display class modifiers */}\n              {formData.archetype && CLASS_MODIFIERS[formData.archetype] && (\n                <div style={{ fontSize: '11px', color: '#94a3b8', marginTop: '4px' }}>\n                  Class modifiers: {Object.entries(CLASS_MODIFIERS[formData.archetype]).map(([stat, bonus]) =>\n                    `${stat} ${bonus! > 0 ? '+' : ''}${bonus}`\n                  ).filter(str => !str.includes(' 0')).join(\", \") || 'None'}\n                </div>\n              )}\n            </div>\n\n            <div>\n              <label style={{ display: 'block', fontSize: '12px', color: '#cbd5e1', marginBottom: '4px' }}>\n                Background\n              </label>\n              <select\n                value={formData.background}\n                onChange={(e) => setFormData(prev => ({ ...prev, background: e.target.value }))}\n                style={{\n                  width: '100%',\n                  padding: '8px 12px',\n                  background: 'rgba(0, 0, 0, 0.3)',\n                  border: '1px solid #374151',\n                  borderRadius: '6px',\n                  color: '#f9fafb',\n                  fontSize: '14px'\n                }}\n              >\n                {BACKGROUND_OPTIONS.map(option => (\n                  <option key={option} value={option}>{option}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Ability Scores */}\n      <div style={{\n        background: 'rgba(34, 197, 94, 0.1)',\n        border: '1px solid rgba(34, 197, 94, 0.3)',\n        borderRadius: '8px',\n        padding: '20px'\n      }}>\n        <h4 style={{\n          margin: '0 0 16px 0',\n          color: '#4ade80',\n          borderBottom: '2px solid #4ade80',\n          paddingBottom: '8px'\n        }}>\n          ⚡ Ability Scores\n        </h4>\n\n        <div style={{ marginBottom: '16px', fontSize: '12px', color: '#cbd5e1' }}>\n          Points Available: <strong style={{ color: availablePoints > 0 ? '#4ade80' : '#ef4444' }}>\n            {availablePoints}\n          </strong>\n        </div>\n\n        <div style={{ marginBottom: '12px', fontSize: '11px', color: '#94a3b8', lineHeight: '1.4' }}>\n          <strong>Point Cost:</strong> 8-14 (1 point each), 15-16 (2 points each), 17-20 (3 points each)\n        </div>\n\n        <div style={{ display: 'grid', gap: '8px' }}>\n          {Object.entries(formData.stats).map(([stat, value]) => (\n            <div key={stat} style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n              <div style={{ width: '80px', fontSize: '13px', color: '#e2e8f0', textTransform: 'capitalize' }}>\n                {stat.slice(0, 3).toUpperCase()}\n              </div>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                <button\n                  onClick={() => handleStatChange(stat as keyof typeof formData.stats, value - 1)}\n                  disabled={value <= 8}\n                  style={{\n                    width: '24px',\n                    height: '24px',\n                    background: value > 8 ? '#374151' : '#1f2937',\n                    color: value > 8 ? '#f9fafb' : '#6b7280',\n                    border: 'none',\n                    borderRadius: '4px',\n                    cursor: value > 8 ? 'pointer' : 'not-allowed',\n                    fontSize: '14px'\n                  }}\n                >\n                  −\n                </button>\n                <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', minWidth: '60px' }}>\n                  <div style={{\n                    fontSize: '16px',\n                    fontWeight: 'bold',\n                    color: '#f9fafb'\n                  }}>\n                    {value}\n                  </div>\n                  {(() => {\n                    const finalStat = getFinalStat(value, stat as Stats, formData.species, formData.archetype);\n                    const modifier = abilityMod(finalStat);\n                    return finalStat !== value ? (\n                      <div style={{ fontSize: '12px', color: finalStat > value ? '#4ade80' : '#f87171' }}>\n                        {finalStat} ({modifier >= 0 ? '+' : ''}{modifier})\n                      </div>\n                    ) : (\n                      <div style={{ fontSize: '12px', color: '#94a3b8' }}>\n                        ({modifier >= 0 ? '+' : ''}{modifier})\n                      </div>\n                    );\n                  })()}\n                </div>\n                <button\n                  onClick={() => handleStatChange(stat as keyof typeof formData.stats, value + 1)}\n                  disabled={value >= 20 || availablePoints - (getStatCost(value + 1) - getStatCost(value)) < 0}\n                  style={{\n                    width: '24px',\n                    height: '24px',\n                    background: (value < 20 && availablePoints - (getStatCost(value + 1) - getStatCost(value)) >= 0) ? '#374151' : '#1f2937',\n                    color: (value < 20 && availablePoints - (getStatCost(value + 1) - getStatCost(value)) >= 0) ? '#f9fafb' : '#6b7280',\n                    border: 'none',\n                    borderRadius: '4px',\n                    cursor: (value < 20 && availablePoints - (getStatCost(value + 1) - getStatCost(value)) >= 0) ? 'pointer' : 'not-allowed',\n                    fontSize: '14px'\n                  }}\n                >\n                  +\n                </button>\n              </div>\n              <div style={{ fontSize: '11px', color: '#94a3b8', display: 'flex', flexDirection: 'column', alignItems: 'center', gap: '2px' }}>\n                <div>Cost: {getStatCost(value)}</div>\n                {(() => {\n                  // Map long form to short form\n                  const statMap: Record<string, Stats> = {\n                    'strength': 'STR',\n                    'dexterity': 'DEX',\n                    'constitution': 'CON',\n                    'intelligence': 'INT',\n                    'wisdom': 'WIS',\n                    'charisma': 'CHA'\n                  };\n                  const statKey = statMap[stat];\n                  const bonusText = getBonusText(statKey, formData.species, formData.archetype);\n                  return bonusText ? <div style={{ fontSize: '10px', color: '#6b7280' }}>{bonusText}</div> : null;\n                })()}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Character Preview Section */}\n      <div style={{\n        marginBottom: '20px',\n        padding: '15px',\n        background: 'rgba(55, 65, 81, 0.3)',\n        borderRadius: '8px',\n        border: '1px solid #374151'\n      }}>\n        <h4 style={{\n          margin: '0 0 15px 0',\n          color: '#f9fafb',\n          fontSize: '16px',\n          borderBottom: '2px solid #374151',\n          paddingBottom: '8px'\n        }}>\n          🎭 Character Preview\n        </h4>\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))', gap: '15px' }}>\n          {/* Final Stats */}\n          <div>\n            <h5 style={{ margin: '0 0 10px 0', color: '#d1d5db', fontSize: '14px', fontWeight: 'bold' }}>Final Stats</h5>\n            {Object.entries(formData.stats).map(([stat, value]) => {\n              // Map long form to short form\n              const statMap: Record<string, Stats> = {\n                'strength': 'STR',\n                'dexterity': 'DEX',\n                'constitution': 'CON',\n                'intelligence': 'INT',\n                'wisdom': 'WIS',\n                'charisma': 'CHA'\n              };\n\n              const statKey = statMap[stat];\n              const finalStat = getFinalStat(value, statKey, formData.species, formData.archetype);\n              const modifier = abilityMod(finalStat);\n              return (\n                <div key={stat} style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  fontSize: '12px',\n                  color: '#d1d5db',\n                  marginBottom: '2px'\n                }}>\n                  <span>{statKey}</span>\n                  <span style={{ color: finalStat !== value ? '#4ade80' : '#f9fafb' }}>\n                    {finalStat} ({modifier >= 0 ? '+' : ''}{modifier})\n                  </span>\n                </div>\n              );\n            })}\n          </div>\n\n          {/* HP and AC */}\n          <div>\n            <h5 style={{ margin: '0 0 10px 0', color: '#d1d5db', fontSize: '14px', fontWeight: 'bold' }}>Combat Stats</h5>\n            {(() => {\n              // Convert formData.stats to Stats format\n              const statsForCalc: Record<Stats, number> = {\n                STR: formData.stats.strength,\n                DEX: formData.stats.dexterity,\n                CON: formData.stats.constitution,\n                INT: formData.stats.intelligence,\n                WIS: formData.stats.wisdom,\n                CHA: formData.stats.charisma\n              };\n\n              // Get all traits (automatic + selected)\n              const allTraits = [...(speciesInfo?.automatic || []), ...selectedTraits];\n\n              const { hp, ac } = calculateHPAndAC(statsForCalc, formData.species, formData.archetype, formData.level, allTraits);\n              const conMod = abilityMod(getFinalStat(formData.stats.constitution, 'CON', formData.species, formData.archetype));\n              const dexMod = abilityMod(getFinalStat(formData.stats.dexterity, 'DEX', formData.species, formData.archetype));\n\n              return (\n                <>\n                  <div style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    fontSize: '12px',\n                    color: '#d1d5db',\n                    marginBottom: '2px'\n                  }}>\n                    <span>HP</span>\n                    <span style={{ color: '#ef4444' }}>{hp}</span>\n                  </div>\n                  <div style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    fontSize: '10px',\n                    color: '#9ca3af',\n                    marginLeft: '10px',\n                    marginBottom: '4px'\n                  }}>\n                    <span>Base: 10 + CON mod</span>\n                    <span>10 + {conMod >= 0 ? '+' : ''}{conMod}</span>\n                  </div>\n                  <div style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    fontSize: '12px',\n                    color: '#d1d5db',\n                    marginBottom: '2px'\n                  }}>\n                    <span>AC</span>\n                    <span style={{ color: '#3b82f6' }}>{ac}</span>\n                  </div>\n                  <div style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    fontSize: '10px',\n                    color: '#9ca3af',\n                    marginLeft: '10px'\n                  }}>\n                    <span>Base: 10 + DEX mod</span>\n                    <span>10 + {dexMod >= 0 ? '+' : ''}{dexMod}</span>\n                  </div>\n                </>\n              );\n            })()}\n          </div>\n\n          {/* Point Summary */}\n          <div>\n            <h5 style={{ margin: '0 0 10px 0', color: '#d1d5db', fontSize: '14px', fontWeight: 'bold' }}>Point Buy</h5>\n            {(() => {\n              const totalPointsUsed = Object.values(formData.stats).reduce((sum, value) => sum + getStatCost(value), 0);\n              return (\n                <>\n                  <div style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    fontSize: '12px',\n                    color: availablePoints === 0 ? '#4ade80' : availablePoints > 0 ? '#fbbf24' : '#ef4444',\n                    marginBottom: '2px'\n                  }}>\n                    <span>Available</span>\n                    <span>{availablePoints}</span>\n                  </div>\n                  <div style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    fontSize: '12px',\n                    color: '#d1d5db'\n                  }}>\n                    <span>Used</span>\n                    <span>{totalPointsUsed}</span>\n                  </div>\n                </>\n              );\n            })()}\n          </div>\n        </div>\n      </div>\n\n      {/* Traits */}\n      <div style={{\n        background: 'rgba(168, 85, 247, 0.1)',\n        border: '1px solid rgba(168, 85, 247, 0.3)',\n        borderRadius: '8px',\n        padding: '20px'\n      }}>\n        <h4 style={{\n          margin: '0 0 16px 0',\n          color: '#a855f7',\n          borderBottom: '2px solid #a855f7',\n          paddingBottom: '8px'\n        }}>\n          ✨ Character Traits <small style={{ opacity: 0.7, fontSize: '12px' }}>(choose up to {MAX_TRAITS})</small>\n        </h4>\n\n        {speciesInfo && (\n          <div style={{ marginBottom: '16px' }}>\n            {speciesInfo.automatic.length > 0 && (\n              <div style={{ marginBottom: '8px' }}>\n                <span style={{ fontSize: '12px', color: '#10b981', fontWeight: 'bold' }}>Automatic Traits: </span>\n                {speciesInfo.automatic.join(', ')}\n              </div>\n            )}\n            {speciesInfo.forbidden.length > 0 && (\n              <div style={{ marginBottom: '8px' }}>\n                <span style={{ fontSize: '12px', color: '#ef4444', fontWeight: 'bold' }}>Forbidden Traits: </span>\n                {speciesInfo.forbidden.join(', ')}\n              </div>\n            )}\n          </div>\n        )}\n\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '8px', maxHeight: '200px', overflowY: 'auto' }}>\n          {TRAIT_CATALOG.map(trait => {\n            const traitInfo = TRAIT_DEFINITIONS[trait as keyof typeof TRAIT_DEFINITIONS];\n            const isSelected = selectedTraits.includes(trait);\n            const isAutomatic = speciesInfo?.automatic.includes(trait);\n            const isForbidden = speciesInfo?.forbidden.includes(trait);\n            const isPreferred = speciesInfo?.preferred.includes(trait);\n            const isDisabled = (!isSelected && selectedTraits.length >= MAX_TRAITS) || isForbidden;\n\n            return (\n              <div\n                key={trait}\n                onClick={() => {\n                  if (!isAutomatic && !isForbidden && !isDisabled) {\n                    if (isSelected) {\n                      setSelectedTraits(prev => prev.filter(t => t !== trait));\n                    } else if (selectedTraits.length < MAX_TRAITS) {\n                      setSelectedTraits(prev => [...prev, trait]);\n                    }\n                  }\n                }}\n                style={{\n                  padding: '8px',\n                  borderRadius: '6px',\n                  cursor: (isAutomatic || isForbidden || isDisabled) ? 'not-allowed' : 'pointer',\n                  border: '1px solid',\n                  borderColor: isAutomatic ? '#10b981' : isForbidden ? '#ef4444' : isSelected ? '#a855f7' : isPreferred ? '#06b6d4' : '#4b5563',\n                  background: isAutomatic ? 'rgba(16, 185, 129, 0.2)' : isForbidden ? 'rgba(239, 68, 68, 0.2)' : isSelected ? 'rgba(168, 85, 247, 0.2)' : isPreferred ? 'rgba(6, 182, 212, 0.1)' : 'rgba(75, 85, 99, 0.1)',\n                  opacity: (isForbidden || isDisabled) ? 0.5 : 1\n                }}\n              >\n                <div style={{ fontSize: '14px', fontWeight: 'bold', color: isAutomatic ? '#10b981' : isForbidden ? '#ef4444' : isSelected ? '#a855f7' : '#e2e8f0', marginBottom: '4px' }}>\n                  {trait}\n                  {isAutomatic && ' (Auto)'}\n                  {isForbidden && ' (Forbidden)'}\n                  {isPreferred && ' (Preferred)'}\n                </div>\n                <div style={{ fontSize: '12px', color: '#94a3b8', lineHeight: '1.3' }}>\n                  {traitInfo.description}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        <div style={{ marginTop: '16px' }}>\n          <div style={{ fontSize: '14px', color: '#e2e8f0', marginBottom: '8px' }}>\n            Selected Traits ({selectedTraits.length}/{MAX_TRAITS}): {[...(speciesInfo?.automatic || []), ...selectedTraits].join(', ') || 'None'}\n          </div>\n        </div>\n      </div>\n\n      {/* Character Preview */}\n      {formData.name && (\n        <div style={{\n          gridColumn: '1 / -1',\n          background: 'rgba(16, 185, 129, 0.1)',\n          border: '1px solid rgba(16, 185, 129, 0.3)',\n          borderRadius: '8px',\n          padding: '20px'\n        }}>\n          <h4 style={{\n            margin: '0 0 16px 0',\n            color: '#10b981',\n            borderBottom: '2px solid #10b981',\n            paddingBottom: '8px'\n          }}>\n            🌟 Character Preview\n          </h4>\n\n          {(() => {\n            // Convert formData stats to the format expected by calculateHPAndAC\n            const statsForCalc: Record<Stats, number> = {\n              STR: formData.stats.strength,\n              DEX: formData.stats.dexterity,\n              CON: formData.stats.constitution,\n              INT: formData.stats.intelligence,\n              WIS: formData.stats.wisdom,\n              CHA: formData.stats.charisma\n            };\n\n            const allTraits = [...(speciesInfo?.automatic || []), ...selectedTraits];\n            const calculated = calculateHPAndAC(statsForCalc, formData.species, formData.archetype, formData.level, allTraits);\n\n            return (\n              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '16px' }}>\n                <div>\n                  <h5 style={{ color: '#e2e8f0', marginBottom: '12px' }}>Basic Info</h5>\n                  <div style={{ fontSize: '14px', color: '#cbd5e1', lineHeight: '1.6' }}>\n                    <div><strong>{formData.name}</strong> ({formData.gender})</div>\n                    <div>{formData.species} {formData.archetype}</div>\n                    <div>Level {formData.level} {formData.background}</div>\n                  </div>\n                </div>\n\n                <div>\n                  <h5 style={{ color: '#e2e8f0', marginBottom: '12px' }}>Combat Stats</h5>\n                  <div style={{ fontSize: '14px', color: '#cbd5e1', lineHeight: '1.6' }}>\n                    <div><strong>Hit Points:</strong> {calculated.hp}</div>\n                    <div><strong>Armor Class:</strong> {calculated.ac}</div>\n                    <div><strong>Carrying Capacity:</strong> {calculated.carry} lbs</div>\n                    {calculated.naturalACBonus > 0 && (\n                      <div style={{ fontSize: '12px', opacity: 0.7 }}>\n                        +{calculated.naturalACBonus} natural AC bonus\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                <div>\n                  <h5 style={{ color: '#e2e8f0', marginBottom: '12px' }}>Ability Scores</h5>\n                  <div style={{ fontSize: '14px', color: '#cbd5e1', lineHeight: '1.6', display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: '4px' }}>\n                    <div><strong>STR:</strong> {statsForCalc.STR} ({abilityMod(statsForCalc.STR) >= 0 ? '+' : ''}{abilityMod(statsForCalc.STR)})</div>\n                    <div><strong>DEX:</strong> {statsForCalc.DEX} ({abilityMod(statsForCalc.DEX) >= 0 ? '+' : ''}{abilityMod(statsForCalc.DEX)})</div>\n                    <div><strong>CON:</strong> {statsForCalc.CON} ({abilityMod(statsForCalc.CON) >= 0 ? '+' : ''}{abilityMod(statsForCalc.CON)})</div>\n                    <div><strong>INT:</strong> {statsForCalc.INT} ({abilityMod(statsForCalc.INT) >= 0 ? '+' : ''}{abilityMod(statsForCalc.INT)})</div>\n                    <div><strong>WIS:</strong> {statsForCalc.WIS} ({abilityMod(statsForCalc.WIS) >= 0 ? '+' : ''}{abilityMod(statsForCalc.WIS)})</div>\n                    <div><strong>CHA:</strong> {statsForCalc.CHA} ({abilityMod(statsForCalc.CHA) >= 0 ? '+' : ''}{abilityMod(statsForCalc.CHA)})</div>\n                  </div>\n                </div>\n\n                <div>\n                  <h5 style={{ color: '#e2e8f0', marginBottom: '12px' }}>Traits</h5>\n                  <div style={{ fontSize: '14px', color: '#cbd5e1', lineHeight: '1.6' }}>\n                    {allTraits.length > 0 ? allTraits.join(', ') : 'None'}\n                  </div>\n                  <div style={{ fontSize: '12px', marginTop: '8px' }}>\n                    <div style={{ color: '#10b981' }}>HP per level: +{calculated.totalHPPerLevel}</div>\n                    <div style={{ color: '#94a3b8' }}>\n                      (Base: +{1 + Math.max(0, abilityMod(statsForCalc.CON))},\n                      Class: +{calculated.classHPBonus},\n                      Race: {calculated.raceHPBonus >= 0 ? '+' : ''}{calculated.raceHPBonus},\n                      Traits: {calculated.traitHPBonus >= 0 ? '+' : ''}{calculated.traitHPBonus})\n                    </div>\n                  </div>\n                </div>\n              </div>\n            );\n          })()}\n        </div>\n      )}\n\n      {/* Create Button */}\n      <div style={{\n        gridColumn: '1 / -1',\n        display: 'flex',\n        justifyContent: 'center',\n        marginTop: '20px'\n      }}>\n        <button\n          onClick={handleSubmit}\n          disabled={!formData.name.trim()}\n          style={{\n            padding: '16px 32px',\n            background: !formData.name.trim() ? '#374151' : '#059669',\n            color: '#f9fafb',\n            border: 'none',\n            borderRadius: '8px',\n            cursor: !formData.name.trim() ? 'not-allowed' : 'pointer',\n            fontSize: '16px',\n            fontWeight: 'bold',\n            transition: 'all 0.2s'\n          }}\n        >\n          🎉 Create Character {availablePoints > 0 ? `(${availablePoints} points remaining)` : ''}\n        </button>\n      </div>\n    </div>\n  );\n}","/**\n * World Renderer - Handles the main world display and rendering\n */\n\nimport React from 'react';\nimport { WorldEngine } from '../engine/index';\n\ninterface WorldRendererProps {\n  engine: WorldEngine;\n  showGrid: boolean;\n  width: number;\n  height: number;\n  canvasRef?: React.RefObject<HTMLCanvasElement>;\n}\n\ninterface TileDisplayProps {\n  tile: any;\n  x: number;\n  y: number;\n  size: number;\n  isExplored: boolean;\n}\n\nfunction TileDisplay({ tile, x, y, size, isExplored }: TileDisplayProps) {\n  if (!isExplored) {\n    return (\n      <div\n        style={{\n          position: 'absolute',\n          left: x * size,\n          top: y * size,\n          width: size,\n          height: size,\n          backgroundColor: '#1e293b',\n          border: '1px solid #374151'\n        }}\n      />\n    );\n  }\n\n  const tileColors: Record<string, string> = {\n    grass: '#16a34a',\n    forest: '#065f46',\n    water: '#0ea5e9',\n    mountain: '#78716c',\n    desert: '#eab308',\n    snow: '#f8fafc',\n    swamp: '#365314',\n    road: '#a3a3a3',\n    town: '#dc2626',\n    dungeon: '#7c2d12',\n    ruins: '#6b7280',\n    cave: '#44403c',\n    bridge: '#8b5cf6'\n  };\n\n  const backgroundColor = tileColors[tile.type] || '#4b5563';\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        left: x * size,\n        top: y * size,\n        width: size,\n        height: size,\n        backgroundColor,\n        border: '1px solid rgba(0, 0, 0, 0.2)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        fontSize: '12px',\n        color: 'white',\n        textShadow: '1px 1px 2px rgba(0, 0, 0, 0.8)'\n      }}\n      title={`${tile.type} (${x}, ${y})`}\n    >\n      {tile.features && tile.features.length > 0 && (\n        <span style={{ fontSize: '10px' }}>\n          {tile.features[0].charAt(0).toUpperCase()}\n        </span>\n      )}\n      {tile.structure && (\n        <span style={{ fontSize: '14px', fontWeight: 'bold' }}>\n          {tile.structure === 'settlement' ? '🏘️' : \n           tile.structure === 'dungeon' ? '🏰' : \n           tile.structure === 'ruins' ? '🏛️' : '⭐'}\n        </span>\n      )}\n    </div>\n  );\n}\n\nexport default function WorldRenderer({ engine, showGrid, width, height, canvasRef }: WorldRendererProps) {\n  const tileSize = 24;\n  const viewportWidth = Math.floor(width / tileSize);\n  const viewportHeight = Math.floor(height / tileSize);\n  \n  const centerX = engine.state.party.x;\n  const centerY = engine.state.party.y;\n  \n  const startX = Math.floor(centerX - viewportWidth / 2);\n  const startY = Math.floor(centerY - viewportHeight / 2);\n  const endX = startX + viewportWidth;\n  const endY = startY + viewportHeight;\n\n  const tiles = [];\n\n  // Render visible tiles\n  for (let y = startY; y < endY; y++) {\n    for (let x = startX; x < endX; x++) {\n      const tile = engine.getTile(x, y);\n      const isExplored = engine.isDiscovered(x, y);\n      \n      tiles.push(\n        <TileDisplay\n          key={`${x},${y}`}\n          tile={tile}\n          x={x - startX}\n          y={y - startY}\n          size={tileSize}\n          isExplored={isExplored}\n        />\n      );\n    }\n  }\n\n  // Party position (always centered)\n  const partyX = Math.floor(viewportWidth / 2);\n  const partyY = Math.floor(viewportHeight / 2);\n\n  return (\n    <div style={{ \n      position: 'relative', \n      width: '100%', \n      height: '100%',\n      overflow: 'hidden',\n      backgroundColor: '#0f172a'\n    }}>\n      {/* Canvas for any additional rendering */}\n      {canvasRef && (\n        <canvas\n          ref={canvasRef}\n          width={width}\n          height={height}\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            pointerEvents: 'none',\n            zIndex: 1\n          }}\n        />\n      )}\n      \n      {/* World tiles */}\n      <div style={{\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%'\n      }}>\n        {tiles}\n      </div>\n\n      {/* Grid overlay */}\n      {showGrid && (\n        <div style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: '100%',\n          height: '100%',\n          backgroundImage: `\n            linear-gradient(to right, rgba(255, 255, 255, 0.1) 1px, transparent 1px),\n            linear-gradient(to bottom, rgba(255, 255, 255, 0.1) 1px, transparent 1px)\n          `,\n          backgroundSize: `${tileSize}px ${tileSize}px`,\n          pointerEvents: 'none',\n          zIndex: 3\n        }}\n      />\n      )}\n\n      {/* Party marker */}\n      <div\n        style={{\n          position: 'absolute',\n          left: partyX * tileSize + tileSize / 2 - 8,\n          top: partyY * tileSize + tileSize / 2 - 8,\n          width: 16,\n          height: 16,\n          backgroundColor: '#3b82f6',\n          borderRadius: '50%',\n          border: '2px solid white',\n          zIndex: 10,\n          boxShadow: '0 0 8px rgba(59, 130, 246, 0.8)',\n          animation: 'pulse 2s infinite'\n        }}\n      />\n\n      {/* Weather overlay */}\n      {engine.state.weather.type !== 'Clear' && (\n        <div style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: '100%',\n          height: '100%',\n          background: (() => {\n            const intensity = engine.state.weather.intensity;\n            switch (engine.state.weather.type) {\n              case 'Rain':\n                return `linear-gradient(45deg, transparent 30%, rgba(59, 130, 246, ${intensity * 0.3}) 50%, transparent 70%)`;\n              case 'Storm':\n                return `linear-gradient(45deg, transparent 20%, rgba(59, 130, 246, ${intensity * 0.5}) 40%, transparent 60%)`;\n              case 'Snow':\n                return `radial-gradient(circle, rgba(248, 250, 252, ${intensity * 0.4}) 2px, transparent 3px)`;\n              case 'Fog':\n                return `rgba(156, 163, 175, ${intensity * 0.6})`;\n              case 'Wind':\n                return `linear-gradient(30deg, transparent 40%, rgba(234, 179, 8, ${intensity * 0.2}) 60%, transparent 80%)`;\n              default:\n                return 'none';\n            }\n          })(),\n          backgroundSize: engine.state.weather.type === 'Snow' ? '20px 20px' : '100% 100%',\n          pointerEvents: 'none',\n          zIndex: 5,\n          animation: engine.state.weather.type === 'Rain' || engine.state.weather.type === 'Storm' \n            ? 'rainFall 0.5s linear infinite' \n            : engine.state.weather.type === 'Snow' \n            ? 'snowFall 3s linear infinite' \n            : 'none'\n        }}\n        />\n      )}\n\n      {/* Day/Night cycle overlay */}\n      <div style={{\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        background: (() => {\n          const hour = Math.floor(engine.state.time.minutes / 60) % 24;\n          if (hour >= 6 && hour < 18) {\n            // Day\n            return 'rgba(255, 255, 255, 0.1)';\n          } else if (hour >= 18 && hour < 20 || hour >= 5 && hour < 7) {\n            // Twilight\n            return 'rgba(234, 179, 8, 0.2)';\n          } else {\n            // Night\n            return 'rgba(15, 23, 42, 0.6)';\n          }\n        })(),\n        pointerEvents: 'none',\n        zIndex: 6\n      }} />\n\n      <style>{`\n        @keyframes pulse {\n          0%, 100% { \n            box-shadow: 0 0 8px rgba(59, 130, 246, 0.8);\n          }\n          50% { \n            box-shadow: 0 0 16px rgba(59, 130, 246, 1);\n          }\n        }\n        \n        @keyframes rainFall {\n          0% { background-position: 0% 0%; }\n          100% { background-position: 100% 100%; }\n        }\n        \n        @keyframes snowFall {\n          0% { background-position: 0% 0%; }\n          100% { background-position: 20px 20px; }\n        }\n      `}</style>\n    </div>\n  );\n}","/**\n * Game Modals - Handles all modal dialogs and popups\n */\n\nimport React from 'react';\nimport { WorldEngine, Encounter } from '../engine/index';\n\ninterface GameModalsProps {\n  engine: WorldEngine;\n  showWorldGenModal: boolean;\n  onCloseWorldGenModal: () => void;\n  onWorldGenSubmit: (config: any) => void;\n  showEncounterModal: boolean;\n  onCloseEncounterModal: () => void;\n  onEncounterAction: (action: 'fight' | 'flee' | 'negotiate' | 'explore') => void;\n  showCharacterModal: boolean;\n  onCloseCharacterModal: () => void;\n}\n\nexport default function GameModals({\n  engine,\n  showWorldGenModal,\n  onCloseWorldGenModal,\n  onWorldGenSubmit,\n  showEncounterModal,\n  onCloseEncounterModal,\n  onEncounterAction,\n  showCharacterModal,\n  onCloseCharacterModal\n}: GameModalsProps) {\n  const activeEncounter = engine.getActiveEncounter();\n\n  return (\n    <>\n      {/* World Generation Modal */}\n      {showWorldGenModal && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          width: '100vw',\n          height: '100vh',\n          backgroundColor: 'rgba(0, 0, 0, 0.8)',\n          zIndex: 1000,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        }}>\n          <div style={{\n            backgroundColor: '#1f2937',\n            color: '#f9fafb',\n            padding: '32px',\n            borderRadius: '12px',\n            border: '2px solid #374151',\n            maxWidth: '600px',\n            width: '90%',\n            maxHeight: '80vh',\n            overflowY: 'auto'\n          }}>\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '24px' }}>\n              <h2 style={{ margin: 0, color: '#3b82f6' }}>🌍 World Generation Settings</h2>\n              <button\n                onClick={onCloseWorldGenModal}\n                style={{\n                  background: 'transparent',\n                  border: 'none',\n                  color: '#94a3b8',\n                  fontSize: '24px',\n                  cursor: 'pointer'\n                }}\n              >\n                ×\n              </button>\n            </div>\n\n            <div style={{ marginBottom: '24px' }}>\n              <p style={{ color: '#cbd5e1', marginBottom: '16px' }}>\n                Customize your world generation parameters. Changes will regenerate the entire world.\n              </p>\n\n              <div style={{ display: 'grid', gap: '16px' }}>\n                <div>\n                  <label style={{ display: 'block', marginBottom: '8px', color: '#e2e8f0' }}>\n                    Sea Level (0.0 = No Ocean, 1.0 = All Ocean)\n                  </label>\n                  <input\n                    type=\"range\"\n                    min=\"0\"\n                    max=\"1\"\n                    step=\"0.1\"\n                    defaultValue={engine.state.config.world.seaLevel}\n                    style={{ width: '100%' }}\n                  />\n                </div>\n\n                <div>\n                  <label style={{ display: 'block', marginBottom: '8px', color: '#e2e8f0' }}>\n                    Continent Frequency (Lower = Larger Continents)\n                  </label>\n                  <input\n                    type=\"range\"\n                    min=\"0.0001\"\n                    max=\"0.01\"\n                    step=\"0.0001\"\n                    defaultValue={engine.state.config.world.continentFreq}\n                    style={{ width: '100%' }}\n                  />\n                </div>\n\n                <div>\n                  <label style={{ display: 'block', marginBottom: '8px', color: '#e2e8f0' }}>\n                    Feature Frequency (Lower = Larger Features)\n                  </label>\n                  <input\n                    type=\"range\"\n                    min=\"0.001\"\n                    max=\"0.1\"\n                    step=\"0.001\"\n                    defaultValue={engine.state.config.world.featureFreq}\n                    style={{ width: '100%' }}\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div style={{ display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\n              <button\n                onClick={onCloseWorldGenModal}\n                style={{\n                  padding: '12px 24px',\n                  background: '#6b7280',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '6px',\n                  cursor: 'pointer'\n                }}\n              >\n                Cancel\n              </button>\n              <button\n                onClick={() => {\n                  // For now, just close modal - actual config implementation needed\n                  onWorldGenSubmit({});\n                  onCloseWorldGenModal();\n                }}\n                style={{\n                  padding: '12px 24px',\n                  background: '#3b82f6',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '6px',\n                  cursor: 'pointer'\n                }}\n              >\n                Apply Changes\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Encounter Modal */}\n      {showEncounterModal && activeEncounter && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          width: '100vw',\n          height: '100vh',\n          backgroundColor: 'rgba(0, 0, 0, 0.9)',\n          zIndex: 1000,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        }}>\n          <div style={{\n            backgroundColor: '#1f2937',\n            color: '#f9fafb',\n            padding: '32px',\n            borderRadius: '12px',\n            border: `3px solid ${activeEncounter.danger === 'extreme' ? '#dc2626' :\n                activeEncounter.danger === 'high' ? '#ea580c' :\n                  activeEncounter.danger === 'medium' ? '#eab308' :\n                    activeEncounter.danger === 'low' ? '#65a30d' : '#059669'\n              }`,\n            maxWidth: '700px',\n            width: '90%',\n            maxHeight: '80vh',\n            overflowY: 'auto',\n            boxShadow: '0 20px 60px rgba(0, 0, 0, 0.8)'\n          }}>\n            <div style={{ textAlign: 'center', marginBottom: '24px' }}>\n              <div style={{\n                fontSize: '48px',\n                marginBottom: '16px',\n                filter: 'drop-shadow(0 4px 8px rgba(0, 0, 0, 0.8))'\n              }}>\n                {activeEncounter.type === 'combat' ? '⚔️' :\n                  activeEncounter.type === 'discovery' ? '🗺️' :\n                    activeEncounter.type === 'trader' ? '🏪' :\n                      activeEncounter.type === 'event' ? '📜' : '❓'}\n              </div>\n\n              <h2 style={{\n                margin: '0 0 8px 0',\n                color: '#f1f5f9',\n                fontSize: '28px',\n                textShadow: '2px 2px 4px rgba(0, 0, 0, 0.8)'\n              }}>\n                {activeEncounter.name}\n              </h2>\n\n              <div style={{\n                display: 'inline-block',\n                padding: '4px 12px',\n                borderRadius: '20px',\n                fontSize: '12px',\n                fontWeight: 'bold',\n                backgroundColor:\n                  activeEncounter.danger === 'extreme' ? 'rgba(220, 38, 38, 0.3)' :\n                    activeEncounter.danger === 'high' ? 'rgba(234, 88, 12, 0.3)' :\n                      activeEncounter.danger === 'medium' ? 'rgba(234, 179, 8, 0.3)' :\n                        activeEncounter.danger === 'low' ? 'rgba(101, 163, 13, 0.3)' : 'rgba(5, 150, 105, 0.3)',\n                color:\n                  activeEncounter.danger === 'extreme' ? '#fca5a5' :\n                    activeEncounter.danger === 'high' ? '#fdba74' :\n                      activeEncounter.danger === 'medium' ? '#fde047' :\n                        activeEncounter.danger === 'low' ? '#a3e635' : '#6ee7b7',\n                border: `1px solid ${activeEncounter.danger === 'extreme' ? '#dc2626' :\n                    activeEncounter.danger === 'high' ? '#ea580c' :\n                      activeEncounter.danger === 'medium' ? '#eab308' :\n                        activeEncounter.danger === 'low' ? '#65a30d' : '#059669'\n                  }`\n              }}>\n                {activeEncounter.danger.toUpperCase()} RISK\n              </div>\n            </div>\n\n            <div style={{\n              backgroundColor: 'rgba(0, 0, 0, 0.3)',\n              padding: '20px',\n              borderRadius: '8px',\n              marginBottom: '24px',\n              border: '1px solid rgba(75, 85, 99, 0.5)'\n            }}>\n              <p style={{\n                margin: 0,\n                fontSize: '16px',\n                lineHeight: '1.6',\n                color: '#e2e8f0'\n              }}>\n                {activeEncounter.description}\n              </p>\n            </div>\n\n            {/* Potential Rewards */}\n            {activeEncounter.rewards && (\n              <div style={{ marginBottom: '24px' }}>\n                <h4 style={{ margin: '0 0 12px 0', color: '#fbbf24' }}>💰 Potential Rewards</h4>\n                <div style={{\n                  fontSize: '14px',\n                  color: '#cbd5e1',\n                  backgroundColor: 'rgba(251, 191, 36, 0.1)',\n                  padding: '12px',\n                  borderRadius: '6px',\n                  border: '1px solid rgba(251, 191, 36, 0.3)'\n                }}>\n                  {activeEncounter.rewards.experience && (\n                    <div>🎓 Experience: {activeEncounter.rewards.experience}</div>\n                  )}\n                  {activeEncounter.rewards.gold && (\n                    <div>💰 Gold: {activeEncounter.rewards.gold}</div>\n                  )}\n                  {activeEncounter.rewards.items && activeEncounter.rewards.items.length > 0 && (\n                    <div>🎒 Items: {activeEncounter.rewards.items.join(', ')}</div>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/* Action Buttons */}\n            <div style={{\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))',\n              gap: '12px'\n            }}>\n              {activeEncounter.type === 'combat' && (\n                <>\n                  <button\n                    onClick={() => onEncounterAction('fight')}\n                    style={{\n                      padding: '12px 16px',\n                      background: 'linear-gradient(135deg, #dc2626 0%, #991b1b 100%)',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '6px',\n                      cursor: 'pointer',\n                      fontSize: '14px',\n                      fontWeight: 'bold',\n                      boxShadow: '0 4px 8px rgba(220, 38, 38, 0.3)'\n                    }}\n                  >\n                    ⚔️ Fight\n                  </button>\n                  <button\n                    onClick={() => onEncounterAction('flee')}\n                    style={{\n                      padding: '12px 16px',\n                      background: 'linear-gradient(135deg, #eab308 0%, #ca8a04 100%)',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '6px',\n                      cursor: 'pointer',\n                      fontSize: '14px',\n                      fontWeight: 'bold',\n                      boxShadow: '0 4px 8px rgba(234, 179, 8, 0.3)'\n                    }}\n                  >\n                    🏃 Flee\n                  </button>\n                </>\n              )}\n\n              {(activeEncounter.type === 'trader' || activeEncounter.type === 'event') && (\n                <button\n                  onClick={() => onEncounterAction('negotiate')}\n                  style={{\n                    padding: '12px 16px',\n                    background: 'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '6px',\n                    cursor: 'pointer',\n                    fontSize: '14px',\n                    fontWeight: 'bold',\n                    boxShadow: '0 4px 8px rgba(59, 130, 246, 0.3)'\n                  }}\n                >\n                  💬 Interact\n                </button>\n              )}\n\n              {activeEncounter.type === 'discovery' && (\n                <button\n                  onClick={() => onEncounterAction('explore')}\n                  style={{\n                    padding: '12px 16px',\n                    background: 'linear-gradient(135deg, #059669 0%, #047857 100%)',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '6px',\n                    cursor: 'pointer',\n                    fontSize: '14px',\n                    fontWeight: 'bold',\n                    boxShadow: '0 4px 8px rgba(5, 150, 105, 0.3)'\n                  }}\n                >\n                  🔍 Explore\n                </button>\n              )}\n\n              {/* Always show dismiss option */}\n              <button\n                onClick={onCloseEncounterModal}\n                style={{\n                  padding: '12px 16px',\n                  background: 'linear-gradient(135deg, #6b7280 0%, #4b5563 100%)',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '6px',\n                  cursor: 'pointer',\n                  fontSize: '14px',\n                  fontWeight: 'bold',\n                  boxShadow: '0 4px 8px rgba(107, 114, 128, 0.3)'\n                }}\n              >\n                🚪 Dismiss\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Character Info Modal */}\n      {showCharacterModal && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          width: '100vw',\n          height: '100vh',\n          backgroundColor: 'rgba(0, 0, 0, 0.8)',\n          zIndex: 1000,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        }}>\n          <div style={{\n            backgroundColor: '#1f2937',\n            color: '#f9fafb',\n            padding: '32px',\n            borderRadius: '12px',\n            border: '2px solid #374151',\n            maxWidth: '900px',\n            width: '95%',\n            maxHeight: '85vh',\n            overflowY: 'auto'\n          }}>\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '24px' }}>\n              <h2 style={{ margin: 0, color: '#3b82f6' }}>� Party Characters</h2>\n              <button\n                onClick={onCloseCharacterModal}\n                style={{\n                  background: 'transparent',\n                  border: 'none',\n                  color: '#94a3b8',\n                  fontSize: '24px',\n                  cursor: 'pointer'\n                }}\n              >\n                ×\n              </button>\n            </div>\n\n            <CharacterList engine={engine} />\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\n// Character List Component\nfunction CharacterList({ engine }: { engine: { getPartyCharacters: () => any[] } }) {\n  const characters = engine.getPartyCharacters();\n\n  if (characters.length === 0) {\n    return (\n      <div style={{\n        padding: '32px',\n        textAlign: 'center',\n        background: 'rgba(239, 68, 68, 0.1)',\n        border: '1px solid rgba(239, 68, 68, 0.3)',\n        borderRadius: '8px',\n        color: '#fca5a5'\n      }}>\n        <h3 style={{ margin: '0 0 16px 0' }}>⚠️ No Characters in Party</h3>\n        <p style={{ margin: 0, fontSize: '14px' }}>\n          Add characters to your party to view their information and manage their abilities.\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ display: 'grid', gap: '20px' }}>\n      {characters.map((char, index) => (\n        <div key={char.id} style={{\n          background: 'rgba(59, 130, 246, 0.1)',\n          border: '1px solid rgba(59, 130, 246, 0.3)',\n          borderRadius: '8px',\n          padding: '20px'\n        }}>\n          <div style={{ display: 'grid', gridTemplateColumns: 'auto 1fr auto', gap: '20px', alignItems: 'start' }}>\n            {/* Character Portrait */}\n            <div style={{\n              width: '64px',\n              height: '64px',\n              background: 'rgba(99, 102, 241, 0.2)',\n              borderRadius: '50%',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontSize: '32px'\n            }}>\n              👤\n            </div>\n\n            {/* Character Info */}\n            <div>\n              <h3 style={{ margin: '0 0 8px 0', color: '#60a5fa' }}>{char.name}</h3>\n              <div style={{ fontSize: '14px', color: '#cbd5e1', marginBottom: '12px' }}>\n                Level {char.level} {char.species} {char.archetype} • {char.gender}\n              </div>\n\n              {/* Stats Grid */}\n              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '12px', marginBottom: '16px' }}>\n                <div style={{ fontSize: '12px' }}>\n                  <div style={{ color: '#94a3b8' }}>Health</div>\n                  <div style={{ color: '#4ade80', fontWeight: 'bold' }}>{char.hitPoints}/{char.maxHitPoints}</div>\n                </div>\n                <div style={{ fontSize: '12px' }}>\n                  <div style={{ color: '#94a3b8' }}>Stamina</div>\n                  <div style={{ color: '#facc15', fontWeight: 'bold' }}>{char.stamina}/{char.maxStamina}</div>\n                </div>\n                <div style={{ fontSize: '12px' }}>\n                  <div style={{ color: '#94a3b8' }}>Ether</div>\n                  <div style={{ color: '#8b5cf6', fontWeight: 'bold' }}>{char.ether}/{char.maxEther}</div>\n                </div>\n              </div>\n\n              {/* Attributes */}\n              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(6, 1fr)', gap: '8px', fontSize: '11px' }}>\n                <div><span style={{ color: '#94a3b8' }}>STR:</span> {char.stats.strength}</div>\n                <div><span style={{ color: '#94a3b8' }}>DEX:</span> {char.stats.dexterity}</div>\n                <div><span style={{ color: '#94a3b8' }}>CON:</span> {char.stats.constitution}</div>\n                <div><span style={{ color: '#94a3b8' }}>INT:</span> {char.stats.intelligence}</div>\n                <div><span style={{ color: '#94a3b8' }}>WIS:</span> {char.stats.wisdom}</div>\n                <div><span style={{ color: '#94a3b8' }}>CHA:</span> {char.stats.charisma}</div>\n              </div>\n            </div>\n\n            {/* Experience Bar */}\n            <div style={{ minWidth: '120px' }}>\n              <div style={{ fontSize: '12px', color: '#94a3b8', marginBottom: '4px' }}>\n                XP: {char.experience}\n              </div>\n              <div style={{\n                width: '100%',\n                height: '8px',\n                background: 'rgba(75, 85, 99, 0.5)',\n                borderRadius: '4px',\n                overflow: 'hidden'\n              }}>\n                <div style={{\n                  width: `${(char.experience % 100)}%`,\n                  height: '100%',\n                  background: 'linear-gradient(90deg, #3b82f6, #60a5fa)',\n                  borderRadius: '4px'\n                }} />\n              </div>\n            </div>\n          </div>\n\n          {/* Abilities and Spells */}\n          <div style={{ marginTop: '16px', display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>\n            <div>\n              <h4 style={{ margin: '0 0 8px 0', color: '#4ade80', fontSize: '14px' }}>⚔️ Abilities ({char.knownAbilities.length})</h4>\n              <div style={{ display: 'flex', flexWrap: 'wrap', gap: '4px' }}>\n                {char.knownAbilities.length > 0 ?\n                  char.knownAbilities.slice(0, 3).map((ability: string, i: number) => (\n                    <div key={i} style={{\n                      padding: '2px 6px',\n                      background: 'rgba(34, 197, 94, 0.2)',\n                      borderRadius: '4px',\n                      fontSize: '10px',\n                      color: '#4ade80'\n                    }}>\n                      {ability}\n                    </div>\n                  )) :\n                  <div style={{ fontSize: '10px', color: '#6b7280', fontStyle: 'italic' }}>None learned</div>\n                }\n                {char.knownAbilities.length > 3 && (\n                  <div style={{ fontSize: '10px', color: '#6b7280' }}>+{char.knownAbilities.length - 3} more</div>\n                )}\n              </div>\n            </div>\n\n            <div>\n              <h4 style={{ margin: '0 0 8px 0', color: '#8b5cf6', fontSize: '14px' }}>✨ Spells ({char.knownSpells.length})</h4>\n              <div style={{ display: 'flex', flexWrap: 'wrap', gap: '4px' }}>\n                {char.knownSpells.length > 0 ?\n                  char.knownSpells.slice(0, 3).map((spell: string, i: number) => (\n                    <div key={i} style={{\n                      padding: '2px 6px',\n                      background: 'rgba(139, 92, 246, 0.2)',\n                      borderRadius: '4px',\n                      fontSize: '10px',\n                      color: '#8b5cf6'\n                    }}>\n                      {spell}\n                    </div>\n                  )) :\n                  <div style={{ fontSize: '10px', color: '#6b7280', fontStyle: 'italic' }}>None learned</div>\n                }\n                {char.knownSpells.length > 3 && (\n                  <div style={{ fontSize: '10px', color: '#6b7280' }}>+{char.knownSpells.length - 3} more</div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}","/**\n * World Map Engine - Refactored with Modular Components\n * \n * Clean architecture using specialized components:\n * - GameHUD: Health/stats display and controls  \n * - GameMenu: Tabbed in-game menu system (M key)\n * - WorldRenderer: World display and rendering\n * - GameModals: Modal dialogs and popups\n */\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { WorldEngine } from '../engine/index';\nimport GameHUD from './GameHUD';\nimport GameMenu from './GameMenu';\nimport WorldRenderer from './WorldRenderer';\nimport GameModals from './GameModals';\n\ninterface WorldMapEngineProps {\n  seedStr?: string;\n  onBack: () => void;\n}\n\nexport default function WorldMapEngine({ seedStr = \"world-001\", onBack }: WorldMapEngineProps) {\n  // Helper to normalize stats for our components\n  const normalizeStats = useCallback((engineStats: ReturnType<WorldEngine['getStats']>) => ({\n    chunks: engineStats.chunks,\n    discovered: engineStats.discovered,\n    timeOfDay: typeof engineStats.timeOfDay === 'number' ?\n      (engineStats.timeOfDay < 0.25 ? 'Night' :\n        engineStats.timeOfDay < 0.5 ? 'Morning' :\n          engineStats.timeOfDay < 0.75 ? 'Day' : 'Evening') :\n      engineStats.timeOfDay,\n    gameTime: engineStats.gameTime\n  }), []);\n\n  // Initialize engine\n  const [engine] = useState(() => {\n    console.log('🚀 Creating WorldEngine with seed:', seedStr);\n    return new WorldEngine(seedStr);\n  });\n\n  // Force re-render hook to trigger when engine state changes\n  const [, forceUpdate] = React.useReducer((x: number) => x + 1, 0);\n\n  // Game state\n  const [showGrid, setShowGrid] = useState(false);\n  const [cameraLocked, setCameraLocked] = useState(true);\n  const [stats, setStats] = useState(() => normalizeStats(engine.getStats()));\n\n  // UI state for our modular components\n  const [showGameMenu, setShowGameMenu] = useState(false);\n  const [showEncounterModal, setShowEncounterModal] = useState(false);\n  const [showCharacterModal, setShowCharacterModal] = useState(false);\n  const [showWorldGenModal, setShowWorldGenModal] = useState(false);\n\n  // Viewport for WorldRenderer\n  const [viewport, setViewport] = useState({ width: 800, height: 600 });\n\n  // Update stats periodically\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setStats(normalizeStats(engine.getStats()));\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [engine, normalizeStats]);\n\n  // Check if engine was loaded from save on startup and force update\n  useEffect(() => {\n    if (engine.wasLoadedFromSave()) {\n      console.log('Engine was loaded from save, updating React state...');\n      setStats(normalizeStats(engine.getStats()));\n      forceUpdate();\n    }\n  }, [engine, normalizeStats]);\n\n  // Check for encounters\n  useEffect(() => {\n    const activeEncounter = engine.getActiveEncounter();\n    if (activeEncounter && !showEncounterModal) {\n      setShowEncounterModal(true);\n    }\n  }, [engine, showEncounterModal]);\n\n  // Handle viewport resizing\n  useEffect(() => {\n    const handleResize = () => {\n      const container = document.querySelector('.world-container') as HTMLElement;\n      if (container) {\n        setViewport({ width: container.clientWidth, height: container.clientHeight });\n      }\n    };\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Game actions\n  const handleMove = useCallback((dx: number, dy: number) => {\n    if (engine.tickTravel(dx, dy)) {\n      setStats(normalizeStats(engine.getStats()));\n    }\n  }, [engine, normalizeStats]);\n\n  const handleRest = useCallback((hours: number) => {\n    engine.rest(hours);\n    setStats(normalizeStats(engine.getStats()));\n    console.log(`💤 Rested ${hours}h. HP: ${engine.state.party.hitPoints}/${engine.state.party.maxHitPoints}`);\n  }, [engine, normalizeStats]);\n\n  // Keyboard controls\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Don't handle keys if any modal is open or if typing in inputs\n      if (e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement ||\n        showGameMenu || showEncounterModal || showCharacterModal || showWorldGenModal) {\n        return;\n      }\n\n      switch (e.key.toLowerCase()) {\n        // Movement\n        case 'w': case 'arrowup': e.preventDefault(); handleMove(0, -1); break;\n        case 's': case 'arrowdown': e.preventDefault(); handleMove(0, 1); break;\n        case 'a': case 'arrowleft': e.preventDefault(); handleMove(-1, 0); break;\n        case 'd': case 'arrowright': e.preventDefault(); handleMove(1, 0); break;\n        case 'q': e.preventDefault(); handleMove(-1, -1); break;\n        case 'e': e.preventDefault(); handleMove(1, -1); break;\n        case 'z': e.preventDefault(); handleMove(-1, 1); break;\n        case 'c': e.preventDefault(); handleMove(1, 1); break;\n\n        // Actions\n        case 'r': e.preventDefault(); handleRest(e.shiftKey ? 8 : 1); break;\n\n        // UI Controls - This is where our modular system shines!\n        case 'm': e.preventDefault(); setShowGameMenu(!showGameMenu); break;\n        case 'i': case 'tab': e.preventDefault(); setShowCharacterModal(!showCharacterModal); break;\n        case 'g': e.preventDefault(); setShowGrid(!showGrid); break;\n        case 'l': e.preventDefault(); setCameraLocked(!cameraLocked); break;\n        case 'escape':\n          e.preventDefault();\n          if (showGameMenu) setShowGameMenu(false);\n          else if (showEncounterModal) setShowEncounterModal(false);\n          else if (showCharacterModal) setShowCharacterModal(false);\n          else if (showWorldGenModal) setShowWorldGenModal(false);\n          break;\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [handleMove, handleRest, showGameMenu, showEncounterModal, showCharacterModal, showWorldGenModal, showGrid, cameraLocked]);\n\n  // Encounter handling\n  const handleEncounterAction = useCallback((action: 'fight' | 'flee' | 'negotiate' | 'explore') => {\n    const activeEncounter = engine.getActiveEncounter();\n    if (!activeEncounter) return;\n\n    // Simple encounter resolution\n    let success = true;\n    switch (action) {\n      case 'fight':\n        success = Math.random() > 0.3; // 70% success rate for demo\n        break;\n      case 'flee':\n        success = Math.random() > 0.2; // 80% success rate\n        break;\n      case 'negotiate':\n        success = Math.random() > 0.4; // 60% success rate\n        break;\n      case 'explore':\n        success = true; // Always succeeds\n        break;\n    }\n\n    engine.completeEncounter(success);\n    setShowEncounterModal(false);\n    setStats(normalizeStats(engine.getStats()));\n    console.log(`🎭 Encounter: ${action} -> ${success ? 'Success!' : 'Failed!'}`);\n  }, [engine, normalizeStats]);\n\n  const handleWorldGenSubmit = useCallback((config: any) => {\n    if (Object.keys(config).length > 0) {\n      engine.updateWorldConfig(config);\n      setStats(normalizeStats(engine.getStats()));\n      console.log('🌍 World config updated');\n    }\n  }, [engine, normalizeStats]);\n\n  console.log('🎮 Rendering WorldMapEngine with modular components');\n\n  return (\n    <div style={{\n      width: '100vw',\n      height: '100vh',\n      position: 'relative',\n      backgroundColor: '#0f172a',\n      overflow: 'hidden',\n      fontFamily: 'monospace'\n    }}>\n      {/* Main World Display */}\n      <div className=\"world-container\" style={{ width: '100%', height: '100%', position: 'relative' }}>\n        <WorldRenderer\n          engine={engine}\n          showGrid={showGrid}\n          width={viewport.width}\n          height={viewport.height}\n        />\n      </div>\n\n      {/* 🎯 Component Integration - Clean Modular Architecture */}\n\n      {/* Game HUD - Always visible overlay */}\n      <GameHUD\n        engine={engine}\n        stats={stats}\n        onBack={onBack}\n        cameraLocked={cameraLocked}\n        onCenterParty={() => console.log('🎯 Center camera on party')}\n      />\n\n      {/* In-Game Menu - Opens with M key */}\n      <GameMenu\n        engine={engine}\n        isVisible={showGameMenu}\n        onClose={() => setShowGameMenu(false)}\n        showGrid={showGrid}\n        onToggleGrid={() => setShowGrid(!showGrid)}\n        cameraLocked={cameraLocked}\n        onToggleCameraLock={() => setCameraLocked(!cameraLocked)}\n        onRefresh={() => {\n          // Force re-render and update stats after loading\n          forceUpdate();\n          setStats(normalizeStats(engine.getStats()));\n        }}\n        stats={stats}\n      />\n\n      {/* Modal System - Handles all popups */}\n      <GameModals\n        engine={engine}\n        showWorldGenModal={showWorldGenModal}\n        onCloseWorldGenModal={() => setShowWorldGenModal(false)}\n        onWorldGenSubmit={handleWorldGenSubmit}\n        showEncounterModal={showEncounterModal}\n        onCloseEncounterModal={() => {\n          engine.dismissEncounter();\n          setShowEncounterModal(false);\n        }}\n        onEncounterAction={handleEncounterAction}\n        showCharacterModal={showCharacterModal}\n        onCloseCharacterModal={() => setShowCharacterModal(false)}\n      />\n\n      {/* Help Text */}\n      <div style={{\n        position: 'absolute',\n        bottom: '20px',\n        left: '20px',\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n        color: '#e2e8f0',\n        padding: '12px',\n        borderRadius: '6px',\n        fontSize: '11px',\n        lineHeight: '1.4',\n        maxWidth: '300px',\n        border: '1px solid rgba(75, 85, 99, 0.5)'\n      }}>\n        <div style={{ fontWeight: 'bold', marginBottom: '8px', color: '#3b82f6' }}>\n          🎮 Controls\n        </div>\n        <div><strong>Move:</strong> WASD / Arrow Keys</div>\n        <div><strong>Rest:</strong> R (1hr) / Shift+R (8hr)</div>\n        <div><strong>Menu:</strong> M • <strong>Character:</strong> I/Tab</div>\n        <div><strong>Grid:</strong> G • <strong>Camera:</strong> L</div>\n        <div><strong>Close:</strong> ESC</div>\n      </div>\n\n      {/* Debug Info */}\n      {process.env.NODE_ENV === 'development' && (\n        <div style={{\n          position: 'absolute',\n          top: '20px',\n          right: '20px',\n          backgroundColor: 'rgba(0, 0, 0, 0.8)',\n          color: '#e2e8f0',\n          padding: '12px',\n          borderRadius: '6px',\n          fontSize: '11px',\n          fontFamily: 'monospace',\n          border: '1px solid rgba(75, 85, 99, 0.5)'\n        }}>\n          <div style={{ color: '#22c55e', fontWeight: 'bold', marginBottom: '4px' }}>\n            DEBUG\n          </div>\n          <div>Seed: {engine.state.seed}</div>\n          <div>Pos: ({engine.state.party.x}, {engine.state.party.y})</div>\n          <div>HP: {engine.state.party.hitPoints}/{engine.state.party.maxHitPoints}</div>\n          <div>Level: {engine.state.party.level}</div>\n          <div>Weather: {engine.state.weather.type}</div>\n          <div>Risk: {Math.round(engine.state.encounterClock.riskLevel * 100)}%</div>\n        </div>\n      )}\n    </div>\n  );\n}","import React, { useEffect, useState } from 'react';\nimport { PortraitPreview } from '../visuals/PortraitPreview';\nimport { getPortraitAssets } from '../visuals/assets';\nimport { clearPortraitCache } from '../visuals/service';\n\nexport const PortraitTestPage: React.FC = () => {\n    const [assets, setAssets] = useState<any>(null);\n    const [loading, setLoading] = useState(true);\n    const [selectedSpecies, setSelectedSpecies] = useState<string | null>(null);\n\n    useEffect(() => {\n        const loadAssets = async () => {\n            const portraitAssets = await getPortraitAssets();\n            setAssets(portraitAssets);\n\n            if (portraitAssets && Object.keys(portraitAssets).length > 0) {\n                setSelectedSpecies(Object.keys(portraitAssets)[0]);\n            }\n\n            setLoading(false);\n        };\n\n        loadAssets();\n    }, []);\n\n    const handleClearCache = () => {\n        clearPortraitCache();\n        // Force refresh by setting loading true briefly\n        setLoading(true);\n        setTimeout(() => setLoading(false), 100);\n    };\n\n    if (loading) {\n        return <div>Loading portrait assets...</div>;\n    }\n\n    if (!assets) {\n        return <div>No portrait assets found!</div>;\n    }\n\n    const species = Object.keys(assets);\n    const archetypes = selectedSpecies ?\n        (assets[selectedSpecies]?.archetypes ? Object.keys(assets[selectedSpecies].archetypes) : []) :\n        [];\n\n    return (\n        <div className=\"portrait-test-page\">\n            <h1>Portrait Test Page</h1>\n\n            <div style={{ marginBottom: '20px' }}>\n                <label>\n                    Select Species:\n                    <select\n                        value={selectedSpecies || ''}\n                        onChange={(e) => setSelectedSpecies(e.target.value)}\n                    >\n                        {species.map(s => <option key={s} value={s}>{s}</option>)}\n                    </select>\n                </label>\n                <button\n                    onClick={handleClearCache}\n                    style={{ marginLeft: '20px' }}\n                >\n                    Clear Portrait Cache\n                </button>\n            </div>\n\n            {selectedSpecies && (\n                <>\n                    <h2>Base {selectedSpecies}</h2>\n                    <PortraitPreview\n                        character={{\n                            name: \"Base\",\n                            species: selectedSpecies,\n                            archetype: \"Warrior\",\n                            level: 1,\n                            appearance: {}\n                        }}\n                        width={200}\n                        height={200}\n                    />\n\n                    <h2>{selectedSpecies} Archetypes</h2>\n                    <div style={{ display: 'flex', flexWrap: 'wrap', gap: '20px' }}>\n                        {archetypes.map(archetype => (\n                            <div key={archetype} style={{ textAlign: 'center' }}>\n                                <PortraitPreview\n                                    character={{\n                                        name: archetype,\n                                        species: selectedSpecies,\n                                        archetype,\n                                        level: 1,\n                                        appearance: {}\n                                    }}\n                                    width={150}\n                                    height={150}\n                                />\n                                <div>{archetype}</div>\n                            </div>\n                        ))}\n                    </div>\n                </>\n            )}\n        </div>\n    );\n};\n\nexport default PortraitTestPage;","import React from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport \"./index.css\";\nimport { MainMenu } from \"./components/MainMenu\";\nimport { WorldSetupScreen } from \"./components/WorldSetupScreen\";\nimport CharacterLibrary from \"./components/CharacterLibrary\";\nimport CharacterCreate from \"./components/CharacterCreate\";\nimport NameGenerator from \"./components/NameGenerator\";\nimport SpellGenerator from \"./components/SpellGenerator\";\nimport SpellAssignment from \"./components/SpellAssignment\";\nimport HealingSystem from \"./components/HealingSystem\";\nimport WorldMapEngine from \"./components/WorldMapEngine\";\nimport PortraitTestPage from \"./pages/PortraitTest\";\nimport { preloadCommonPortraits } from \"./visuals/preloader\";\nimport { Engine } from \"./engine.d\";\nimport { DEFAULT_WORLDS } from \"./defaultWorlds\";\n\n// Character type definition\ntype Character = {\n  name: string;\n  gender: string;\n  species: string;\n  archetype: string;\n  background: string;\n  stats: Record<string, number>;\n  traits: string[];\n  portraitUrl?: string;\n  mode: \"POINT_BUY\" | \"ROLL\";\n};\n\n// Simple seed generator (base36 timestamp + random)\nfunction randomSeed(): string {\n  const t = Date.now().toString(36);\n  const r = Math.random().toString(36).slice(2, 8);\n  return `${t}-${r}`;\n}\n\nfunction App() {\n  const [step, setStep] = React.useState<\"menu\" | \"world\" | \"party\" | \"namegen\" | \"spellgen\" | \"spellassign\" | \"healing\" | \"worldmap\" | \"charactercreate\" | \"portraittest\">(\"menu\");\n  const [party, setParty] = React.useState<Character[]>([]);\n  const [currentCampaign, setCurrentCampaign] = React.useState<any>(null);\n  const [, forceUpdate] = React.useReducer((x: number) => x + 1, 0); // Force re-render hook\n\n  // Initialize app and setup periodic saves\n  React.useEffect(() => {\n    // Check for crash recovery on startup\n    const emergencySave = sessionStorage.getItem('world-engine-emergency-save');\n    if (emergencySave) {\n      try {\n        const campaign = JSON.parse(emergencySave);\n        console.log('Found emergency save, attempting recovery...');\n\n        const campaigns = JSON.parse(localStorage.getItem('world-engine-campaigns') || '[]');\n        const existing = campaigns.findIndex((c: any) => c.id === campaign.id);\n\n        if (existing >= 0) {\n          campaigns[existing] = campaign;\n        } else {\n          campaigns.push(campaign);\n        }\n\n        localStorage.setItem('world-engine-campaigns', JSON.stringify(campaigns));\n        sessionStorage.removeItem('world-engine-emergency-save');\n\n        alert('🚨 Emergency save recovered from previous session!');\n      } catch (error) {\n        console.error('Failed to recover emergency save:', error);\n      }\n    }\n\n    // Initialize portrait preloading\n    preloadCommonPortraits().catch(error => {\n      console.error('Failed to preload common portraits:', error);\n    });\n\n    // Setup periodic backup (every 5 minutes)\n    const backupInterval = setInterval(() => {\n      try {\n        const campaigns = JSON.parse(localStorage.getItem('world-engine-campaigns') || '[]');\n        if (campaigns.length > 0) {\n          sessionStorage.setItem('world-engine-campaigns-session', JSON.stringify(campaigns));\n          console.log('Periodic session backup completed');\n        }\n      } catch (error) {\n        console.error('Periodic backup failed:', error);\n      }\n    }, 5 * 60 * 1000); // 5 minutes\n\n    // Cleanup interval on unmount\n    return () => clearInterval(backupInterval);\n  }, []);\n\n  // Enhanced Campaign management functions with multiple backup layers\n  const saveCampaign = (campaign: any) => {\n    try {\n      const timestamp = new Date().toISOString();\n      const campaigns = JSON.parse(localStorage.getItem('world-engine-campaigns') || '[]');\n      const existing = campaigns.findIndex((c: any) => c.id === campaign.id);\n\n      const updatedCampaign = {\n        ...campaign,\n        lastPlayed: timestamp,\n        saveVersion: '2.0',\n        ...(existing < 0 && { createdAt: timestamp })\n      };\n\n      if (existing >= 0) {\n        campaigns[existing] = updatedCampaign;\n      } else {\n        campaigns.push(updatedCampaign);\n      }\n\n      // Multi-layer backup system\n      // Layer 1: Primary localStorage\n      localStorage.setItem('world-engine-campaigns', JSON.stringify(campaigns));\n\n      // Layer 2: Backup localStorage with timestamp\n      localStorage.setItem('world-engine-campaigns-backup', JSON.stringify({\n        campaigns,\n        backupTime: timestamp,\n        version: '2.0'\n      }));\n\n      // Layer 3: SessionStorage for crash recovery\n      sessionStorage.setItem('world-engine-campaigns-session', JSON.stringify(campaigns));\n\n      // Layer 4: Individual campaign backup\n      localStorage.setItem(`world-engine-campaign-${campaign.id}`, JSON.stringify(updatedCampaign));\n\n      // Layer 5: Automatic download backup every 10 saves\n      const saveCount = parseInt(localStorage.getItem('world-engine-save-count') || '0') + 1;\n      localStorage.setItem('world-engine-save-count', saveCount.toString());\n\n      if (saveCount % 10 === 0) {\n        downloadCampaignBackup(campaigns, `auto-backup-${saveCount}`);\n      }\n\n      console.log(`Campaign saved with ${campaigns.length} total campaigns (save #${saveCount})`);\n    } catch (error) {\n      console.error('Error saving campaign:', error);\n      // Attempt emergency save to sessionStorage\n      try {\n        sessionStorage.setItem('world-engine-emergency-save', JSON.stringify(campaign));\n        alert('Primary save failed, but emergency backup created. Please export your campaign manually.');\n      } catch (emergencyError) {\n        console.error('Emergency save also failed:', emergencyError);\n        alert('Critical: All save attempts failed. Please export your campaign data immediately.');\n      }\n    }\n  };\n\n  // Campaign recovery functions\n  const recoverCampaigns = () => {\n    try {\n      // Try primary storage first\n      let campaigns = JSON.parse(localStorage.getItem('world-engine-campaigns') || '[]');\n\n      if (campaigns.length === 0) {\n        // Try backup storage\n        const backup = JSON.parse(localStorage.getItem('world-engine-campaigns-backup') || '{}');\n        if (backup.campaigns && backup.campaigns.length > 0) {\n          campaigns = backup.campaigns;\n          localStorage.setItem('world-engine-campaigns', JSON.stringify(campaigns));\n          console.log('Recovered campaigns from backup storage');\n        }\n      }\n\n      if (campaigns.length === 0) {\n        // Try session storage\n        const sessionCampaigns = JSON.parse(sessionStorage.getItem('world-engine-campaigns-session') || '[]');\n        if (sessionCampaigns.length > 0) {\n          campaigns = sessionCampaigns;\n          localStorage.setItem('world-engine-campaigns', JSON.stringify(campaigns));\n          console.log('Recovered campaigns from session storage');\n        }\n      }\n\n      return campaigns;\n    } catch (error) {\n      console.error('Error recovering campaigns:', error);\n      return [];\n    }\n  };\n\n  // Export/Import functions\n  const downloadCampaignBackup = (campaigns: any[], filename = 'world-engine-campaigns-backup') => {\n    try {\n      const backup = {\n        campaigns,\n        exportDate: new Date().toISOString(),\n        version: '2.0',\n        worldEngineVersion: 'v1.0.0'\n      };\n\n      const dataStr = JSON.stringify(backup, null, 2);\n      const dataBlob = new Blob([dataStr], { type: 'application/json' });\n      const url = URL.createObjectURL(dataBlob);\n\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `${filename}-${new Date().toISOString().split('T')[0]}.json`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n\n      URL.revokeObjectURL(url);\n      console.log('Campaign backup downloaded');\n    } catch (error) {\n      console.error('Error downloading backup:', error);\n    }\n  };\n\n  const importCampaignBackup = (file: File) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        try {\n          const backup = JSON.parse(e.target?.result as string);\n          if (backup.campaigns && Array.isArray(backup.campaigns)) {\n            localStorage.setItem('world-engine-campaigns', JSON.stringify(backup.campaigns));\n            localStorage.setItem('world-engine-campaigns-backup', JSON.stringify(backup));\n            console.log(`Imported ${backup.campaigns.length} campaigns`);\n            resolve(backup.campaigns);\n          } else {\n            reject(new Error('Invalid backup file format'));\n          }\n        } catch (error) {\n          reject(error);\n        }\n      };\n      reader.readAsText(file);\n    });\n  };\n\n  const handleNewCampaign = () => {\n    // Create a new campaign ID\n    const newCampaign = {\n      id: `campaign-${Date.now()}`,\n      name: `Campaign ${Date.now().toString().slice(-4)}`,\n      worldPreset: '',\n      seed: '',\n      characters: []\n    };\n    setCurrentCampaign(newCampaign);\n    setStep(\"world\");\n  };\n\n  const handleLoadCampaign = (campaign: any) => {\n    setCurrentCampaign(campaign);\n    // Restore campaign settings to engine\n    if (campaign.worldPreset) {\n      eng.applyPresetByName?.(campaign.worldPreset);\n    }\n    if (campaign.seed) {\n      eng.setSeed?.(campaign.seed);\n    }\n    setStep(\"worldmap\"); // Go directly to the game world for existing campaigns\n  };\n\n  const handleNameGenerator = () => {\n    // Standalone name generator tool\n    setStep(\"namegen\");\n  };\n\n  const handleSpellGenerator = () => {\n    // Standalone spell generator tool\n    setStep(\"spellgen\");\n  };\n\n  const handleSpellAssignment = () => {\n    // Spell assignment tool\n    setStep(\"spellassign\");\n  };\n\n  const handleHealingSystem = () => {\n    // Standalone healing system\n    setStep(\"healing\");\n  };\n\n  const handleCharacterCreate = () => {\n    // Standalone character creator\n    setStep(\"charactercreate\");\n  };\n\n  const handlePortraitTest = () => {\n    // Portrait test page\n    setStep(\"portraittest\");\n  };\n\n  // fake engine stub for now\n  // Engine stub - will be replaced with real engine\n  const eng: Engine = {\n    state: {\n      meta: {\n        seed: (typeof window !== 'undefined') ? window.localStorage.getItem('world-seed') || undefined : undefined,\n        presets: {\n          list: [],\n          loaded: (typeof window !== 'undefined') ? (window.localStorage.getItem('world-preset') || undefined) as any : undefined,\n        },\n      },\n    },\n    applyPresetByName: (name: string) => {\n      console.log(\"applyPresetByName\", name);\n      // Use a proper state update instead of direct mutation\n      eng.state = {\n        ...eng.state,\n        meta: {\n          ...eng.state.meta,\n          presets: {\n            ...eng.state.meta.presets,\n            loaded: name\n          }\n        }\n      };\n      try { window.localStorage.setItem('world-preset', name); } catch { }\n      forceUpdate(); // Force React to re-render when preset changes\n    },\n    setSeed: (seed: string) => {\n      console.log(\"setSeed\", seed);\n      eng.state = {\n        ...eng.state,\n        meta: {\n          ...eng.state.meta,\n          seed,\n        },\n      };\n      try { window.localStorage.setItem('world-seed', seed); } catch { }\n      forceUpdate();\n    },\n    loadWorldPresets: async function () {\n      console.log(\"loadWorldPresets called\");\n      // Use a relative path so it works in static hosting and subpaths without relying on process.env at runtime\n      const url = `worlds.json`;\n      try {\n        console.log(\"Fetching\", url, \"...\");\n        const res = await fetch(url, { cache: \"no-store\" });\n        console.log(\"Fetch response:\", res.status, res.statusText);\n        if (!res.ok) throw new Error(`HTTP ${res.status}`);\n        const data = await res.json();\n        console.log(\"Raw JSON data:\", data);\n        const list = (data && Array.isArray(data.list)) ? data.list : [];\n        eng.state = {\n          ...eng.state,\n          meta: {\n            ...eng.state.meta,\n            presets: {\n              list,\n              loaded: eng.state.meta.presets.loaded\n            }\n          }\n        };\n        console.log(\"World presets loaded:\", list.map((w: any) => w.name));\n        forceUpdate();\n      } catch (error) {\n        console.error(\"Failed to load world presets from\", url, \":\", error);\n        // Fallback to built-in defaults so UI still works offline\n        eng.state = {\n          ...eng.state,\n          meta: {\n            ...eng.state.meta,\n            presets: {\n              list: DEFAULT_WORLDS,\n              loaded: eng.state.meta.presets.loaded\n            }\n          }\n        };\n        console.warn(\"Using DEFAULT_WORLDS fallback (\", DEFAULT_WORLDS.length, \")\");\n        forceUpdate();\n      }\n    },\n  };\n\n  return (\n    <>\n      {step === \"menu\" && (\n        <MainMenu\n          onNewCampaign={handleNewCampaign}\n          onLoadCampaign={handleLoadCampaign}\n          onNameGenerator={handleNameGenerator}\n          onSpellGenerator={handleSpellGenerator}\n          onSpellAssignment={handleSpellAssignment}\n          onHealingSystem={handleHealingSystem}\n          onCharacterCreate={handleCharacterCreate}\n          onPortraitTest={handlePortraitTest}\n        />\n      )}\n      {step === \"world\" && (\n        <WorldSetupScreen\n          eng={eng}\n          onNext={() => {\n            // Save campaign settings when proceeding from world setup\n            if (currentCampaign) {\n              const updatedCampaign = {\n                ...currentCampaign,\n                worldPreset: eng?.state?.meta?.presets?.loaded || '',\n                seed: eng?.state?.meta?.seed || ''\n              };\n              setCurrentCampaign(updatedCampaign);\n              saveCampaign(updatedCampaign);\n            }\n            setStep(\"party\");\n          }}\n        />\n      )}\n      {step === \"party\" && (\n        <CharacterLibrary\n          eng={eng}\n          party={party}\n          setParty={setParty}\n          onStart={() => setStep(\"worldmap\")}\n          onCreateNew={() => setStep(\"worldmap\")}\n        />\n      )}\n      {step === \"namegen\" && (\n        <NameGenerator onBack={() => setStep(\"menu\")} />\n      )}\n      {step === \"spellgen\" && (\n        <SpellGenerator onBack={() => setStep(\"menu\")} />\n      )}\n      {step === \"spellassign\" && (\n        <SpellAssignment onBack={() => setStep(\"menu\")} />\n      )}\n      {step === \"healing\" && (\n        <HealingSystem onBack={() => setStep(\"menu\")} />\n      )}\n      {step === \"worldmap\" && (\n        <WorldMapEngine\n          seedStr={eng?.state?.meta?.seed}\n          onBack={() => setStep(\"menu\")}\n        />\n      )}\n      {step === \"charactercreate\" && (\n        <div style={{ position: 'relative' }}>\n          <button\n            onClick={() => setStep(\"menu\")}\n            style={{\n              position: 'absolute',\n              top: '20px',\n              left: '20px',\n              zIndex: 1000,\n              background: '#374151',\n              color: '#f8fafc',\n              border: 'none',\n              borderRadius: '8px',\n              padding: '10px 15px',\n              cursor: 'pointer',\n              fontSize: '14px',\n              fontWeight: 'bold'\n            }}\n          >\n            ← Back to Menu\n          </button>\n          <CharacterCreate />\n        </div>\n      )}\n      {step === \"portraittest\" && (\n        <div style={{ position: 'relative' }}>\n          <button\n            onClick={() => setStep(\"menu\")}\n            style={{\n              position: 'absolute',\n              top: '20px',\n              left: '20px',\n              zIndex: 1000,\n              background: '#374151',\n              color: '#f8fafc',\n              border: 'none',\n              borderRadius: '8px',\n              padding: '10px 15px',\n              cursor: 'pointer',\n              fontSize: '14px',\n              fontWeight: 'bold'\n            }}\n          >\n            ← Back to Menu\n          </button>\n          <PortraitTestPage />\n        </div>\n      )}\n    </>\n  );\n}\n\nconst root = createRoot(document.getElementById(\"root\")!);\nroot.render(<App />);\n\n// Service worker disabled - can cause issues with SPA routing on GitHub Pages\n// if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n//   window.addEventListener('load', () => {\n//     navigator.serviceWorker.register('/World-Engine/service-worker.js')\n//       .then((registration) => {\n//         console.log('SW registered:', registration);\n//\n//         // Handle updates\n//         registration.addEventListener('updatefound', () => {\n//           const newWorker = registration.installing;\n//           if (newWorker) {\n//             newWorker.addEventListener('statechange', () => {\n//               if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\n//                 // New content available, refresh the page\n//                 window.location.reload();\n//               }\n//             });\n//           }\n//         });\n//       })\n//       .catch((err) => {\n//         console.warn('SW registration failed:', err);\n//       });\n//   });\n// }\n","import { generateCharacterPortrait } from './service';\nimport { CharacterVisualData } from './types';\n\n/**\n * Preloads portraits for a list of characters\n */\nexport async function preloadPortraits(characters: CharacterVisualData[]): Promise<void> {\n    console.log(`🔍 Preloading ${characters.length} portraits`);\n\n    // Process in batches to avoid overwhelming the browser\n    const batchSize = 3;\n    const batches = [];\n\n    for (let i = 0; i < characters.length; i += batchSize) {\n        batches.push(characters.slice(i, i + batchSize));\n    }\n\n    for (const batch of batches) {\n        await Promise.all(batch.map(character =>\n            generateCharacterPortrait(character).catch((err: Error) =>\n                console.error(`Failed to preload portrait for ${character.name}:`, err)\n            )\n        ));\n    }\n\n    console.log('✅ Portrait preloading complete');\n}\n\n/**\n * Preload portraits for common character combinations\n */\nexport async function preloadCommonPortraits(): Promise<void> {\n    const commonCharacters: CharacterVisualData[] = [\n        { name: 'Human Warrior', species: 'Human', archetype: 'Warrior', level: 1, appearance: {} },\n        { name: 'Human Mage', species: 'Human', archetype: 'Mage', level: 1, appearance: {} },\n        { name: 'Sylvanborn Ranger', species: 'Sylvanborn', archetype: 'Ranger', level: 1, appearance: {} },\n    ];\n\n    console.log(`🎭 Preloading ${commonCharacters.length} common character portraits...`);\n\n    // Preload portraits in parallel\n    const preloadPromises = commonCharacters.map(character =>\n        generateCharacterPortrait(character).catch((err: Error) =>\n            console.error(`Failed to preload portrait for ${character.name}:`, err)\n        )\n    );\n\n    await Promise.all(preloadPromises);\n    console.log('✅ Common portrait preloading complete');\n}"],"names":["module","exports","f","require","k","Symbol","for","l","m","Object","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","ref","__self","__source","q","c","a","g","b","d","e","h","call","defaultProps","$$typeof","type","props","_owner","current","Fragment","jsx","jsxs","r","t","u","v","w","x","y","z","iterator","B","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","C","assign","D","E","this","context","refs","updater","F","G","isReactComponent","setState","Error","forceUpdate","H","constructor","isPureReactComponent","I","Array","isArray","J","K","L","M","arguments","length","children","O","P","Q","replace","escape","toString","R","N","push","A","next","done","value","String","keys","join","S","T","_status","_result","then","default","U","V","transition","W","ReactCurrentDispatcher","ReactCurrentBatchConfig","X","Children","map","forEach","apply","count","toArray","only","Component","Profiler","PureComponent","StrictMode","Suspense","act","cloneElement","createContext","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_defaultValue","_globalName","_context","createElement","createFactory","bind","createRef","forwardRef","render","isValidElement","lazy","_payload","_init","memo","compare","startTransition","unstable_act","useCallback","useContext","useDebugValue","useDeferredValue","useEffect","useId","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useSyncExternalStore","useTransition","version","pop","sortIndex","id","performance","now","unstable_now","Date","setTimeout","clearTimeout","setImmediate","callback","startTime","expirationTime","priorityLevel","navigator","scheduling","isInputPending","MessageChannel","port2","port1","onmessage","postMessage","unstable_IdlePriority","unstable_ImmediatePriority","unstable_LowPriority","unstable_NormalPriority","unstable_Profiling","unstable_UserBlockingPriority","unstable_cancelCallback","unstable_continueExecution","unstable_forceFrameRate","console","error","Math","floor","unstable_getCurrentPriorityLevel","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_requestPaint","unstable_runWithPriority","unstable_scheduleCallback","delay","unstable_shouldYield","unstable_wrapCallback","assetManager","assets","Map","manifest","loadingPromise","initialize","loadManifest","basePath","process","manifestUrl","URL","concat","window","location","origin","log","response","fetch","cache","ok","warn","initializeEmptyManifest","json","indexAssets","lastUpdated","toISOString","categories","species","archetypes","clear","asset","set","getAssetsByCategory","category","from","values","filter","getAssetsForSpecies","includes","getAssetsForArchetype","archetype","getFilteredAssets","filters","tags","some","tag","getAsset","get","assetUrl","relPath","assetsPath","cleanRel","getAssetUrl","path","loadAssetContent","url","status","statusText","content","text","test","trim","slice","getCategories","_this$manifest","getSupportedSpecies","_this$manifest2","getSupportedArchetypes","_this$manifest3","isLoaded","getStats","_this$manifest4","totalAssets","size","async","ensureAssetsLoaded","getPortraitAssets","result","speciesName","speciesAssets","getFallbackSpecies","fallbacks","fallback","createRoot","hydrateRoot","WORLD_ENGINE_MANIFEST","Human","zIndex","optional","variants","Draketh","Sylvanborn","getAssetLayers","speciesManifest","fallbackLayers","toLowerCase","ashenreachClasses","skyvaultClasses","world","layers","Greenwarden","loadLayeredPortrait","characterName","sortedLayers","sort","layerContents","layer","assetPath","seed","split","reduce","acc","char","charCodeAt","random","assetContent","compositeSVG","svgElements","match","combineLayersToSVG","loadPortraitFromExternalManifest","_externalManifest$spe","externalManifest","substring","startsWith","JSON","parse","loadExternalManifest","speciesData","find","s","_s$name","name","face","faceType","index","faceAssets","hair","worldClothing","clothingCategory","clothing","archetypeClothing","item","getWorldClothingForArchetype","archetypeAssets","weapons","weapon","accessories","accessory","effects","effect","getArchetypeAssets","renderLayers","svgPath","loadPresets","presets","getPresetsByFilter","preset","gender","loadPortraitFromPreset","presetId","getPreset","label","zIndexMap","layerPath","presetToAssetLayers","aa","ca","encodeURIComponent","da","Set","ea","fa","ha","add","ia","document","ja","ka","la","ma","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","ra","sa","toUpperCase","ta","pa","isNaN","qa","oa","removeAttribute","setAttribute","setAttributeNS","xlinkHref","ua","va","wa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","Ma","stack","Na","Oa","prepareStackTrace","defineProperty","Reflect","construct","displayName","Pa","Qa","Ra","Sa","Ta","nodeName","Va","_valueTracker","getOwnPropertyDescriptor","configurable","enumerable","getValue","setValue","stopTracking","Ua","Wa","checked","Xa","activeElement","body","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","ab","bb","cb","db","ownerDocument","eb","fb","options","selected","defaultSelected","disabled","gb","dangerouslySetInnerHTML","hb","ib","jb","textContent","kb","lb","mb","nb","namespaceURI","innerHTML","valueOf","firstChild","removeChild","appendChild","MSApp","execUnsafeLocalFunction","ob","lastChild","nodeType","nodeValue","pb","animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","qb","rb","sb","style","indexOf","setProperty","charAt","tb","menuitem","area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","ub","vb","is","wb","xb","target","srcElement","correspondingUseElement","parentNode","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","addEventListener","removeEventListener","Nb","onError","Ob","Pb","Qb","Rb","Sb","Tb","Vb","alternate","return","flags","Wb","memoizedState","dehydrated","Xb","Zb","child","sibling","Yb","$b","ac","bc","cc","dc","ec","fc","gc","hc","ic","jc","kc","lc","oc","clz32","pc","qc","LN2","rc","sc","tc","uc","pendingLanes","suspendedLanes","pingedLanes","entangledLanes","entanglements","vc","xc","yc","zc","Ac","eventTimes","Cc","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","Rc","Sc","delete","pointerId","Tc","nativeEvent","blockedOn","domEventName","eventSystemFlags","targetContainers","Vc","Wc","priority","isDehydrated","containerInfo","Xc","Yc","dispatchEvent","shift","Zc","$c","ad","bd","cd","dd","ed","fd","gd","hd","Uc","stopPropagation","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","cancelBubble","persist","isPersistent","wd","xd","yd","sd","eventPhase","bubbles","cancelable","timeStamp","isTrusted","td","ud","view","detail","vd","Ad","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","zd","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Id","clipboardData","Jd","Ld","data","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","Od","Alt","Control","Meta","Shift","Pd","Qd","fromCharCode","code","repeat","locale","which","Rd","Td","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","Vd","touches","targetTouches","changedTouches","Xd","Yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","Zd","$d","ae","be","documentMode","ce","de","ee","fe","ge","he","ie","le","color","date","datetime","email","month","number","password","range","search","tel","time","week","me","ne","oe","event","listeners","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","oninput","Ae","detachEvent","Be","Ce","attachEvent","De","Ee","Fe","He","Ie","Je","Ke","node","offset","nextSibling","Le","contains","compareDocumentPosition","Me","HTMLIFrameElement","contentWindow","href","Ne","contentEditable","Oe","focusedElem","selectionRange","documentElement","start","end","selectionStart","selectionEnd","min","defaultView","getSelection","extend","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","element","left","scrollLeft","top","scrollTop","focus","Pe","Qe","Re","Se","Te","Ue","Ve","We","animationend","animationiteration","animationstart","transitionend","Xe","Ye","Ze","animation","$e","af","bf","cf","df","ef","ff","gf","hf","lf","mf","nf","Ub","instance","listener","of","has","pf","qf","rf","sf","capture","passive","tf","uf","parentWindow","vf","wf","na","xa","$a","ba","je","ke","unshift","xf","yf","zf","Af","Bf","Cf","Df","Ef","__html","Ff","Gf","Hf","Promise","Jf","queueMicrotask","resolve","catch","If","Kf","Lf","Mf","previousSibling","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","Vf","Wf","Xf","Yf","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Zf","childContextTypes","$f","ag","bg","getChildContext","cg","__reactInternalMemoizedMergedChildContext","dg","eg","fg","gg","hg","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","xg","yg","zg","Ag","Bg","elementType","deletions","Cg","pendingProps","overflow","treeContext","retryLane","Dg","mode","Eg","Fg","Gg","memoizedProps","Hg","Ig","Jg","Kg","Lg","_stringRef","Mg","Ng","Og","Pg","Qg","Rg","implementation","Sg","Tg","Ug","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","childLanes","ch","dependencies","firstContext","lanes","dh","eh","memoizedValue","fh","gh","hh","interleaved","ih","jh","kh","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","pending","lh","mh","eventTime","lane","payload","nh","oh","ph","qh","rh","sh","th","uh","vh","wh","xh","yh","tagName","zh","Ah","Bh","Ch","revealOrder","Dh","Eh","_workInProgressVersionPrimary","Fh","Gh","Hh","Ih","Jh","Kh","Lh","Mh","Nh","Oh","Ph","Qh","Rh","Sh","Th","baseQueue","queue","Uh","Vh","Wh","lastRenderedReducer","action","hasEagerState","eagerState","lastRenderedState","dispatch","Xh","Yh","Zh","$h","ai","getSnapshot","bi","ci","di","lastEffect","stores","ei","fi","gi","hi","ii","create","destroy","deps","ji","ki","li","mi","ni","oi","pi","qi","ri","si","ti","ui","vi","wi","xi","yi","zi","Ai","Bi","readContext","useMutableSource","unstable_isNewReconciler","identifierPrefix","Ci","Di","Ei","_reactInternals","Fi","shouldComponentUpdate","Gi","contextType","state","Hi","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Ii","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Ji","message","digest","Ki","Li","Mi","WeakMap","Ni","Oi","Pi","Qi","getDerivedStateFromError","componentDidCatch","Ri","componentStack","Si","pingCache","Ti","Ui","Vi","Wi","Xi","Yi","Zi","$i","aj","bj","cj","dj","baseLanes","cachePool","transitions","ej","fj","gj","hj","ij","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","jj","kj","pendingContext","lj","zj","Aj","Bj","Cj","mj","nj","oj","pj","qj","sj","dataset","dgst","tj","uj","_reactRetry","rj","subtreeFlags","vj","wj","isBackwards","rendering","renderingStartTime","last","tail","tailMode","xj","Dj","Ej","Fj","wasMultiple","multiple","suppressHydrationWarning","onClick","onclick","createElementNS","autoFocus","createTextNode","Gj","Hj","Ij","Jj","Kj","WeakSet","Lj","Mj","Nj","Pj","Qj","Rj","Sj","Tj","Uj","Vj","insertBefore","_reactRootContainer","Wj","Xj","Yj","Zj","onCommitFiberUnmount","componentWillUnmount","ak","bk","ck","dk","ek","isHidden","fk","gk","display","hk","ik","jk","kk","__reactInternalSnapshotBeforeUpdate","src","Vk","lk","ceil","mk","nk","Y","Z","pk","qk","rk","sk","tk","Infinity","uk","vk","wk","xk","yk","zk","Ak","Bk","Ck","Dk","callbackNode","expirationTimes","expiredLanes","wc","callbackPriority","ig","Ek","Fk","Gk","Hk","Ik","Jk","Kk","Lk","Mk","Nk","Ok","finishedWork","finishedLanes","Pk","timeoutHandle","Qk","Rk","Sk","Tk","Uk","mutableReadLanes","Bc","Oj","onCommitFiberRoot","mc","onRecoverableError","Wk","onPostCommitFiberRoot","Xk","Yk","$k","pendingChildren","al","mutableSourceEagerHydrationData","bl","pendingSuspenseBoundaries","dl","el","fl","gl","hl","il","yj","Zk","kl","reportError","ll","_internalRoot","ml","nl","ol","pl","rl","ql","unmount","unstable_scheduleHydration","splice","querySelectorAll","stringify","form","sl","usingClientEntryPoint","Events","tl","findFiberByHostInstance","bundleType","rendererPackageName","ul","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setErrorHandler","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","vl","isDisabled","supportsFiber","inject","createPortal","cl","unstable_strictMode","findDOMNode","flushSync","hydrate","hydratedSources","_getVersion","_source","unmountComponentAtNode","unstable_batchedUpdates","unstable_renderSubtreeIntoContainer","checkDCE","err","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","_typeof","o","toPropertyKey","i","toPrimitive","TypeError","Number","_defineProperty","writable","ownKeys","getOwnPropertySymbols","_objectSpread2","getOwnPropertyDescriptors","defineProperties","definition","obj","prop","CLASS_VISUAL_THEMES","colorPalette","primary","secondary","accent","metal","preferredAssets","armor","visualTraits","build","stance","aura","description","getClassVisualTheme","SeededRandom","hashString","str","hash","abs","pow","randomInt","max","choose","array","shuffle","j","weightedChoose","items","totalWeight","sum","weight","randomValue","reset","generateCharacterSeed","characterData","level","createCharacterRandom","ColorVariations","forSpecies","rng","variations","skinTone","hairColor","eyeColor","renderer2D","setupDefaultLayers","renderBackground","renderBody","renderClothing","renderHair","renderFace","renderAccessories","renderEffects","renderToCanvas","canvas","ctx","getContext","setupCanvas","renderToSVG","dimensions","getDimensions","assetBasedSVG","tryAssetBasedSVG","svg","renderLayerToSVG","speciesToTry","fallbackSpecies","trySpeciesAssets","theme","customizedSVG","applyThemeColors","filterCriteria","externalError","customized","imageSmoothingEnabled","quality","imageSmoothingQuality","clearRect","sizes","small","medium","large","mockSvg","outerHTML","bgColor","CanvasRenderingContext2D","fillStyle","fillRect","_data$appearance","skinColor","getSkinColor","appearance","centerX","centerY","radius","beginPath","arc","PI","fill","_data$appearance2","clothingColor","_data$appearance3","getHairColor","_data$appearance4","getEyeColor","eyeSize","eyeOffset","effectColor","strokeStyle","globalAlpha","lineWidth","stroke","tone","colors","portraitCache","visualService","plugins","initialized","registerDefaultPlugins","registerPlugin","render2DSVGPortrait","supports","renderTextPlaceholder","plugin","generatePortrait","format","enhancedData","enhanceCharacterData","findBestPlugin","createRenderContext","resultType","isString","preview","isSVG","finalResult","success","metadata","renderTime","cacheKey","generateCacheKey","getUsedAssets","hasData","dataType","defaultAppearance","speciesDefaults","_objectSpread","generateDefaultAppearance","colorVariations","artStyle","colorScheme","pluginArray","keyData","btoa","flat","renderCharacterToSVG","dim","primaryColor","secondaryColor","speciesColor","pluginNames","assetStats","isReady","generateCharacterPortrait","bindPortraitToCharacter","character","_options$size","_options$size2","visualData","portraitOptions","portraitUrl","Blob","PortraitPreview","_ref","isInitialized","setIsInitialized","isGenerating","setIsGenerating","portraitData","setPortraitData","errorMessage","setErrorMessage","showDebug","setShowDebug","initSystem","toggleDebug","containerStyle","position","alignItems","justifyContent","border","backgroundColor","_jsx","className","_jsxs","_Fragment","right","bottom","textAlign","background","borderRadius","padding","fontSize","maxHeight","VisualUtils","MainMenu","onNewCampaign","onLoadCampaign","onNameGenerator","onSpellGenerator","onSpellAssignment","onHealingSystem","onCharacterCreate","onPortraitTest","campaigns","setCampaigns","characters","setCharacters","activeTab","setActiveTab","selectedCharacter","setSelectedCharacter","loadCampaigns","loadCharacters","recoverCampaigns","primarySaved","localStorage","getItem","backupSaved","alert","backup","setItem","sessionCampaigns","sessionStorage","saved","formatDate","dateStr","toLocaleDateString","year","day","hour","minute","tabStyle","isActive","cursor","borderBottom","gridStyle","gridTemplateColumns","gap","marginBottom","cardStyle","newCardStyle","flexDirection","minHeight","buttonStyle","deleteButtonStyle","marginLeft","CharacterDetailModal","_ref2","_character$data","_character$data2","_character$data3","onClose","statBoxStyle","maxWidth","overflowY","margin","race","characterClass","createdAt","stats","entries","_ref3","stat","numValue","traits","flexWrap","trait","knownCantrips","knownSpells","cantrip","spell","marginTop","fontFamily","WebkitBackgroundClip","WebkitTextFillColor","backgroundClip","downloadBackup","exportDate","worldEngineVersion","dataStr","dataBlob","createObjectURL","download","click","revokeObjectURL","accept","onChange","_event$target$files","file","files","reader","FileReader","onload","_e$target","_backup$campaigns","_backup$characters","readAsText","forceRecovery","recovered","backupChars","chars","fontStyle","campaign","worldPreset","lastPlayed","confirm","campaignId","updated","deleteCampaign","_character$data4","_character$data5","_character$data6","characterId","deleteCharacter","WorldSetupScreen","_eng$state","_eng$state$meta","_eng$state4","_eng$state4$meta","_current$factions","eng","onNext","setPresets","chosen","setChosen","setError","setSeed","_eng$loadWorldPresets","_eng$state2","_eng$state2$meta","_eng$state2$meta$pres","loadWorldPresets","list","_eng$state3","_eng$state3$meta","_presets$find","presetSeed","_eng$setSeed","makeRandomSeed","_eng$setSeed2","_eng$applyPresetByNam","applyPresetByName","htmlFor","_eng$setSeed3","placeholder","factions","PRESET_CHARACTERS","STR","DEX","CON","INT","WIS","CHA","_eng$state$meta$prese","party","setParty","onStart","onCreateNew","savedCharacters","setSavedCharacters","selectedTab","setSelectedTab","viewingCharacter","setViewingCharacter","addToParty","loaded","exportCharacters","imported","borderRight","alt","objectFit","textOverflow","whiteSpace","_","removeFromParty","CLASS_DEFINITIONS","statModifiers","strength","constitution","wisdom","intelligence","dexterity","charisma","primaryStats","abilities","equipment","faction","DEFAULT_WORLDS","classes","lore","calculateStatCost","cost","statValue","DEFAULT_STATS","calculateMaxCantrips","intScore","wisScore","baseCantrips","abilityBonus","calculateMaxSpells","baseSpells","calculateMaxSpellLevel","getSpellcastingClass","TRAIT_DEFINITIONS","mechanicalEffect","bonus","TRAIT_CATALOG","SPECIES_TRAIT_RULES","automatic","forbidden","preferred","CLASS_TRAIT_RULES","SPECIES_OPTIONS","GENDER_OPTIONS","CLASS_OPTIONS","RACIAL_MODIFIERS","CLASS_MODIFIERS","classData","BACKGROUND_TEMPLATES","BACKGROUND_WORDS","profession","goal","guardian","skill","challenge","role","tragedy","burden","redemption","talent","homeland","incident","quest","descriptor","past_action","turning_point","PREMADE_CHARACTERS","canAffordStatIncrease","currentValue","pointsLeft","MAX_STAT","newValue","currentCost","container","card","sectionTitle","randInt","filename","blob","abilityMod","score","getFinalStat","baseStat","_RACIAL_MODIFIERS$spe","_CLASS_MODIFIERS$arch","final","CharacterCreate","_char$knownCantrips","_char$knownSpells","setChar","spent","setField","val","getAutomaticTraits","speciesRules","classRules","isTraitForbidden","traitName","React","automaticTraits","currentTraits","needsUpdate","derived","lvl","finalCON","finalSTR","finalDEX","hpPerLevel","classHPBonus","raceHPBonus","traitHPBonus","totalHPPerLevel","hp","naturalACBonus","carry","TextRow","SelectRow","parseInt","rows","resize","rolled","rolls","roll4d6DropLowest","finalStat","bonusText","_RACIAL_MODIFIERS$spe2","_CLASS_MODIFIERS$arch2","racialBonus","classBonus","getBonusText","dec","inc","traitDef","isSelected","isAutomatic","isForbidden","isPreferred","isTraitPreferred","borderColor","badgeText","badgeColor","toggleTrait","benefit","cantripId","availableCantrips","randomCantrip","spellId","savedSpells","maxLevel","availableSpells","randomSpell","characterWithPortrait","palette","finalizedCharacter","finalizeCharacter","existingCharacters","raw","_unused","premade","loadPremade","hasName","hasSpecies","hasArchetype","Boolean","option","NAME_DATA","human","male","first","female","elf","dwarf","orc","places","cities","towns","taverns","FANTASY_SYLLABLES","NameGenerator","onBack","setCategory","setGender","nameType","setNameType","generatedNames","setGeneratedNames","savedNames","setSavedNames","getRandomElement","generateCharacterName","genderData","firstName","lastName","generatePlaceName","generateFantasyName","syllableCount","generateNames","names","accentColor","textTransform","saveName","exportSavedNames","removeSavedName","PREMADE_SPELLS","abjuration","school","castingTime","components","duration","conjuration","divination","enchantment","evocation","healing","illusion","necromancy","transmutation","getAllPremadeSpells","getPremadeSpellsBySchool","SCHOOLS","CASTING_TIMES","RANGES","DURATIONS","COMPONENT_OPTIONS","verbal","somatic","material","SPELL_GUIDELINES","damage","limitations","CustomSpellCreator","onSpellCreated","spellData","setSpellData","verbalDetail","somaticDetail","materialDetail","validationErrors","setValidationErrors","previewSpell","setPreviewSpell","generateSpell","errors","validateSpell","getSelectedSchool","getGuidelines","marginRight","handlePreview","handleSave","paddingLeft","SPELL_DATA","schools","SpellGenerator","_SPELL_DATA$schools$f","setMode","selectedSchool","setSelectedSchool","generatedSpells","setGeneratedSpells","setSavedSpells","handleCustomSpellCreated","prev","loadPremadeSpells","spells","onMouseEnter","transform","onMouseLeave","newSavedSpells","saveSpell","SpellAssignment","setAvailableSpells","selectedSpell","setSelectedSpell","getCharacterClass","class","getCharacterLevel","testCharacters","baseStats","finalStats","hitPoints","allCharacters","savedChar","canCharacterLearnSpell","classInfo","_character$knownCantr","_character$knownSpell","removeSpell","characterIndex","spellName","isCantrip","updatedCharacters","getSpellcastingInfo","spellInfo","canLearn","assignSpell","charIndex","spellIndex","HealingSystem","healingLog","setHealingLog","_charData$baseStats","charData","baseHP","maxHP","normalizedChar","addToLog","customChars","rollDice","sides","getModifier","getHealthColor","healingSpells","conModifier","healingAmount","oldHP","newHP","actualHealing","naturalHealing","simulateInjury","casterSelect","querySelector","casterIndex","castHealingSpell","caster","spellDesc","wisModifier","entry","imul","nextFloat","nextInt","pick","ValueNoise2D","permTable","gradients","angle","cos","sin","fade","lerp","grad","noise","fbm","octaves","persistence","lacunarity","amplitude","frequency","maxValue","ridge","DomainWarp","noiseX","noiseY","warp","WorldNoise","elevation","temperature","moisture","getElevation","continentFreq","warpStrength","warped","getTemperature","mapHeight","baseTemp","altitudeCooling","getMoisture","baseMoisture","windwardBonus","CHUNK_SIZE","ChunkManager","config","chunks","seaLevel","featureFreq","mapWidth","worldToChunk","worldX","worldY","chunkX","chunkY","chunkKey","tileKey","ensureRadius","centerChunk","chunkRadius","dx","dy","chunkCenterX","chunkCenterY","sqrt","ensureChunk","chunk","createChunk","generated","generateChunk","lastAccessed","coord","tiles","startX","startY","localX","localY","tile","generateTile","biome","determineBiome","river","road","discovered","getTile","hasTile","chunkObj","unloadBeyond","keepRadius","unloaded","keepChunkRadius","chunksToDelete","generatedChunks","totalTiles","memoryEstimateMB","totalChunks","updateConfig","newConfig","invalidateAll","PhysicalAbilitiesGenerator","generateAbility","tier","templates","ABILITY_TEMPLATES","template","generateAbilityName","prefix","Novice","Adept","Expert","Master","Legendary","term","Weaponmastery","Combat","Athletics","Tactics","Survival","Stealth","Defense","Berserker","getAvailableAbilities","knownAbilities","available","requirements","minLevel","meetsStatRequirements","required","requiredStats","requiredEquipment","every","req","prerequisiteAbilities","prereq","ability","generateAbilityScroll","difficulty","staminaCost","special","cooldown","buff","modifier","MagicalSpellsGenerator","SPELL_TEMPLATES","generateSpellName","Cantrip","Apprentice","Archmage","Evocation","Enchantment","Transmutation","Divination","Conjuration","Necromancy","Illusion","Abjuration","getAvailableSpells","requiredComponents","comp","prerequisiteSpells","generateSpellScroll","etherCost","ChokepointManager","physicalAbilities","magicalSpells","chokepoints","regions","generateRegions","identifyChokepoints","placeFortifications","centerDistance","difficultyLevel","biomePreference","difficultyRings","distance","ring","clampedX","clampedY","getBiomesForDifficulty","generateRegionName","generateRegionDescription","levelNames","descriptions","chokepointsFound","regionA","regionB","levelDiff","findChokepointsBetweenRegions","samples","isNaturalChokepoint","determineChokepointType","chokepoint","calculateChokepointWidth","fortified","controlsAccess","fortification","surroundingElevations","checkX","checkY","checkElevation","avgSurrounding","eastWestDiff","getElevationSafe","northSouthDiff","nearbyWater","bridge","pass","strait","canyon","tunnel","gate","sortedChokepoints","getDistanceFromStart","fortificationCount","maxFortifications","shouldPlaceFortification","calculateFortificationDifficulty","createFortification","strategicValue","calculateStrategicValue","normalized","generateFortificationNames","garrison","requiredLevel","requiredGear","getRequiredGear","rewards","generateRewards","cleared","generateFortificationDescription","prefixes","typeNames","keep","watchtower","wall","barricade","outpost","citadel","suffix","gear","generateEquipmentName","spellScroll","abilityScroll","getChokepoints","getChokepointAt","getRegions","getRegionAt","region","isRouteBlocked","fromX","fromY","toX","toY","blockedBy","steps","_chokepoint$fortifica","clearFortification","WorldEngine","chunkManager","chokepointManager","loadedFromSave","existingSave","loadFromStorage","removeItem","createNewGame","actualSeed","generateSeed","defaultConfig","movementCostPerTile","encounterBaseChance","weatherChangeDays","fogOfWarRadius","chunkLoadRadius","chunkUnloadRadius","mergedConfig","gameplay","spawnLocation","findLandSpawnLocation","spawnTile","actuallyNeedsBoat","needsBoat","members","supplies","food","water","gold","speed","maxHitPoints","experience","stamina","maxStamina","ether","maxEther","minutes","season","weather","generateWeather","encounterClock","riskLevel","lastEncounter","encounterChance","activeEncounter","completedEncounters","discoverRadius","createMainCity","autoSave","saveData","save","landCandidates","candidate","tickTravel","newX","round","newY","hasBoat","baseCost","terrainModifier","getTerrainMovementModifier","weatherModifier","movementModifier","actualCost","advanceTime","updateEncounterRisk","checkForEncounter","updateWeather","seasons","currentIndex","weatherVisibility","visibility","actualRadius","timeCost","riskIncrease","settlement","partyX","partyY","_this$state","_this$state$party","_this$state2","_this$state2$party","_this$state3","_ref4","_this$state4","_this$state4$time","currentSeed","currentDay","intensity","weatherRng","biomeWeatherChances","getBiomeWeatherChances","roll","weatherType","cumulative","chance","getWeatherEffects","baseChances","Ocean","Clear","Rain","Storm","Wind","Coast","Fog","Grass","Forest","Jungle","Desert","Mountain","Snow","Tundra","Taiga","Swamp","Savanna","rest","hours","totalHealing","totalStaminaRestored","totalEtherRestored","takeDamage","heal","amount","isDiscovered","getTimeOfDay","timeOfDay","gameTime","padStart","wasLoadedFromSave","load","updateWorldConfig","_this$chokepointManag","_this$chokepointManag2","_this$chokepointManag3","_this$chokepointManag4","checkTravelBlockage","_this$chokepointManag5","attemptFortificationClear","fort","partyLevel","hasRequiredGear","_this$chokepointManag6","reward","getCurrentRegion","canTravelTo","canTravel","unclearedForts","cp","fortNames","_cp$fortification","reason","generateCityName","population","surroundTile","suffixes","_tile$settlement","fixedEncounter","getFixedEncounterAt","randomEncounter","generateRandomEncounter","encounters","danger","selectedEncounter","isFixed","reputation","enc","getActiveEncounter","completeEncounter","encounter","gainExperience","dismissEncounter","getAvailableMagicalSpells","learnMagicalSpell","castMagicalSpell","getAvailablePhysicalAbilities","learnPhysicalAbility","abilityName","usePhysicalAbility","restoreStamina","restoreEther","useEther","requiredXP","statKeys","randomStat","addCharacter","substr","calculateMaxHitPoints","calculateMaxStamina","calculateMaxEther","getCharacter","getPartyCharacters","learnPhysicalAbilityForCharacter","getAvailablePhysicalAbilitiesForCharacter","learnMagicalSpellForCharacter","getAvailableMagicalSpellsForCharacter","conBonus","levelBonus","intBonus","wisBonus","GameHUD","engine","cameraLocked","onCenterParty","calculateHPAndAC","BACKGROUND_OPTIONS","GameMenu","isVisible","showGrid","onToggleGrid","onToggleCameraLock","onRefresh","selectedCharacterId","setSelectedCharacterId","boxShadow","icon","tab","CharacterSelector","onSelectCharacter","AbilitiesBySchool","SpellsBySchool","CharacterCreationForm","onchange","_files","_characters$find","openSchools","setOpenSchools","abilitiesBySchool","grouped","newOpen","toggleSchool","_ref5","spellsBySchool","_ref6","formData","setFormData","availablePoints","setAvailablePoints","selectedTraits","setSelectedTraits","speciesInfo","handleStatChange","oldValue","getStatCost","paddingBottom","_ref7","_ref8","_ref9","minWidth","_ref0","statKey","statsForCalc","allTraits","conMod","dexMod","totalPointsUsed","traitInfo","calculated","handleSubmit","TileDisplay","isExplored","grass","forest","mountain","desert","snow","swamp","town","dungeon","ruins","cave","textShadow","title","features","structure","WorldRenderer","canvasRef","tileSize","viewportWidth","viewportHeight","endX","endY","pointerEvents","backgroundImage","backgroundSize","GameModals","showWorldGenModal","onCloseWorldGenModal","onWorldGenSubmit","showEncounterModal","onCloseEncounterModal","onEncounterAction","showCharacterModal","onCloseCharacterModal","step","CharacterList","WorldMapEngine","seedStr","normalizeStats","engineStats","setShowGrid","setCameraLocked","setStats","showGameMenu","setShowGameMenu","setShowEncounterModal","setShowCharacterModal","setShowWorldGenModal","viewport","setViewport","interval","setInterval","clearInterval","handleResize","clientWidth","clientHeight","handleMove","handleRest","handleKeyDown","HTMLInputElement","HTMLTextAreaElement","handleEncounterAction","handleWorldGenSubmit","PortraitTestPage","_assets$selectedSpeci","setAssets","loading","setLoading","selectedSpecies","setSelectedSpecies","portraitAssets","loadAssets","handleClearCache","App","setStep","currentCampaign","setCurrentCampaign","emergencySave","existing","findIndex","commonCharacters","preloadPromises","all","preloadCommonPortraits","backupInterval","downloadCampaignBackup","_unused2","res","handleNewCampaign","newCampaign","handleNameGenerator","handleSpellGenerator","handleSpellAssignment","handleHealingSystem","handleCharacterCreate","handlePortraitTest","updatedCampaign","timestamp","saveVersion","backupTime","saveCount","emergencyError","saveCampaign","CharacterLibrary","getElementById"],"sourceRoot":""}